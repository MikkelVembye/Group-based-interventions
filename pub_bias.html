<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-10-23">

<title>Publication bias testing in Dalgaard et al.&nbsp;(2025)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="pub_bias_files/libs/clipboard/clipboard.min.js"></script>
<script src="pub_bias_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="pub_bias_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="pub_bias_files/libs/quarto-html/popper.min.js"></script>
<script src="pub_bias_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="pub_bias_files/libs/quarto-html/anchor.min.js"></script>
<link href="pub_bias_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="pub_bias_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="pub_bias_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="pub_bias_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="pub_bias_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#used-package" id="toc-used-package" class="nav-link active" data-scroll-target="#used-package">Used package</a></li>
  <li><a href="#reintegration" id="toc-reintegration" class="nav-link" data-scroll-target="#reintegration"><strong>Reintegration</strong></a>
  <ul class="collapse">
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#funnel-plots" id="toc-funnel-plots" class="nav-link" data-scroll-target="#funnel-plots">Funnel plots</a>
  <ul class="collapse">
  <li><a href="#overall" id="toc-overall" class="nav-link" data-scroll-target="#overall">Overall</a></li>
  <li><a href="#investigating-the-impact-of-cano-vindel-et-al." id="toc-investigating-the-impact-of-cano-vindel-et-al." class="nav-link" data-scroll-target="#investigating-the-impact-of-cano-vindel-et-al.">Investigating the impact of Cano-Vindel et al.</a></li>
  <li><a href="#funnel-plot-across-outcomes" id="toc-funnel-plot-across-outcomes" class="nav-link" data-scroll-target="#funnel-plot-across-outcomes">Funnel plot across outcomes</a></li>
  </ul></li>
  <li><a href="#publication-bias-tests" id="toc-publication-bias-tests" class="nav-link" data-scroll-target="#publication-bias-tests">Publication bias tests</a>
  <ul class="collapse">
  <li><a href="#hyema" id="toc-hyema" class="nav-link" data-scroll-target="#hyema">HYEMA</a></li>
  <li><a href="#puniform" id="toc-puniform" class="nav-link" data-scroll-target="#puniform">Puniform*</a></li>
  <li><a href="#worst-case-meta-analysis" id="toc-worst-case-meta-analysis" class="nav-link" data-scroll-target="#worst-case-meta-analysis">Worst-case meta-analysis</a></li>
  <li><a href="#che-iscw" id="toc-che-iscw" class="nav-link" data-scroll-target="#che-iscw">CHE-ISCW</a></li>
  <li><a href="#petpeese" id="toc-petpeese" class="nav-link" data-scroll-target="#petpeese">PET/PEESE</a></li>
  <li><a href="#selection-models" id="toc-selection-models" class="nav-link" data-scroll-target="#selection-models">Selection models</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#mental-health" id="toc-mental-health" class="nav-link" data-scroll-target="#mental-health"><strong>Mental health</strong></a>
  <ul class="collapse">
  <li><a href="#data-1" id="toc-data-1" class="nav-link" data-scroll-target="#data-1">Data</a></li>
  <li><a href="#funnel-plots-1" id="toc-funnel-plots-1" class="nav-link" data-scroll-target="#funnel-plots-1">Funnel plots</a>
  <ul class="collapse">
  <li><a href="#overall-1" id="toc-overall-1" class="nav-link" data-scroll-target="#overall-1">Overall</a></li>
  <li><a href="#investigating-the-impact-of-cano-vindel-et-al.-1" id="toc-investigating-the-impact-of-cano-vindel-et-al.-1" class="nav-link" data-scroll-target="#investigating-the-impact-of-cano-vindel-et-al.-1">Investigating the impact of Cano-Vindel et al.</a></li>
  </ul></li>
  <li><a href="#publication-bias-tests-mental-health" id="toc-publication-bias-tests-mental-health" class="nav-link" data-scroll-target="#publication-bias-tests-mental-health">Publication bias tests (mental health)</a>
  <ul class="collapse">
  <li><a href="#hyema-1" id="toc-hyema-1" class="nav-link" data-scroll-target="#hyema-1">HYEMA</a></li>
  <li><a href="#puniform-1" id="toc-puniform-1" class="nav-link" data-scroll-target="#puniform-1">Puniform*</a></li>
  <li><a href="#worst-case-meta-analysis-1" id="toc-worst-case-meta-analysis-1" class="nav-link" data-scroll-target="#worst-case-meta-analysis-1">Worst-case meta-analysis</a></li>
  <li><a href="#che-iscw-1" id="toc-che-iscw-1" class="nav-link" data-scroll-target="#che-iscw-1">CHE-ISCW</a></li>
  <li><a href="#petpeese-1" id="toc-petpeese-1" class="nav-link" data-scroll-target="#petpeese-1">PET/PEESE</a></li>
  <li><a href="#selection-models-1" id="toc-selection-models-1" class="nav-link" data-scroll-target="#selection-models-1">Selection models</a></li>
  </ul></li>
  <li><a href="#reintegration-1" id="toc-reintegration-1" class="nav-link" data-scroll-target="#reintegration-1">Reintegration</a></li>
  <li><a href="#mental-health-1" id="toc-mental-health-1" class="nav-link" data-scroll-target="#mental-health-1">Mental health</a></li>
  </ul></li>
  <li><a href="#publication-and-small-study-bias-tests-across-type-of-registration" id="toc-publication-and-small-study-bias-tests-across-type-of-registration" class="nav-link" data-scroll-target="#publication-and-small-study-bias-tests-across-type-of-registration">Publication and small study bias tests across type of registration</a>
  <ul class="collapse">
  <li><a href="#reintegration-2" id="toc-reintegration-2" class="nav-link" data-scroll-target="#reintegration-2">Reintegration</a></li>
  <li><a href="#mental-health-2" id="toc-mental-health-2" class="nav-link" data-scroll-target="#mental-health-2">Mental health</a></li>
  </ul></li>
  <li><a href="#publication-and-small-study-bias-tests-across-types-of-outcomes" id="toc-publication-and-small-study-bias-tests-across-types-of-outcomes" class="nav-link" data-scroll-target="#publication-and-small-study-bias-tests-across-types-of-outcomes">Publication and small study bias tests across types of outcomes</a>
  <ul class="collapse">
  <li><a href="#reintegration-3" id="toc-reintegration-3" class="nav-link" data-scroll-target="#reintegration-3">Reintegration</a></li>
  <li><a href="#mental-health-3" id="toc-mental-health-3" class="nav-link" data-scroll-target="#mental-health-3">Mental health</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Publication bias testing in Dalgaard et al.&nbsp;(2025)</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 23, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="used-package" class="level1">
<h1>Used package</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r packages}</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(robvis)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(metafor)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(clubSandwich)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wildmeta)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(metaselection)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggh4x)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(future)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(puniform)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PublicationBias)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># for tidying</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)   <span class="co"># for tidying variable names</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(boot)      <span class="co"># for bootstrapping</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tictoc) </span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Loading in helper function used to calculate effect size and conduct the analysis</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"Helpers.R"</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"pub-bias-test-helpers.R"</span>)</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="reintegration" class="level1">
<h1><strong>Reintegration</strong></h1>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load-data}</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>reint_ma_dat <span class="ot">&lt;-</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readRDS</span>(<span class="st">"reint_ma_dat.rds"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">esid =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>(),</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">se_gt_pop =</span> <span class="fu">sqrt</span>(vgt_pop), </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">sqrt</span>(Wgt_pop),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">t_i =</span> gt_pop<span class="sc">/</span><span class="fu">sqrt</span>(Wgt)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Secondary analysis</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#mental_health_dat &lt;- </span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  readRDS("mental_health_dat.rds") |&gt; </span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co">#    esid = 1:n(),</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co">#    se_gt_pop = sqrt(vgt_pop), </span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co">#    Wse_pop = sqrt(Wgt_pop)</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co">#    )</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="funnel-plots" class="level2">
<h2 class="anchored" data-anchor-id="funnel-plots">Funnel plots</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, main-res}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>V_mat <span class="ot">&lt;-</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>overall_res <span class="ot">&lt;-</span> </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    gt_pop,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat, </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>overall_res</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>V_mat_outcome <span class="ot">&lt;-</span> </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> outcome_type,</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>sub_res <span class="ot">&lt;-</span> </span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_outcome, </span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> outcome_type <span class="sc">|</span> study, <span class="sc">~</span> outcome_type <span class="sc">|</span> esid),</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>sub_res</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Mental health</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="co"># MHV: Conduct these tests, when the main analyses has been made</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="co">#V_mat_mental &lt;- metafor::vcalc(</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a><span class="co">#    vi = vgt_pop, </span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a><span class="co">#    type = outcome_time, </span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a><span class="co">#    grp1 = trt_name,</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a><span class="co">#    w1 = N_t, </span></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a><span class="co">#    grp2 = control,</span></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a><span class="co">#    w2 = N_c, </span></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a><span class="co">#    rho = rho</span></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a><span class="co">#overall_res_mental &lt;- </span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a><span class="co">#  rma.mv(</span></span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt_pop ~ + 1,</span></span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a><span class="co">#    V = V_mat_mental, </span></span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a><span class="co">#    random = ~ 1 | study / esid,</span></span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a><span class="co">#    sparse = TRUE</span></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a><span class="co">#  robust(cluster = study, clubSandwich = TRUE)</span></span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a><span class="co">#overall_res_mental</span></span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a><span class="co">#sub_res_mental &lt;- </span></span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a><span class="co">#  rma.mv(</span></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt_pop ~ -1 + analysis_plan,</span></span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a><span class="co">#    V = V_mat_mental, </span></span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a><span class="co">#    random = list(~ analysis_plan | study, ~ analysis_plan | esid),</span></span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a><span class="co">#    struct = c("DIAG", "DIAG"),</span></span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a><span class="co">#    sparse = TRUE</span></span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a><span class="co">#sub_res_mental</span></span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="overall" class="level3">
<h3 class="anchored" data-anchor-id="overall">Overall</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reint-overall-fp}</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Funnel plot across all reintegrational outcomes"</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Overall average effect</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>V_mat_mod <span class="ot">&lt;-</span> metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> study,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> outcome_time, </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp1 =</span> trt_name,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">w1 =</span> N_t, </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp2 =</span> control,</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">w2 =</span> N_c, </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">rho =</span> rho</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>W <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_mod)</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>che <span class="ot">&lt;-</span> </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="co"># ISCW</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW-RVE</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>che_iscw <span class="ot">&lt;-</span> </span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">+</span> Wse_pop <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a><span class="do">## Preregistered vs. not preregistered </span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>prereg_dat <span class="ot">&lt;-</span>  </span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>V_mat_prereg <span class="ot">&lt;-</span> </span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat,</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>W_prereg <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_prereg)</span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>egg_prereg <span class="ot">&lt;-</span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_prereg,</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_prereg,</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop,</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat,</span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>egg_prereg_res <span class="ot">&lt;-</span> </span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>notprereg_dat <span class="ot">&lt;-</span>  </span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>V_mat_notprereg <span class="ot">&lt;-</span>  </span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> notprereg_dat,</span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>W_notprereg <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_notprereg)</span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>egg_notprereg <span class="ot">&lt;-</span></span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_notprereg,</span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_notprereg,</span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop,</span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> notprereg_dat,</span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a>egg_notprereg_res <span class="ot">&lt;-</span> </span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Not preregistered"</span>,</span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_notprereg<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_notprereg<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a>egg_res_subgrouped <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(egg_prereg_res, egg_notprereg_res)</span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a>egg_res_subgrouped</span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-138"><a href="#cb4-138" aria-hidden="true" tabindex="-1"></a><span class="co"># PESCE+ model</span></span>
<span id="cb4-139"><a href="#cb4-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-140"><a href="#cb4-140" aria-hidden="true" tabindex="-1"></a>prereg_arg <span class="ot">&lt;-</span> </span>
<span id="cb4-141"><a href="#cb4-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.rma_arg_tbl</span>(</span>
<span id="cb4-142"><a href="#cb4-142" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> <span class="st">"gt_pop"</span>, </span>
<span id="cb4-143"><a href="#cb4-143" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> <span class="st">"vgt_pop"</span>, </span>
<span id="cb4-144"><a href="#cb4-144" aria-hidden="true" tabindex="-1"></a>    <span class="at">covars =</span> <span class="st">"prereg_chr"</span>,</span>
<span id="cb4-145"><a href="#cb4-145" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"SCEp"</span>,</span>
<span id="cb4-146"><a href="#cb4-146" aria-hidden="true" tabindex="-1"></a>    <span class="at">r =</span> <span class="fl">0.8</span>, </span>
<span id="cb4-147"><a href="#cb4-147" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb4-148"><a href="#cb4-148" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"categorical"</span></span>
<span id="cb4-149"><a href="#cb4-149" aria-hidden="true" tabindex="-1"></a>  ); prereg_arg</span>
<span id="cb4-150"><a href="#cb4-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-151"><a href="#cb4-151" aria-hidden="true" tabindex="-1"></a><span class="co"># PESCEp+ </span></span>
<span id="cb4-152"><a href="#cb4-152" aria-hidden="true" tabindex="-1"></a>subgroup_means <span class="ot">&lt;-</span> <span class="fu">pmap</span>(<span class="at">.l =</span> prereg_arg, <span class="at">.f =</span> .PESCE_RVE) <span class="sc">|&gt;</span> <span class="fu">list_rbind</span>()</span>
<span id="cb4-153"><a href="#cb4-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-154"><a href="#cb4-154" aria-hidden="true" tabindex="-1"></a><span class="co">#subgroup_means &lt;- .SCEp(mod = prereg_chr, data = reint_ma_dat)</span></span>
<span id="cb4-155"><a href="#cb4-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-156"><a href="#cb4-156" aria-hidden="true" tabindex="-1"></a>subgroup_dat <span class="ot">&lt;-</span> </span>
<span id="cb4-157"><a href="#cb4-157" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb4-158"><a href="#cb4-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-159"><a href="#cb4-159" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb4-160"><a href="#cb4-160" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb4-161"><a href="#cb4-161" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb4-162"><a href="#cb4-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb4-163"><a href="#cb4-163" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb4-164"><a href="#cb4-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means[<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">18</span>)], egg_res_subgrouped) <span class="sc">|&gt;</span> </span>
<span id="cb4-165"><a href="#cb4-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>), <span class="at">level =</span> <span class="st">"Effect size level"</span>) </span>
<span id="cb4-166"><a href="#cb4-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-167"><a href="#cb4-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-168"><a href="#cb4-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-169"><a href="#cb4-169" aria-hidden="true" tabindex="-1"></a>y_lim_exp1 <span class="ot">&lt;-</span> <span class="fu">max</span>(reint_ma_dat<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb4-170"><a href="#cb4-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-171"><a href="#cb4-171" aria-hidden="true" tabindex="-1"></a>funnel_exp1 <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb4-172"><a href="#cb4-172" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb4-173"><a href="#cb4-173" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb4-174"><a href="#cb4-174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp1, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp1, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp1, y_lim_exp1,</span>
<span id="cb4-175"><a href="#cb4-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp1, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp1, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp1, y_lim_exp1,</span>
<span id="cb4-176"><a href="#cb4-176" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb4-177"><a href="#cb4-177" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb4-178"><a href="#cb4-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-179"><a href="#cb4-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-180"><a href="#cb4-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-181"><a href="#cb4-181" aria-hidden="true" tabindex="-1"></a>alpha_line <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb4-182"><a href="#cb4-182" aria-hidden="true" tabindex="-1"></a>polygon_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"grey10"</span>, <span class="st">"lightcyan"</span>)</span>
<span id="cb4-183"><a href="#cb4-183" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb4-184"><a href="#cb4-184" aria-hidden="true" tabindex="-1"></a>reg_test <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb4-185"><a href="#cb4-185" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> <span class="st">"longdash"</span></span>
<span id="cb4-186"><a href="#cb4-186" aria-hidden="true" tabindex="-1"></a>reg_color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb4-187"><a href="#cb4-187" aria-hidden="true" tabindex="-1"></a>breaks_y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>)</span>
<span id="cb4-188"><a href="#cb4-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-189"><a href="#cb4-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-190"><a href="#cb4-190" aria-hidden="true" tabindex="-1"></a>es_level_fp <span class="ot">&lt;-</span> </span>
<span id="cb4-191"><a href="#cb4-191" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb4-192"><a href="#cb4-192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-193"><a href="#cb4-193" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="st">"Effect size level"</span>,</span>
<span id="cb4-194"><a href="#cb4-194" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_bias =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-195"><a href="#cb4-195" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> D5 <span class="sc">==</span> <span class="st">"Low"</span> <span class="sc">~</span> <span class="st">"Low"</span>,</span>
<span id="cb4-196"><a href="#cb4-196" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(D5, <span class="st">"Some"</span>) <span class="sc">~</span> <span class="st">"Moderate"</span>,</span>
<span id="cb4-197"><a href="#cb4-197" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(D5, <span class="st">"High"</span>) <span class="sc">~</span> <span class="st">"Serious"</span>,</span>
<span id="cb4-198"><a href="#cb4-198" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> D7</span>
<span id="cb4-199"><a href="#cb4-199" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-200"><a href="#cb4-200" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-201"><a href="#cb4-201" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_bias =</span> <span class="fu">factor</span>(report_bias, <span class="at">levels =</span>  <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Moderate"</span>, <span class="st">"Serious"</span>))</span>
<span id="cb4-202"><a href="#cb4-202" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-203"><a href="#cb4-203" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb4-204"><a href="#cb4-204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb4-205"><a href="#cb4-205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb4-206"><a href="#cb4-206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb4-207"><a href="#cb4-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb4-208"><a href="#cb4-208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb4-209"><a href="#cb4-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb4-210"><a href="#cb4-210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb4-211"><a href="#cb4-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb4-212"><a href="#cb4-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop, <span class="at">color =</span> overall_rob), <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb4-213"><a href="#cb4-213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb4-214"><a href="#cb4-214" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(level<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb4-215"><a href="#cb4-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp1, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb4-216"><a href="#cb4-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb4-217"><a href="#cb4-217" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb4-218"><a href="#cb4-218" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Low"</span> <span class="ot">=</span> <span class="st">"green3"</span>, <span class="st">"Some concerns/Moderate"</span> <span class="ot">=</span> <span class="st">"yellow2"</span>, <span class="st">"Serious/High"</span> <span class="ot">=</span> <span class="st">"red"</span>)</span>
<span id="cb4-219"><a href="#cb4-219" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb4-220"><a href="#cb4-220" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb4-221"><a href="#cb4-221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Modified standard error"</span>, </span>
<span id="cb4-222"><a href="#cb4-222" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Standardized mean difference (Hedges' g)"</span>, </span>
<span id="cb4-223"><a href="#cb4-223" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>, <span class="at">shape =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb4-224"><a href="#cb4-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb4-225"><a href="#cb4-225" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb4-226"><a href="#cb4-226" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb4-227"><a href="#cb4-227" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-228"><a href="#cb4-228" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Overall risk of bias"</span>) <span class="sc">+</span></span>
<span id="cb4-229"><a href="#cb4-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb4-230"><a href="#cb4-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-231"><a href="#cb4-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-232"><a href="#cb4-232" aria-hidden="true" tabindex="-1"></a><span class="co"># Make aggregate plot</span></span>
<span id="cb4-233"><a href="#cb4-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-234"><a href="#cb4-234" aria-hidden="true" tabindex="-1"></a>reint_dat_agg <span class="ot">&lt;-</span> </span>
<span id="cb4-235"><a href="#cb4-235" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb4-236"><a href="#cb4-236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">escalc</span>(<span class="at">measure =</span> <span class="st">"SMD"</span>, <span class="at">yi =</span> gt_pop, <span class="at">vi =</span> Wgt_pop, <span class="at">data =</span> _) <span class="sc">|&gt;</span> </span>
<span id="cb4-237"><a href="#cb4-237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aggregate.escalc</span>(<span class="at">cluster =</span> study, <span class="at">rho =</span> <span class="fl">0.8</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-238"><a href="#cb4-238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-239"><a href="#cb4-239" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">sqrt</span>(vi)</span>
<span id="cb4-240"><a href="#cb4-240" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-241"><a href="#cb4-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-242"><a href="#cb4-242" aria-hidden="true" tabindex="-1"></a>prereg_dat_agg <span class="ot">&lt;-</span>  </span>
<span id="cb4-243"><a href="#cb4-243" aria-hidden="true" tabindex="-1"></a>  reint_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb4-244"><a href="#cb4-244" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb4-245"><a href="#cb4-245" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb4-246"><a href="#cb4-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-247"><a href="#cb4-247" aria-hidden="true" tabindex="-1"></a>egg_prereg_agg <span class="ot">&lt;-</span> </span>
<span id="cb4-248"><a href="#cb4-248" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(<span class="at">yi =</span> yi, <span class="at">vi =</span> vi, <span class="at">data =</span> prereg_dat_agg, <span class="at">control=</span><span class="fu">list</span>(<span class="at">stepadj=</span><span class="fl">0.5</span>, <span class="at">maxiter=</span><span class="dv">1000</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb4-249"><a href="#cb4-249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">regtest</span>()</span>
<span id="cb4-250"><a href="#cb4-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-251"><a href="#cb4-251" aria-hidden="true" tabindex="-1"></a>egg_prereg_agg_res <span class="ot">&lt;-</span> </span>
<span id="cb4-252"><a href="#cb4-252" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb4-253"><a href="#cb4-253" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb4-254"><a href="#cb4-254" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_agg<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb4-255"><a href="#cb4-255" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_agg<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb4-256"><a href="#cb4-256" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-257"><a href="#cb4-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-258"><a href="#cb4-258" aria-hidden="true" tabindex="-1"></a>notprereg_dat_agg <span class="ot">&lt;-</span>  </span>
<span id="cb4-259"><a href="#cb4-259" aria-hidden="true" tabindex="-1"></a>  reint_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb4-260"><a href="#cb4-260" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb4-261"><a href="#cb4-261" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb4-262"><a href="#cb4-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-263"><a href="#cb4-263" aria-hidden="true" tabindex="-1"></a>egg_notprereg_agg <span class="ot">&lt;-</span> </span>
<span id="cb4-264"><a href="#cb4-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(<span class="at">yi =</span> yi, <span class="at">vi =</span> vi, <span class="at">data =</span> notprereg_dat_agg) <span class="sc">|&gt;</span> </span>
<span id="cb4-265"><a href="#cb4-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">regtest</span>()</span>
<span id="cb4-266"><a href="#cb4-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-267"><a href="#cb4-267" aria-hidden="true" tabindex="-1"></a>egg_notprereg_agg_res <span class="ot">&lt;-</span> </span>
<span id="cb4-268"><a href="#cb4-268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb4-269"><a href="#cb4-269" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Not preregistered"</span>,</span>
<span id="cb4-270"><a href="#cb4-270" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_notprereg_agg<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb4-271"><a href="#cb4-271" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_notprereg_agg<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb4-272"><a href="#cb4-272" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-273"><a href="#cb4-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-274"><a href="#cb4-274" aria-hidden="true" tabindex="-1"></a>egg_res_agg_subgrouped <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(egg_notprereg_agg_res, egg_prereg_agg_res)</span>
<span id="cb4-275"><a href="#cb4-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-276"><a href="#cb4-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-277"><a href="#cb4-277" aria-hidden="true" tabindex="-1"></a>means_agg <span class="ot">&lt;-</span> </span>
<span id="cb4-278"><a href="#cb4-278" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(yi, vi, <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>, <span class="at">data =</span> reint_dat_agg) <span class="sc">|&gt;</span> </span>
<span id="cb4-279"><a href="#cb4-279" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-280"><a href="#cb4-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-281"><a href="#cb4-281" aria-hidden="true" tabindex="-1"></a>subgroup_means_agg <span class="ot">&lt;-</span> </span>
<span id="cb4-282"><a href="#cb4-282" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb4-283"><a href="#cb4-283" aria-hidden="true" tabindex="-1"></a>    <span class="at">Moderator =</span> <span class="fu">c</span>(<span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>),</span>
<span id="cb4-284"><a href="#cb4-284" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_effect =</span> <span class="fu">as.numeric</span>(means_agg<span class="sc">$</span>b), </span>
<span id="cb4-285"><a href="#cb4-285" aria-hidden="true" tabindex="-1"></a>    <span class="at">LL =</span> <span class="fu">as.numeric</span>(means_agg<span class="sc">$</span>ci.lb), </span>
<span id="cb4-286"><a href="#cb4-286" aria-hidden="true" tabindex="-1"></a>    <span class="at">UL =</span> <span class="fu">as.numeric</span>(means_agg<span class="sc">$</span>ci.ub)</span>
<span id="cb4-287"><a href="#cb4-287" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-288"><a href="#cb4-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-289"><a href="#cb4-289" aria-hidden="true" tabindex="-1"></a>subgroup_dat_agg <span class="ot">&lt;-</span> </span>
<span id="cb4-290"><a href="#cb4-290" aria-hidden="true" tabindex="-1"></a>  reint_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb4-291"><a href="#cb4-291" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-292"><a href="#cb4-292" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb4-293"><a href="#cb4-293" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb4-294"><a href="#cb4-294" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb4-295"><a href="#cb4-295" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb4-296"><a href="#cb4-296" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb4-297"><a href="#cb4-297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr) <span class="sc">|&gt;</span> </span>
<span id="cb4-298"><a href="#cb4-298" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means_agg, egg_res_agg_subgrouped) <span class="sc">|&gt;</span> </span>
<span id="cb4-299"><a href="#cb4-299" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>), <span class="at">level =</span> <span class="st">"Study level"</span>) </span>
<span id="cb4-300"><a href="#cb4-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-301"><a href="#cb4-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-302"><a href="#cb4-302" aria-hidden="true" tabindex="-1"></a><span class="co">#subgroup_dat &lt;- </span></span>
<span id="cb4-303"><a href="#cb4-303" aria-hidden="true" tabindex="-1"></a><span class="co">#  reintergation_dat |&gt; </span></span>
<span id="cb4-304"><a href="#cb4-304" aria-hidden="true" tabindex="-1"></a><span class="co">#  summarise(</span></span>
<span id="cb4-305"><a href="#cb4-305" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt = mean(gt),</span></span>
<span id="cb4-306"><a href="#cb4-306" aria-hidden="true" tabindex="-1"></a><span class="co">#    Wse = mean(Wse),</span></span>
<span id="cb4-307"><a href="#cb4-307" aria-hidden="true" tabindex="-1"></a><span class="co">#    analysis_plan = analysis_plan[1],</span></span>
<span id="cb4-308"><a href="#cb4-308" aria-hidden="true" tabindex="-1"></a><span class="co">#    .by = prereg_chr</span></span>
<span id="cb4-309"><a href="#cb4-309" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb4-310"><a href="#cb4-310" aria-hidden="true" tabindex="-1"></a><span class="co">#  bind_cols(subgroup_means[2:3,], egg_res_subgrouped) |&gt; </span></span>
<span id="cb4-311"><a href="#cb4-311" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(slope_low = qnorm(0.025), slope_high = qnorm(0.975), level = "Effect size level") </span></span>
<span id="cb4-312"><a href="#cb4-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-313"><a href="#cb4-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-314"><a href="#cb4-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-315"><a href="#cb4-315" aria-hidden="true" tabindex="-1"></a>y_lim_exp2 <span class="ot">&lt;-</span> <span class="fu">max</span>(reint_dat_agg<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb4-316"><a href="#cb4-316" aria-hidden="true" tabindex="-1"></a>y_lim_exp2  </span>
<span id="cb4-317"><a href="#cb4-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-318"><a href="#cb4-318" aria-hidden="true" tabindex="-1"></a>funnel_exp2 <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb4-319"><a href="#cb4-319" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb4-320"><a href="#cb4-320" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb4-321"><a href="#cb4-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp2, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp2, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp2, y_lim_exp2,</span>
<span id="cb4-322"><a href="#cb4-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp2, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp2, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp2, y_lim_exp2,</span>
<span id="cb4-323"><a href="#cb4-323" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb4-324"><a href="#cb4-324" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb4-325"><a href="#cb4-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-326"><a href="#cb4-326" aria-hidden="true" tabindex="-1"></a>study_level_fp <span class="ot">&lt;-</span> </span>
<span id="cb4-327"><a href="#cb4-327" aria-hidden="true" tabindex="-1"></a>  reint_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb4-328"><a href="#cb4-328" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">level =</span> <span class="st">"Study level"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb4-329"><a href="#cb4-329" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb4-330"><a href="#cb4-330" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb4-331"><a href="#cb4-331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb4-332"><a href="#cb4-332" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb4-333"><a href="#cb4-333" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb4-334"><a href="#cb4-334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_agg, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb4-335"><a href="#cb4-335" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb4-336"><a href="#cb4-336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb4-337"><a href="#cb4-337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop), <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb4-338"><a href="#cb4-338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb4-339"><a href="#cb4-339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb4-340"><a href="#cb4-340" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(level<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb4-341"><a href="#cb4-341" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp2, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb4-342"><a href="#cb4-342" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb4-343"><a href="#cb4-343" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb4-344"><a href="#cb4-344" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb4-345"><a href="#cb4-345" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb4-346"><a href="#cb4-346" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-347"><a href="#cb4-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-348"><a href="#cb4-348" aria-hidden="true" tabindex="-1"></a>ylab <span class="ot">&lt;-</span> es_level_fp<span class="sc">$</span>labels<span class="sc">$</span>x</span>
<span id="cb4-349"><a href="#cb4-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-350"><a href="#cb4-350" aria-hidden="true" tabindex="-1"></a>study_level_fp<span class="sc">$</span>labels<span class="sc">$</span>x <span class="ot">&lt;-</span> es_level_fp<span class="sc">$</span>labels<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="st">""</span> </span>
<span id="cb4-351"><a href="#cb4-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-352"><a href="#cb4-352" aria-hidden="true" tabindex="-1"></a><span class="co">#png("plots/funnel plots (overall effect) across type of registration.png", width = 6.5, height = 5, res = 300, unit = "in")</span></span>
<span id="cb4-353"><a href="#cb4-353" aria-hidden="true" tabindex="-1"></a>study_level_fp <span class="sc">/</span> es_level_fp</span>
<span id="cb4-354"><a href="#cb4-354" aria-hidden="true" tabindex="-1"></a>grid<span class="sc">::</span><span class="fu">grid.draw</span>(grid<span class="sc">::</span><span class="fu">textGrob</span>(ylab, <span class="at">y =</span> <span class="fl">0.6</span>, <span class="at">x =</span> <span class="fl">0.02</span>, <span class="at">rot =</span> <span class="dv">90</span>))</span>
<span id="cb4-355"><a href="#cb4-355" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off()</span></span>
<span id="cb4-356"><a href="#cb4-356" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2  3
  subgroup          egg_intercept egg_slope
  &lt;chr&gt;                     &lt;dbl&gt;     &lt;dbl&gt;
1 Preregistered            0.1584   -0.2107
2 Not preregistered        0.4424   -0.4604
# A tibble: 1  10
  formula   es     var     subgrp     rand       structure   rho data                model table    
  &lt;list&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;      &lt;list&gt;     &lt;list&gt;    &lt;dbl&gt; &lt;list&gt;              &lt;chr&gt; &lt;chr&gt;    
1 &lt;formula&gt; gt_pop vgt_pop prereg_chr &lt;list [2]&gt; &lt;chr [2]&gt;   0.8 &lt;tibble [205  97]&gt; SCEp  categori
[1] 0.5555445</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="pub_bias_files/figure-html/reint-overall-fp-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="investigating-the-impact-of-cano-vindel-et-al." class="level3">
<h3 class="anchored" data-anchor-id="investigating-the-impact-of-cano-vindel-et-al.">Investigating the impact of Cano-Vindel et al.</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reint-overall-fp-cano}</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>prereg_dat_cano <span class="ot">&lt;-</span>  </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">cano_vindel =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(study, <span class="st">"Cano"</span>), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">cano_vindel =</span> <span class="fu">factor</span>(cano_vindel)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>V_mat_prereg_cano <span class="ot">&lt;-</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_cano,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>W_prereg_cano <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_prereg_cano)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>egg_prereg_cano <span class="ot">&lt;-</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_prereg_cano,</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_prereg_cano,</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop <span class="sc">+</span> cano_vindel,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_cano,</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>egg_prereg_res_cano <span class="ot">&lt;-</span> </span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_cano <span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_cano<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>subgroup_dat_cano <span class="ot">&lt;-</span> </span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  prereg_dat_cano <span class="sc">|&gt;</span> </span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means[<span class="dv">3</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">18</span>)], egg_prereg_res_cano) <span class="sc">|&gt;</span> </span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>)) </span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>y_lim_exp_cano <span class="ot">&lt;-</span> <span class="fu">max</span>(prereg_dat_cano<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>y_lim_exp_cano  </span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>funnel_exp_cano <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp_cano, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp_cano, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp_cano, y_lim_exp_cano,</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp_cano, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp_cano, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp_cano, y_lim_exp_cano,</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>alpha_line <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>polygon_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"grey10"</span>, <span class="st">"lightcyan"</span>)</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>reg_test <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> <span class="st">"longdash"</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>reg_color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>breaks_y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>)</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>cano_fp <span class="ot">&lt;-</span> </span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>  prereg_dat_cano <span class="sc">|&gt;</span> </span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">alpha_val =</span> <span class="fu">if_else</span>(cano_vindel <span class="sc">==</span> <span class="dv">1</span>, <span class="fl">0.9</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_cano, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop, <span class="at">col =</span> cano_vindel, <span class="at">alpha =</span> alpha_val), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp_cano, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Modified standard error"</span>, </span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Standardized mean difference (Hedges' g)"</span>, </span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>, <span class="at">shape =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Cano-vindel"</span>) <span class="sc">+</span></span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="st">"none"</span>, <span class="at">alpha =</span> <span class="st">"none"</span>)</span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a><span class="co">#png("plots/funnel plots (overall effect) without Cano-Vindel.png", width = 8, height = 5.5, res = 300, unit = "in")</span></span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>cano_fp</span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off()</span></span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6371993</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="pub_bias_files/figure-html/reint-overall-fp-cano-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="funnel-plot-across-outcomes" class="level3">
<h3 class="anchored" data-anchor-id="funnel-plot-across-outcomes">Funnel plot across outcomes</h3>
</section>
</section>
<section id="publication-bias-tests" class="level2">
<h2 class="anchored" data-anchor-id="publication-bias-tests">Publication bias tests</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, tab-func-overall-pub-bias}</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>.pubbias_overall_tab <span class="ot">&lt;-</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    rma_obj, </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    test,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">studies =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study), </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">effects =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda =</span> <span class="cn">NA_real_</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  ){</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> test,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> studies,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> effects,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(rma_obj<span class="sc">$</span>b[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(rma_obj<span class="sc">$</span>ci.lb[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(rma_obj<span class="sc">$</span>ci.ub[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> rma_obj<span class="sc">$</span>pval[<span class="dv">1</span>],</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(rma_obj<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>),</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(rma_obj<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(rma_obj<span class="sc">$</span>sigma2)), <span class="dv">3</span>),</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> lambda,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> lambda</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="hyema" class="level3">
<h3 class="anchored" data-anchor-id="hyema">HYEMA</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>hyema_overall <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/hyema_overall_reint.rds"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall res (Robust HYEMA)</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>hyema_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Robust HYEMA"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study),</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(hyema_overall<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(hyema_overall<span class="sc">$</span>CIL_bootstrap[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(hyema_overall<span class="sc">$</span>CIU_bootstrap[<span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(hyema_overall<span class="sc">$</span>Est[<span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> hyema_overall<span class="sc">$</span>Est[<span class="dv">2</span>],</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="co"># HYEMA across outcome</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>hyema_outcome <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/hyema_overcome.rds"</span>)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>hyema_outcome_f_stat <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/F_boot_pval_outcome.rds"</span>)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="co"># To temporarily get tau</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>hyema_obj <span class="ot">&lt;-</span> </span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  puniform<span class="sc">::</span><span class="fu">hybrid</span>(</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> reint_ma_dat<span class="sc">$</span>gt_pop, </span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> reint_ma_dat<span class="sc">$</span>Wgt_pop, </span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">conventional =</span> reint_ma_dat<span class="sc">$</span>conventional, </span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"right"</span>,</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> reint_ma_dat<span class="sc">$</span>outcome_type <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressWarnings</span>()</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>hyema_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span>),</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(hyema_outcome<span class="sc">$</span>Est), <span class="dv">3</span>), </span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(hyema_outcome<span class="sc">$</span>CIL_bootstrap, <span class="dv">3</span>),</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(hyema_outcome<span class="sc">$</span>CIU_bootstrap, <span class="dv">3</span>),</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(hyema_outcome_f_stat, <span class="dv">3</span>)),</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(hyema_obj<span class="sc">$</span>tau2), <span class="dv">3</span>)),</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(hyema_obj<span class="sc">$</span>tau2), <span class="dv">3</span>)),</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"hyema"</span></span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="puniform" class="level3">
<h3 class="anchored" data-anchor-id="puniform">Puniform*</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r puniform}</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Not corrected for clustering as it has showed acceptable performance in</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># dependent effect size data</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>puniform_star_res <span class="ot">&lt;-</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  puniform<span class="sc">::</span><span class="fu">puni_star</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">tobs =</span> reint_ma_dat<span class="sc">$</span>t_i, </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n1i =</span> reint_ma_dat<span class="sc">$</span>N_t, </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n2i =</span> reint_ma_dat<span class="sc">$</span>N_c, </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"right"</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>puniform_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"puniform star"</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study),</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(puniform_star_res<span class="sc">$</span>est), <span class="dv">3</span>), </span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(puniform_star_res<span class="sc">$</span>ci.lb, <span class="dv">3</span>),</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(puniform_star_res<span class="sc">$</span>ci.ub, <span class="dv">3</span>),</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> puniform_star_res<span class="sc">$</span>pval<span class="fl">.0</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(puniform_star_res<span class="sc">$</span>tau2), <span class="dv">3</span>),</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="worst-case-meta-analysis" class="level3">
<h3 class="anchored" data-anchor-id="worst-case-meta-analysis">Worst-case meta-analysis</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>worst_dat_reint <span class="ot">&lt;-</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span>  </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="dv">2</span> <span class="sc">*</span> ( <span class="dv">1</span> <span class="sc">-</span> <span class="fu">pnorm</span>( <span class="fu">abs</span>(gt_pop) <span class="sc">/</span> <span class="fu">sqrt</span>(vgt_pop) ) ),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">affirmativity =</span> <span class="fu">if_else</span>(pval <span class="sc">&lt;</span> .<span class="dv">05</span> <span class="sc">&amp;</span> gt_pop <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"affirmative"</span>, <span class="st">"nonaffirmative"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(affirmativity <span class="sc">==</span> <span class="st">"nonaffirmative"</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>wc_prereg_studies <span class="ot">&lt;-</span> </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  worst_dat_reint <span class="sc">|&gt;</span> </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(prereg_chr, study)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_studies =</span> <span class="fu">n</span>(),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>wc_prereg_es <span class="ot">&lt;-</span> </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  worst_dat_reint <span class="sc">|&gt;</span> </span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_effects =</span> <span class="fu">n</span>(), <span class="at">.by =</span> prereg_chr) <span class="sc">|&gt;</span> </span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr) </span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>wc_outcome_studies <span class="ot">&lt;-</span> </span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  worst_dat_reint <span class="sc">|&gt;</span> </span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(outcome_type, study)</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_studies =</span> <span class="fu">n</span>(),</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> outcome_type</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(outcome_type)</span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>wc_outcome_es <span class="ot">&lt;-</span> </span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>  worst_dat_reint <span class="sc">|&gt;</span> </span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_effects =</span> <span class="fu">n</span>(), <span class="at">.by =</span> outcome_type) <span class="sc">|&gt;</span> </span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(outcome_type) </span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>res_PubBias <span class="ot">&lt;-</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pubbias_svalue</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">yi =</span> reint_ma_dat<span class="sc">$</span>gt_pop,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> reint_ma_dat<span class="sc">$</span>Wgt_pop,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> reint_ma_dat<span class="sc">$</span>study,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">q =</span> <span class="dv">0</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">model_type =</span> <span class="st">"robust"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">favor_positive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">return_worst_meta =</span> <span class="cn">TRUE</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>res_PubBias<span class="sc">$</span>stats</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>pubbias_plot <span class="ot">&lt;-</span> </span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  PublicationBias<span class="sc">::</span><span class="fu">significance_funnel</span>(</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">yi =</span> reint_ma_dat<span class="sc">$</span>gt_pop,</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> reint_ma_dat<span class="sc">$</span>Wgt_pop,</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">favor_positive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha_select =</span> <span class="fl">0.05</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>pubbias_plot</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1  2
  sval_est     sval_ci     
  &lt;chr&gt;        &lt;chr&gt;       
1 Not possible Not possible</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="pub_bias_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#wc = worst_case</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>V_mat_wc <span class="ot">&lt;-</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="do">#############</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall res</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="do">#############</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>wc_overall<span class="ot">&lt;-</span> </span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    gt_pop,</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc, </span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>wc_overall</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>wc_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.pubbias_overall_tab</span>(<span class="at">rma_obj =</span> wc_overall, <span class="at">test =</span> <span class="st">"Worst case"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(worst_dat_reint<span class="sc">$</span>study),</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(worst_dat_reint)</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a><span class="do">###########</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Pregreg</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a><span class="do">###########</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>wc_prereg_raw <span class="ot">&lt;-</span> </span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc, </span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>wc_prereg <span class="ot">&lt;-</span> </span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>  wc_prereg_raw <span class="sc">|&gt;</span> </span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession)</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a><span class="co">#wc_prereg_cwb &lt;- </span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = wc_prereg_raw,</span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(wc_prereg_cwb, "Bootstrap results/wc_prereg_cwb.rds")</span></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>wc_prereg_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/wc_prereg_cwb.rds"</span>)</span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>wc_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tibble</span>(</span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(wc_prereg<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_prereg<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb14-82"><a href="#cb14-82" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_prereg<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb14-83"><a href="#cb14-83" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb14-84"><a href="#cb14-84" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-85"><a href="#cb14-85" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(wc_prereg_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb14-86"><a href="#cb14-86" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb14-87"><a href="#cb14-87" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb14-88"><a href="#cb14-88" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_prereg<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb14-89"><a href="#cb14-89" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_prereg<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb14-90"><a href="#cb14-90" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(wc_prereg<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb14-91"><a href="#cb14-91" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(worst_dat_reint<span class="sc">$</span>study)),</span>
<span id="cb14-92"><a href="#cb14-92" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(worst_dat_reint))</span>
<span id="cb14-93"><a href="#cb14-93" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-94"><a href="#cb14-94" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-95"><a href="#cb14-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"worstcase"</span></span>
<span id="cb14-96"><a href="#cb14-96" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-97"><a href="#cb14-97" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-98"><a href="#cb14-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-99"><a href="#cb14-99" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis of prereg using the PESCE+ model. </span></span>
<span id="cb14-100"><a href="#cb14-100" aria-hidden="true" tabindex="-1"></a>V_mat_wc_prereg <span class="ot">&lt;-</span> </span>
<span id="cb14-101"><a href="#cb14-101" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb14-102"><a href="#cb14-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb14-103"><a href="#cb14-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb14-104"><a href="#cb14-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb14-105"><a href="#cb14-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> prereg_chr,</span>
<span id="cb14-106"><a href="#cb14-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb14-107"><a href="#cb14-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb14-108"><a href="#cb14-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb14-109"><a href="#cb14-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb14-110"><a href="#cb14-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb14-111"><a href="#cb14-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb14-112"><a href="#cb14-112" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-113"><a href="#cb14-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-114"><a href="#cb14-114" aria-hidden="true" tabindex="-1"></a>wc_prereg_raw_sensi <span class="ot">&lt;-</span> </span>
<span id="cb14-115"><a href="#cb14-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb14-116"><a href="#cb14-116" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb14-117"><a href="#cb14-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_prereg, </span>
<span id="cb14-118"><a href="#cb14-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> prereg_chr <span class="sc">|</span> study, <span class="sc">~</span> prereg_chr <span class="sc">|</span> esid),</span>
<span id="cb14-119"><a href="#cb14-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb14-120"><a href="#cb14-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb14-121"><a href="#cb14-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb14-122"><a href="#cb14-122" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb14-123"><a href="#cb14-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-124"><a href="#cb14-124" aria-hidden="true" tabindex="-1"></a>wc_prereg_sensi <span class="ot">&lt;-</span> </span>
<span id="cb14-125"><a href="#cb14-125" aria-hidden="true" tabindex="-1"></a>  wc_prereg_raw_sensi <span class="sc">|&gt;</span> </span>
<span id="cb14-126"><a href="#cb14-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-127"><a href="#cb14-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-128"><a href="#cb14-128" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb14-129"><a href="#cb14-129" aria-hidden="true" tabindex="-1"></a><span class="co"># wc outcome</span></span>
<span id="cb14-130"><a href="#cb14-130" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb14-131"><a href="#cb14-131" aria-hidden="true" tabindex="-1"></a>wc_outcome_raw <span class="ot">&lt;-</span> </span>
<span id="cb14-132"><a href="#cb14-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb14-133"><a href="#cb14-133" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb14-134"><a href="#cb14-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc, </span>
<span id="cb14-135"><a href="#cb14-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb14-136"><a href="#cb14-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb14-137"><a href="#cb14-137" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb14-138"><a href="#cb14-138" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb14-139"><a href="#cb14-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-140"><a href="#cb14-140" aria-hidden="true" tabindex="-1"></a>wc_outcome <span class="ot">&lt;-</span> </span>
<span id="cb14-141"><a href="#cb14-141" aria-hidden="true" tabindex="-1"></a>  wc_outcome_raw <span class="sc">|&gt;</span> </span>
<span id="cb14-142"><a href="#cb14-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-143"><a href="#cb14-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-144"><a href="#cb14-144" aria-hidden="true" tabindex="-1"></a><span class="co"># CWB</span></span>
<span id="cb14-145"><a href="#cb14-145" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb14-146"><a href="#cb14-146" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb14-147"><a href="#cb14-147" aria-hidden="true" tabindex="-1"></a><span class="co">#wc_outcome_cwb &lt;- </span></span>
<span id="cb14-148"><a href="#cb14-148" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb14-149"><a href="#cb14-149" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = wc_outcome_raw,</span></span>
<span id="cb14-150"><a href="#cb14-150" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:7),</span></span>
<span id="cb14-151"><a href="#cb14-151" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb14-152"><a href="#cb14-152" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb14-153"><a href="#cb14-153" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb14-154"><a href="#cb14-154" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb14-155"><a href="#cb14-155" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb14-156"><a href="#cb14-156" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(wc_outcome_cwb, "Bootstrap results/wc_outcome_cwb.rds")</span></span>
<span id="cb14-157"><a href="#cb14-157" aria-hidden="true" tabindex="-1"></a>wc_outcome_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/wc_outcome_cwb.rds"</span>)</span>
<span id="cb14-158"><a href="#cb14-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-159"><a href="#cb14-159" aria-hidden="true" tabindex="-1"></a>wc_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb14-160"><a href="#cb14-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb14-161"><a href="#cb14-161" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb14-162"><a href="#cb14-162" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb14-163"><a href="#cb14-163" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb14-164"><a href="#cb14-164" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-165"><a href="#cb14-165" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb14-166"><a href="#cb14-166" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb14-167"><a href="#cb14-167" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(wc_outcome<span class="sc">$</span>b[<span class="sc">-</span><span class="dv">8</span>]), <span class="dv">3</span>), </span>
<span id="cb14-168"><a href="#cb14-168" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb14-169"><a href="#cb14-169" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_outcome<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="dv">8</span>], <span class="dv">3</span>),</span>
<span id="cb14-170"><a href="#cb14-170" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb14-171"><a href="#cb14-171" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_outcome<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="dv">8</span>], <span class="dv">3</span>),</span>
<span id="cb14-172"><a href="#cb14-172" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb14-173"><a href="#cb14-173" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-174"><a href="#cb14-174" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(wc_outcome_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb14-175"><a href="#cb14-175" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb14-176"><a href="#cb14-176" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb14-177"><a href="#cb14-177" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_outcome<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb14-178"><a href="#cb14-178" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_outcome<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb14-179"><a href="#cb14-179" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(wc_outcome<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb14-180"><a href="#cb14-180" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(worst_dat_reint<span class="sc">$</span>study)),</span>
<span id="cb14-181"><a href="#cb14-181" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(worst_dat_reint))</span>
<span id="cb14-182"><a href="#cb14-182" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-183"><a href="#cb14-183" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-184"><a href="#cb14-184" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"worstcase"</span></span>
<span id="cb14-185"><a href="#cb14-185" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-186"><a href="#cb14-186" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-187"><a href="#cb14-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-188"><a href="#cb14-188" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analyses using the PESCE+ model</span></span>
<span id="cb14-189"><a href="#cb14-189" aria-hidden="true" tabindex="-1"></a>V_mat_wc_outcome <span class="ot">&lt;-</span> </span>
<span id="cb14-190"><a href="#cb14-190" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb14-191"><a href="#cb14-191" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb14-192"><a href="#cb14-192" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb14-193"><a href="#cb14-193" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb14-194"><a href="#cb14-194" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> outcome_type,</span>
<span id="cb14-195"><a href="#cb14-195" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb14-196"><a href="#cb14-196" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb14-197"><a href="#cb14-197" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb14-198"><a href="#cb14-198" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb14-199"><a href="#cb14-199" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb14-200"><a href="#cb14-200" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb14-201"><a href="#cb14-201" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-202"><a href="#cb14-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-203"><a href="#cb14-203" aria-hidden="true" tabindex="-1"></a>wc_outcome_raw_sensi <span class="ot">&lt;-</span> </span>
<span id="cb14-204"><a href="#cb14-204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb14-205"><a href="#cb14-205" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb14-206"><a href="#cb14-206" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc, </span>
<span id="cb14-207"><a href="#cb14-207" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> outcome_type <span class="sc">|</span> study, <span class="sc">~</span> outcome_type <span class="sc">|</span> esid),</span>
<span id="cb14-208"><a href="#cb14-208" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb14-209"><a href="#cb14-209" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb14-210"><a href="#cb14-210" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb14-211"><a href="#cb14-211" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb14-212"><a href="#cb14-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-213"><a href="#cb14-213" aria-hidden="true" tabindex="-1"></a>wc_outcome_sensi <span class="ot">&lt;-</span> </span>
<span id="cb14-214"><a href="#cb14-214" aria-hidden="true" tabindex="-1"></a>  wc_outcome_raw_sensi <span class="sc">|&gt;</span> </span>
<span id="cb14-215"><a href="#cb14-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-216"><a href="#cb14-216" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Multivariate Meta-Analysis Model (k = 157; method: REML)

Variance Components:

            estim    sqrt  nlvls  fixed      factor 
sigma^2.1  0.0000  0.0000     40     no       study 
sigma^2.2  0.0223  0.1492    157     no  study/esid 

Test for Heterogeneity:
Q(df = 156) = 472.3043, p-val &lt; .0001

Number of estimates:   157
Number of clusters:    40
Estimates per cluster: 1-16 (mean: 3.92, median: 3)

Model Results:

estimate      se    tval     df    pval   ci.lb   ci.ub     
  0.0775  0.0252   3.0705   20.36   0.0059   0.0249   0.1301   ** 

---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

1) results based on cluster-robust inference (var-cov estimator: CR2,
   approx t-test and confidence interval, df: Satterthwaite approx)</code></pre>
</div>
</div>
</section>
<section id="che-iscw" class="level3">
<h3 class="anchored" data-anchor-id="che-iscw">CHE-ISCW</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r che-iscw}</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>V_mat_mod <span class="ot">&lt;-</span> metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> study,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> outcome_time, </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp1 =</span> trt_name,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">w1 =</span> N_t, </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp2 =</span> control,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">w2 =</span> N_c, </span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">rho =</span> rho</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>W <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_mod)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Overall</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>che_iscw <span class="ot">&lt;-</span> </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>iscw_tab_res <span class="ot">&lt;-</span> <span class="fu">.pubbias_overall_tab</span>(<span class="at">rma_obj =</span> che_iscw, <span class="at">test =</span> <span class="st">"CHE-ISCW"</span>)</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="do">## Preregistration</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_raw <span class="ot">&lt;-</span> </span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg <span class="ot">&lt;-</span> </span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>  che_iscw_prereg_raw <span class="sc">|&gt;</span> </span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a><span class="co">#che_iscw_prereg_cwb &lt;- </span></span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_iscw_prereg_raw,</span></span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_iscw_prereg_cwb, "Bootstrap results/che_iscw_prereg_cwb.rds")</span></span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_iscw_prereg_cwb.rds"</span>)</span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_iscw_prereg<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_prereg<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb16-74"><a href="#cb16-74" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb16-75"><a href="#cb16-75" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_prereg<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb16-76"><a href="#cb16-76" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb16-77"><a href="#cb16-77" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb16-78"><a href="#cb16-78" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_iscw_prereg_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb16-79"><a href="#cb16-79" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb16-80"><a href="#cb16-80" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb16-81"><a href="#cb16-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_prereg<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb16-82"><a href="#cb16-82" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_prereg<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb16-83"><a href="#cb16-83" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_iscw_prereg<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb16-84"><a href="#cb16-84" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb16-85"><a href="#cb16-85" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb16-86"><a href="#cb16-86" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-87"><a href="#cb16-87" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-88"><a href="#cb16-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"iscw"</span></span>
<span id="cb16-89"><a href="#cb16-89" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-90"><a href="#cb16-90" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-91"><a href="#cb16-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-92"><a href="#cb16-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-93"><a href="#cb16-93" aria-hidden="true" tabindex="-1"></a><span class="do">## Outcome</span></span>
<span id="cb16-94"><a href="#cb16-94" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_raw <span class="ot">&lt;-</span> </span>
<span id="cb16-95"><a href="#cb16-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb16-96"><a href="#cb16-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb16-97"><a href="#cb16-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb16-98"><a href="#cb16-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb16-99"><a href="#cb16-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb16-100"><a href="#cb16-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb16-101"><a href="#cb16-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb16-102"><a href="#cb16-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb16-103"><a href="#cb16-103" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb16-104"><a href="#cb16-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-105"><a href="#cb16-105" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome <span class="ot">&lt;-</span> </span>
<span id="cb16-106"><a href="#cb16-106" aria-hidden="true" tabindex="-1"></a>  che_iscw_outcome_raw <span class="sc">|&gt;</span> </span>
<span id="cb16-107"><a href="#cb16-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-108"><a href="#cb16-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-109"><a href="#cb16-109" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb16-110"><a href="#cb16-110" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb16-111"><a href="#cb16-111" aria-hidden="true" tabindex="-1"></a><span class="co">#che_iscw_outcome_cwb &lt;- </span></span>
<span id="cb16-112"><a href="#cb16-112" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb16-113"><a href="#cb16-113" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_iscw_outcome_raw,</span></span>
<span id="cb16-114"><a href="#cb16-114" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:7),</span></span>
<span id="cb16-115"><a href="#cb16-115" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb16-116"><a href="#cb16-116" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb16-117"><a href="#cb16-117" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb16-118"><a href="#cb16-118" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb16-119"><a href="#cb16-119" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb16-120"><a href="#cb16-120" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_iscw_outcome_cwb, "Bootstrap results/che_iscw_outcome_cwb.rds")</span></span>
<span id="cb16-121"><a href="#cb16-121" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_iscw_outcome_cwb.rds"</span>)</span>
<span id="cb16-122"><a href="#cb16-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-123"><a href="#cb16-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-124"><a href="#cb16-124" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb16-125"><a href="#cb16-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb16-126"><a href="#cb16-126" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb16-127"><a href="#cb16-127" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb16-128"><a href="#cb16-128" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb16-129"><a href="#cb16-129" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb16-130"><a href="#cb16-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb16-131"><a href="#cb16-131" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb16-132"><a href="#cb16-132" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_iscw_outcome<span class="sc">$</span>b[<span class="sc">-</span><span class="dv">8</span>]), <span class="dv">3</span>), </span>
<span id="cb16-133"><a href="#cb16-133" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb16-134"><a href="#cb16-134" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_outcome<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="dv">8</span>], <span class="dv">3</span>),</span>
<span id="cb16-135"><a href="#cb16-135" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb16-136"><a href="#cb16-136" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_outcome<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="dv">8</span>], <span class="dv">3</span>),</span>
<span id="cb16-137"><a href="#cb16-137" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb16-138"><a href="#cb16-138" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb16-139"><a href="#cb16-139" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_iscw_outcome_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)), </span>
<span id="cb16-140"><a href="#cb16-140" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb16-141"><a href="#cb16-141" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb16-142"><a href="#cb16-142" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_outcome<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb16-143"><a href="#cb16-143" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_outcome<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb16-144"><a href="#cb16-144" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_iscw_outcome<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb16-145"><a href="#cb16-145" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb16-146"><a href="#cb16-146" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb16-147"><a href="#cb16-147" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-148"><a href="#cb16-148" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-149"><a href="#cb16-149" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"iscw"</span></span>
<span id="cb16-150"><a href="#cb16-150" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-151"><a href="#cb16-151" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-152"><a href="#cb16-152" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="petpeese" class="level3">
<h3 class="anchored" data-anchor-id="petpeese">PET/PEESE</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r petpesse}</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE overall</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>che_pet <span class="ot">&lt;-</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop <span class="sc">+</span> prereg_c,</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>che_peese <span class="ot">&lt;-</span> </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wgt_pop <span class="sc">+</span> prereg_c,</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>pet_peese <span class="ot">&lt;-</span> <span class="cf">if</span> (che_pet<span class="sc">$</span>pval[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.1</span> <span class="sc">&amp;</span> <span class="fu">as.numeric</span>(che_pet<span class="sc">$</span>b[<span class="dv">1</span>]) <span class="sc">&gt;</span> <span class="dv">0</span>) che_peese <span class="cf">else</span> che_pet</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>pet_peese_tab_res <span class="ot">&lt;-</span> <span class="fu">.pubbias_overall_tab</span>(<span class="at">rma_obj =</span> pet_peese, <span class="at">test =</span> <span class="st">"PET/PEESE"</span>)</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE preregistration</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_raw <span class="ot">&lt;-</span> </span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">+</span> Wse_pop <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>che_pet_prereg <span class="ot">&lt;-</span> </span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>  che_pet_prereg_raw <span class="sc">|&gt;</span> </span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a><span class="co">#che_pet_prereg_cwb &lt;- </span></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_pet_prereg_raw,</span></span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a><span class="co">#    R  = 1999</span></span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_pet_prereg_cwb, "Bootstrap results/che_pet_prereg_cwb.rds")</span></span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_pet_prereg_cwb.rds"</span>)</span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>,</span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb17-68"><a href="#cb17-68" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb17-69"><a href="#cb17-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb17-70"><a href="#cb17-70" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb17-71"><a href="#cb17-71" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_pet_prereg<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb17-72"><a href="#cb17-72" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb17-73"><a href="#cb17-73" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_prereg<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb17-74"><a href="#cb17-74" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb17-75"><a href="#cb17-75" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_prereg<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb17-76"><a href="#cb17-76" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb17-77"><a href="#cb17-77" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb17-78"><a href="#cb17-78" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_pet_prereg_cwb<span class="sc">$</span>p_val,<span class="dv">3</span>)),</span>
<span id="cb17-79"><a href="#cb17-79" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb17-80"><a href="#cb17-80" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb17-81"><a href="#cb17-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_prereg<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb17-82"><a href="#cb17-82" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_prereg<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb17-83"><a href="#cb17-83" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_pet_prereg<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb17-84"><a href="#cb17-84" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb17-85"><a href="#cb17-85" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb17-86"><a href="#cb17-86" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb17-87"><a href="#cb17-87" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-88"><a href="#cb17-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"petpesse"</span></span>
<span id="cb17-89"><a href="#cb17-89" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-90"><a href="#cb17-90" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-91"><a href="#cb17-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-92"><a href="#cb17-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-93"><a href="#cb17-93" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE outcome</span></span>
<span id="cb17-94"><a href="#cb17-94" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_raw <span class="ot">&lt;-</span> </span>
<span id="cb17-95"><a href="#cb17-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb17-96"><a href="#cb17-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb17-97"><a href="#cb17-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb17-98"><a href="#cb17-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb17-99"><a href="#cb17-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> outcome_type <span class="sc">+</span> Wse_pop <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb17-100"><a href="#cb17-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb17-101"><a href="#cb17-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb17-102"><a href="#cb17-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb17-103"><a href="#cb17-103" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb17-104"><a href="#cb17-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-105"><a href="#cb17-105" aria-hidden="true" tabindex="-1"></a>che_pet_outcome <span class="ot">&lt;-</span> </span>
<span id="cb17-106"><a href="#cb17-106" aria-hidden="true" tabindex="-1"></a>  che_pet_outcome_raw <span class="sc">|&gt;</span> </span>
<span id="cb17-107"><a href="#cb17-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-108"><a href="#cb17-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-109"><a href="#cb17-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-110"><a href="#cb17-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-111"><a href="#cb17-111" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb17-112"><a href="#cb17-112" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb17-113"><a href="#cb17-113" aria-hidden="true" tabindex="-1"></a><span class="co">#che_pet_outcome_cwb &lt;- </span></span>
<span id="cb17-114"><a href="#cb17-114" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb17-115"><a href="#cb17-115" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_pet_outcome_raw,</span></span>
<span id="cb17-116"><a href="#cb17-116" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:7),</span></span>
<span id="cb17-117"><a href="#cb17-117" aria-hidden="true" tabindex="-1"></a><span class="co">#    R  = 1999</span></span>
<span id="cb17-118"><a href="#cb17-118" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb17-119"><a href="#cb17-119" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb17-120"><a href="#cb17-120" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb17-121"><a href="#cb17-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-122"><a href="#cb17-122" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_pet_outcome_cwb, "Bootstrap results/che_pet_outcome_cwb.rds")</span></span>
<span id="cb17-123"><a href="#cb17-123" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_pet_outcome_cwb.rds"</span>)</span>
<span id="cb17-124"><a href="#cb17-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-125"><a href="#cb17-125" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb17-126"><a href="#cb17-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb17-127"><a href="#cb17-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb17-128"><a href="#cb17-128" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb17-129"><a href="#cb17-129" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb17-130"><a href="#cb17-130" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb17-131"><a href="#cb17-131" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb17-132"><a href="#cb17-132" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb17-133"><a href="#cb17-133" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_pet_outcome<span class="sc">$</span>b[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">8</span><span class="sc">:</span><span class="dv">9</span>)]), <span class="dv">3</span>), </span>
<span id="cb17-134"><a href="#cb17-134" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb17-135"><a href="#cb17-135" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_outcome<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">8</span><span class="sc">:</span><span class="dv">9</span>)], <span class="dv">3</span>),</span>
<span id="cb17-136"><a href="#cb17-136" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb17-137"><a href="#cb17-137" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_outcome<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">8</span><span class="sc">:</span><span class="dv">9</span>)], <span class="dv">3</span>),</span>
<span id="cb17-138"><a href="#cb17-138" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb17-139"><a href="#cb17-139" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb17-140"><a href="#cb17-140" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_pet_outcome_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb17-141"><a href="#cb17-141" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb17-142"><a href="#cb17-142" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb17-143"><a href="#cb17-143" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_outcome<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb17-144"><a href="#cb17-144" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_outcome<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb17-145"><a href="#cb17-145" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_pet_outcome<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb17-146"><a href="#cb17-146" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb17-147"><a href="#cb17-147" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb17-148"><a href="#cb17-148" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb17-149"><a href="#cb17-149" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-150"><a href="#cb17-150" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"petpesse"</span></span>
<span id="cb17-151"><a href="#cb17-151" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-152"><a href="#cb17-152" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-153"><a href="#cb17-153" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="selection-models" class="level3">
<h3 class="anchored" data-anchor-id="selection-models">Selection models</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, selmodel}</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#set.seed(29092025)</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#library(future)</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co">#cores &lt;- parallel::detectCores() - 1</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall reintegration</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_overall &lt;- </span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_overall, "Bootstrap results/mod_3PSM_overall.rds")</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>mod_3PSM_overall <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_overall.rds"</span>)</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a><span class="co">#selection_plot(mod_3PSM_overall)</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_overall &lt;- </span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_overall, "Bootstrap results/mod_4PSM_overall.rds")</span></span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a>mod_4PSM_overall <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_overall.rds"</span>)</span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a><span class="co">#save(</span></span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a><span class="co">#  mod_3PSM_overall,</span></span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a><span class="co">#  mod_4PSM_overall,</span></span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a><span class="co">#  file = "selmodel_res.RData"</span></span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a><span class="co">#)</span></span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a><span class="do">##############################</span></span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Across type of registration</span></span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a><span class="do">##############################</span></span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a><span class="do">## Only not preregistered outcome</span></span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-67"><a href="#cb18-67" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-68"><a href="#cb18-68" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_not_prereg &lt;- </span></span>
<span id="cb18-69"><a href="#cb18-69" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb18-70"><a href="#cb18-70" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb18-71"><a href="#cb18-71" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb18-72"><a href="#cb18-72" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb18-73"><a href="#cb18-73" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb18-74"><a href="#cb18-74" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb18-75"><a href="#cb18-75" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb18-76"><a href="#cb18-76" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb18-77"><a href="#cb18-77" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb18-78"><a href="#cb18-78" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb18-79"><a href="#cb18-79" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb18-80"><a href="#cb18-80" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999,</span></span>
<span id="cb18-81"><a href="#cb18-81" aria-hidden="true" tabindex="-1"></a><span class="co">#    subset = conventional == 0</span></span>
<span id="cb18-82"><a href="#cb18-82" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb18-83"><a href="#cb18-83" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb18-84"><a href="#cb18-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-85"><a href="#cb18-85" aria-hidden="true" tabindex="-1"></a><span class="do">## Prereg_chr as subgroup factor</span></span>
<span id="cb18-86"><a href="#cb18-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-87"><a href="#cb18-87" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb18-88"><a href="#cb18-88" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-89"><a href="#cb18-89" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_prereg &lt;- </span></span>
<span id="cb18-90"><a href="#cb18-90" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb18-91"><a href="#cb18-91" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb18-92"><a href="#cb18-92" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb18-93"><a href="#cb18-93" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb18-94"><a href="#cb18-94" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb18-95"><a href="#cb18-95" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb18-96"><a href="#cb18-96" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb18-97"><a href="#cb18-97" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb18-98"><a href="#cb18-98" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb18-99"><a href="#cb18-99" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb18-100"><a href="#cb18-100" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb18-101"><a href="#cb18-101" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ prereg_chr - 1,</span></span>
<span id="cb18-102"><a href="#cb18-102" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb18-103"><a href="#cb18-103" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb18-104"><a href="#cb18-104" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb18-105"><a href="#cb18-105" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-106"><a href="#cb18-106" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_prereg, "Bootstrap results/mod_3PSM_prereg.rds")</span></span>
<span id="cb18-107"><a href="#cb18-107" aria-hidden="true" tabindex="-1"></a>mod_3PSM_prereg <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_prereg.rds"</span>)</span>
<span id="cb18-108"><a href="#cb18-108" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-109"><a href="#cb18-109" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-110"><a href="#cb18-110" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb18-111"><a href="#cb18-111" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-112"><a href="#cb18-112" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_prereg &lt;- </span></span>
<span id="cb18-113"><a href="#cb18-113" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb18-114"><a href="#cb18-114" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb18-115"><a href="#cb18-115" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb18-116"><a href="#cb18-116" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb18-117"><a href="#cb18-117" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb18-118"><a href="#cb18-118" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb18-119"><a href="#cb18-119" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb18-120"><a href="#cb18-120" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb18-121"><a href="#cb18-121" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb18-122"><a href="#cb18-122" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb18-123"><a href="#cb18-123" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb18-124"><a href="#cb18-124" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ prereg_chr - 1,</span></span>
<span id="cb18-125"><a href="#cb18-125" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb18-126"><a href="#cb18-126" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb18-127"><a href="#cb18-127" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb18-128"><a href="#cb18-128" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-129"><a href="#cb18-129" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_prereg, "Bootstrap results/mod_4PSM_prereg.rds")</span></span>
<span id="cb18-130"><a href="#cb18-130" aria-hidden="true" tabindex="-1"></a>mod_4PSM_prereg <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_prereg.rds"</span>)</span>
<span id="cb18-131"><a href="#cb18-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-132"><a href="#cb18-132" aria-hidden="true" tabindex="-1"></a><span class="do">###################</span></span>
<span id="cb18-133"><a href="#cb18-133" aria-hidden="true" tabindex="-1"></a><span class="co"># Across outcomes</span></span>
<span id="cb18-134"><a href="#cb18-134" aria-hidden="true" tabindex="-1"></a><span class="do">###################</span></span>
<span id="cb18-135"><a href="#cb18-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-136"><a href="#cb18-136" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb18-137"><a href="#cb18-137" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-138"><a href="#cb18-138" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_outcome &lt;- </span></span>
<span id="cb18-139"><a href="#cb18-139" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb18-140"><a href="#cb18-140" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb18-141"><a href="#cb18-141" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb18-142"><a href="#cb18-142" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb18-143"><a href="#cb18-143" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb18-144"><a href="#cb18-144" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb18-145"><a href="#cb18-145" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb18-146"><a href="#cb18-146" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb18-147"><a href="#cb18-147" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb18-148"><a href="#cb18-148" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb18-149"><a href="#cb18-149" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb18-150"><a href="#cb18-150" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ outcome_type + prereg_c - 1,</span></span>
<span id="cb18-151"><a href="#cb18-151" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb18-152"><a href="#cb18-152" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb18-153"><a href="#cb18-153" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb18-154"><a href="#cb18-154" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-155"><a href="#cb18-155" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_outcome, "Bootstrap results/mod_3PSM_outcome.rds")</span></span>
<span id="cb18-156"><a href="#cb18-156" aria-hidden="true" tabindex="-1"></a>mod_3PSM_outcome <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_outcome.rds"</span>)</span>
<span id="cb18-157"><a href="#cb18-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-158"><a href="#cb18-158" aria-hidden="true" tabindex="-1"></a><span class="co">#selection_plot(mod_3PSM_overall)</span></span>
<span id="cb18-159"><a href="#cb18-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-160"><a href="#cb18-160" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb18-161"><a href="#cb18-161" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-162"><a href="#cb18-162" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_outcome &lt;- </span></span>
<span id="cb18-163"><a href="#cb18-163" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb18-164"><a href="#cb18-164" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb18-165"><a href="#cb18-165" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb18-166"><a href="#cb18-166" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb18-167"><a href="#cb18-167" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb18-168"><a href="#cb18-168" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb18-169"><a href="#cb18-169" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb18-170"><a href="#cb18-170" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb18-171"><a href="#cb18-171" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb18-172"><a href="#cb18-172" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb18-173"><a href="#cb18-173" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb18-174"><a href="#cb18-174" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ outcome_type + prereg_c - 1,</span></span>
<span id="cb18-175"><a href="#cb18-175" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb18-176"><a href="#cb18-176" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb18-177"><a href="#cb18-177" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb18-178"><a href="#cb18-178" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb18-179"><a href="#cb18-179" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_outcome, "Bootstrap results/mod_4PSM_outcome.rds")</span></span>
<span id="cb18-180"><a href="#cb18-180" aria-hidden="true" tabindex="-1"></a>mod_4PSM_outcome <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_outcome.rds"</span>)</span>
<span id="cb18-181"><a href="#cb18-181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r tab-metaselection}</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>PSM3_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Cluster selmodel (3PSM)"</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study),</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(mod_3PSM_overall<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_3PSM_overall<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_3PSM_overall<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">sqrt</span>(mod_3PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>tausq),</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>PSM4_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Cluster selmodel (4PSM)"</span>,</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study),</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(mod_4PSM_overall<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_4PSM_overall<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_4PSM_overall<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>),</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">sqrt</span>(mod_4PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>tausq),</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Prereg</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>PSM3_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>), </span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM3"</span></span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-72"><a href="#cb19-72" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-73"><a href="#cb19-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-74"><a href="#cb19-74" aria-hidden="true" tabindex="-1"></a>PSM4_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb19-75"><a href="#cb19-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb19-76"><a href="#cb19-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb19-77"><a href="#cb19-77" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb19-78"><a href="#cb19-78" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb19-79"><a href="#cb19-79" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb19-80"><a href="#cb19-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb19-81"><a href="#cb19-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb19-82"><a href="#cb19-82" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>), </span>
<span id="cb19-83"><a href="#cb19-83" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb19-84"><a href="#cb19-84" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb19-85"><a href="#cb19-85" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb19-86"><a href="#cb19-86" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb19-87"><a href="#cb19-87" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb19-88"><a href="#cb19-88" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb19-89"><a href="#cb19-89" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-90"><a href="#cb19-90" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb19-91"><a href="#cb19-91" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)),</span>
<span id="cb19-92"><a href="#cb19-92" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb19-93"><a href="#cb19-93" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-94"><a href="#cb19-94" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb19-95"><a href="#cb19-95" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb19-96"><a href="#cb19-96" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb19-97"><a href="#cb19-97" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-98"><a href="#cb19-98" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-99"><a href="#cb19-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM4"</span></span>
<span id="cb19-100"><a href="#cb19-100" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-101"><a href="#cb19-101" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-102"><a href="#cb19-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-103"><a href="#cb19-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-104"><a href="#cb19-104" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome</span></span>
<span id="cb19-105"><a href="#cb19-105" aria-hidden="true" tabindex="-1"></a>PSM3_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb19-106"><a href="#cb19-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb19-107"><a href="#cb19-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb19-108"><a href="#cb19-108" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb19-109"><a href="#cb19-109" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb19-110"><a href="#cb19-110" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb19-111"><a href="#cb19-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb19-112"><a href="#cb19-112" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb19-113"><a href="#cb19-113" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>), </span>
<span id="cb19-114"><a href="#cb19-114" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb19-115"><a href="#cb19-115" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>),</span>
<span id="cb19-116"><a href="#cb19-116" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb19-117"><a href="#cb19-117" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>),</span>
<span id="cb19-118"><a href="#cb19-118" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb19-119"><a href="#cb19-119" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb19-120"><a href="#cb19-120" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-121"><a href="#cb19-121" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb19-122"><a href="#cb19-122" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-123"><a href="#cb19-123" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb19-124"><a href="#cb19-124" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-125"><a href="#cb19-125" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb19-126"><a href="#cb19-126" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb19-127"><a href="#cb19-127" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb19-128"><a href="#cb19-128" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-129"><a href="#cb19-129" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-130"><a href="#cb19-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM3"</span></span>
<span id="cb19-131"><a href="#cb19-131" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-132"><a href="#cb19-132" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-133"><a href="#cb19-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-134"><a href="#cb19-134" aria-hidden="true" tabindex="-1"></a>PSM4_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb19-135"><a href="#cb19-135" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb19-136"><a href="#cb19-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb19-137"><a href="#cb19-137" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb19-138"><a href="#cb19-138" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb19-139"><a href="#cb19-139" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb19-140"><a href="#cb19-140" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb19-141"><a href="#cb19-141" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb19-142"><a href="#cb19-142" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>), </span>
<span id="cb19-143"><a href="#cb19-143" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb19-144"><a href="#cb19-144" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>),</span>
<span id="cb19-145"><a href="#cb19-145" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb19-146"><a href="#cb19-146" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>),</span>
<span id="cb19-147"><a href="#cb19-147" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb19-148"><a href="#cb19-148" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb19-149"><a href="#cb19-149" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-150"><a href="#cb19-150" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb19-151"><a href="#cb19-151" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)),</span>
<span id="cb19-152"><a href="#cb19-152" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb19-153"><a href="#cb19-153" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb19-154"><a href="#cb19-154" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb19-155"><a href="#cb19-155" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb19-156"><a href="#cb19-156" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb19-157"><a href="#cb19-157" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-158"><a href="#cb19-158" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-159"><a href="#cb19-159" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM4"</span></span>
<span id="cb19-160"><a href="#cb19-160" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-161"><a href="#cb19-161" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-162"><a href="#cb19-162" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="mental-health" class="level1">
<h1><strong>Mental health</strong></h1>
<section id="data-1" class="level2">
<h2 class="anchored" data-anchor-id="data-1">Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load-data-mental}</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>mental_ma_dat <span class="ot">&lt;-</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readRDS</span>(<span class="st">"mental_ma_dat.rds"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">esid =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>(),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">se_gt_pop =</span> <span class="fu">sqrt</span>(vgt_pop), </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">sqrt</span>(Wgt_pop),</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">t_i =</span> gt_pop<span class="sc">/</span><span class="fu">sqrt</span>(Wgt) <span class="co"># Following Chen and Pustejovsky (2025)</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="funnel-plots-1" class="level2">
<h2 class="anchored" data-anchor-id="funnel-plots-1">Funnel plots</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, main-res-mental}</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>V_mat_mental <span class="ot">&lt;-</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>overall_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">rma.mv</span>(</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>    gt_pop,</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mental, </span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>overall_res_mental</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>V_mat_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> outcome_type,</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>sub_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_outcome_mental, </span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> outcome_type <span class="sc">|</span> study, <span class="sc">~</span> outcome_type <span class="sc">|</span> esid),</span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a>sub_res_mental</span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Mental health</span></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a><span class="co"># MHV: Conduct these tests, when the main analyses has been made</span></span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a><span class="co">#V_mat_mental &lt;- metafor::vcalc(</span></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a><span class="co">#    vi = vgt_pop, </span></span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a><span class="co">#    type = outcome_time, </span></span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a><span class="co">#    grp1 = trt_name,</span></span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a><span class="co">#    w1 = N_t, </span></span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a><span class="co">#    grp2 = control,</span></span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a><span class="co">#    w2 = N_c, </span></span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a><span class="co">#    rho = rho</span></span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a><span class="co">#overall_res_mental &lt;- </span></span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a><span class="co">#  rma.mv(</span></span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt_pop ~ + 1,</span></span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a><span class="co">#    V = V_mat_mental, </span></span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a><span class="co">#    random = ~ 1 | study / esid,</span></span>
<span id="cb21-78"><a href="#cb21-78" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb21-79"><a href="#cb21-79" aria-hidden="true" tabindex="-1"></a><span class="co">#    sparse = TRUE</span></span>
<span id="cb21-80"><a href="#cb21-80" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb21-81"><a href="#cb21-81" aria-hidden="true" tabindex="-1"></a><span class="co">#  robust(cluster = study, clubSandwich = TRUE)</span></span>
<span id="cb21-82"><a href="#cb21-82" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb21-83"><a href="#cb21-83" aria-hidden="true" tabindex="-1"></a><span class="co">#overall_res_mental</span></span>
<span id="cb21-84"><a href="#cb21-84" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb21-85"><a href="#cb21-85" aria-hidden="true" tabindex="-1"></a><span class="co">#sub_res_mental &lt;- </span></span>
<span id="cb21-86"><a href="#cb21-86" aria-hidden="true" tabindex="-1"></a><span class="co">#  rma.mv(</span></span>
<span id="cb21-87"><a href="#cb21-87" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt_pop ~ -1 + analysis_plan,</span></span>
<span id="cb21-88"><a href="#cb21-88" aria-hidden="true" tabindex="-1"></a><span class="co">#    V = V_mat_mental, </span></span>
<span id="cb21-89"><a href="#cb21-89" aria-hidden="true" tabindex="-1"></a><span class="co">#    random = list(~ analysis_plan | study, ~ analysis_plan | esid),</span></span>
<span id="cb21-90"><a href="#cb21-90" aria-hidden="true" tabindex="-1"></a><span class="co">#    struct = c("DIAG", "DIAG"),</span></span>
<span id="cb21-91"><a href="#cb21-91" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb21-92"><a href="#cb21-92" aria-hidden="true" tabindex="-1"></a><span class="co">#    sparse = TRUE</span></span>
<span id="cb21-93"><a href="#cb21-93" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb21-94"><a href="#cb21-94" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb21-95"><a href="#cb21-95" aria-hidden="true" tabindex="-1"></a><span class="co">#sub_res_mental</span></span>
<span id="cb21-96"><a href="#cb21-96" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="overall-1" class="level3">
<h3 class="anchored" data-anchor-id="overall-1">Overall</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r mental-overall-fp}</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-mental-overall-fp</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Funnel plot across all mental health outcomes"</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Overall average effect</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>V_mat_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="fu">blsplit</span>(V_mat_mental, mental_ma_dat<span class="sc">$</span>study) <span class="sc">|&gt;</span> </span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(cov2cor) <span class="sc">|&gt;</span> </span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">2</span>))</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>W_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>che_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mental,</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a><span class="co"># ISCW</span></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW-RVE</span></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>che_iscw_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mental,</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a><span class="do">## Preregistered vs. not preregistered </span></span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>prereg_dat_mental <span class="ot">&lt;-</span>  </span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>V_mat_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_mental,</span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb22-75"><a href="#cb22-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb22-76"><a href="#cb22-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb22-77"><a href="#cb22-77" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb22-78"><a href="#cb22-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-79"><a href="#cb22-79" aria-hidden="true" tabindex="-1"></a>W_prereg_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_prereg_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb22-80"><a href="#cb22-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-81"><a href="#cb22-81" aria-hidden="true" tabindex="-1"></a>egg_prereg_mental <span class="ot">&lt;-</span></span>
<span id="cb22-82"><a href="#cb22-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb22-83"><a href="#cb22-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb22-84"><a href="#cb22-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_prereg_mental,</span>
<span id="cb22-85"><a href="#cb22-85" aria-hidden="true" tabindex="-1"></a>    <span class="co">#W = W_prereg_mental,</span></span>
<span id="cb22-86"><a href="#cb22-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop,</span>
<span id="cb22-87"><a href="#cb22-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb22-88"><a href="#cb22-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_mental,</span>
<span id="cb22-89"><a href="#cb22-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb22-90"><a href="#cb22-90" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb22-91"><a href="#cb22-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-92"><a href="#cb22-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-93"><a href="#cb22-93" aria-hidden="true" tabindex="-1"></a>egg_prereg_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-94"><a href="#cb22-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb22-95"><a href="#cb22-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb22-96"><a href="#cb22-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_mental<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb22-97"><a href="#cb22-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_mental<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb22-98"><a href="#cb22-98" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-99"><a href="#cb22-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-100"><a href="#cb22-100" aria-hidden="true" tabindex="-1"></a>notprereg_dat_mental <span class="ot">&lt;-</span>  </span>
<span id="cb22-101"><a href="#cb22-101" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb22-102"><a href="#cb22-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb22-103"><a href="#cb22-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-104"><a href="#cb22-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-105"><a href="#cb22-105" aria-hidden="true" tabindex="-1"></a>V_mat_notprereg_mental <span class="ot">&lt;-</span>  </span>
<span id="cb22-106"><a href="#cb22-106" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb22-107"><a href="#cb22-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> notprereg_dat_mental,</span>
<span id="cb22-108"><a href="#cb22-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb22-109"><a href="#cb22-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb22-110"><a href="#cb22-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb22-111"><a href="#cb22-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb22-112"><a href="#cb22-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb22-113"><a href="#cb22-113" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb22-114"><a href="#cb22-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb22-115"><a href="#cb22-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb22-116"><a href="#cb22-116" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-117"><a href="#cb22-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-118"><a href="#cb22-118" aria-hidden="true" tabindex="-1"></a>W_notprereg_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_notprereg_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb22-119"><a href="#cb22-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-120"><a href="#cb22-120" aria-hidden="true" tabindex="-1"></a>egg_notprereg_mental <span class="ot">&lt;-</span></span>
<span id="cb22-121"><a href="#cb22-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb22-122"><a href="#cb22-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb22-123"><a href="#cb22-123" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_notprereg_mental,</span>
<span id="cb22-124"><a href="#cb22-124" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_notprereg_mental,</span>
<span id="cb22-125"><a href="#cb22-125" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop,</span>
<span id="cb22-126"><a href="#cb22-126" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb22-127"><a href="#cb22-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> notprereg_dat_mental,</span>
<span id="cb22-128"><a href="#cb22-128" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb22-129"><a href="#cb22-129" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb22-130"><a href="#cb22-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-131"><a href="#cb22-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-132"><a href="#cb22-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-133"><a href="#cb22-133" aria-hidden="true" tabindex="-1"></a>egg_notprereg_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-134"><a href="#cb22-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb22-135"><a href="#cb22-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Not preregistered"</span>,</span>
<span id="cb22-136"><a href="#cb22-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_notprereg_mental<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb22-137"><a href="#cb22-137" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_notprereg_mental<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb22-138"><a href="#cb22-138" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-139"><a href="#cb22-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-140"><a href="#cb22-140" aria-hidden="true" tabindex="-1"></a>egg_res_subgrouped_mental <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(egg_prereg_res_mental, egg_notprereg_res_mental)</span>
<span id="cb22-141"><a href="#cb22-141" aria-hidden="true" tabindex="-1"></a>egg_res_subgrouped_mental</span>
<span id="cb22-142"><a href="#cb22-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-143"><a href="#cb22-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-144"><a href="#cb22-144" aria-hidden="true" tabindex="-1"></a><span class="co"># PESCE+ model</span></span>
<span id="cb22-145"><a href="#cb22-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-146"><a href="#cb22-146" aria-hidden="true" tabindex="-1"></a>prereg_arg_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-147"><a href="#cb22-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.rma_arg_tbl</span>(</span>
<span id="cb22-148"><a href="#cb22-148" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> <span class="st">"gt_pop"</span>, </span>
<span id="cb22-149"><a href="#cb22-149" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> <span class="st">"vgt_pop"</span>, </span>
<span id="cb22-150"><a href="#cb22-150" aria-hidden="true" tabindex="-1"></a>    <span class="at">covars =</span> <span class="st">"prereg_chr"</span>,</span>
<span id="cb22-151"><a href="#cb22-151" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"SCEp"</span>,</span>
<span id="cb22-152"><a href="#cb22-152" aria-hidden="true" tabindex="-1"></a>    <span class="at">r =</span> <span class="fl">0.8</span>, </span>
<span id="cb22-153"><a href="#cb22-153" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb22-154"><a href="#cb22-154" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"categorical"</span></span>
<span id="cb22-155"><a href="#cb22-155" aria-hidden="true" tabindex="-1"></a>  ); prereg_arg_mental</span>
<span id="cb22-156"><a href="#cb22-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-157"><a href="#cb22-157" aria-hidden="true" tabindex="-1"></a><span class="co"># PESCEp+ </span></span>
<span id="cb22-158"><a href="#cb22-158" aria-hidden="true" tabindex="-1"></a>subgroup_means_mental <span class="ot">&lt;-</span> <span class="fu">pmap</span>(<span class="at">.l =</span> prereg_arg_mental, <span class="at">.f =</span> .PESCE_RVE) <span class="sc">|&gt;</span> <span class="fu">list_rbind</span>()</span>
<span id="cb22-159"><a href="#cb22-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-160"><a href="#cb22-160" aria-hidden="true" tabindex="-1"></a><span class="co">#subgroup_means &lt;- .SCEp(mod = prereg_chr, data = reint_ma_dat)</span></span>
<span id="cb22-161"><a href="#cb22-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-162"><a href="#cb22-162" aria-hidden="true" tabindex="-1"></a>subgroup_dat_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-163"><a href="#cb22-163" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb22-164"><a href="#cb22-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb22-165"><a href="#cb22-165" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb22-166"><a href="#cb22-166" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb22-167"><a href="#cb22-167" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb22-168"><a href="#cb22-168" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb22-169"><a href="#cb22-169" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb22-170"><a href="#cb22-170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means_mental[<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">18</span>)], egg_res_subgrouped_mental) <span class="sc">|&gt;</span> </span>
<span id="cb22-171"><a href="#cb22-171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-172"><a href="#cb22-172" aria-hidden="true" tabindex="-1"></a>    <span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), </span>
<span id="cb22-173"><a href="#cb22-173" aria-hidden="true" tabindex="-1"></a>    <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>), </span>
<span id="cb22-174"><a href="#cb22-174" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="st">"Effect size level"</span></span>
<span id="cb22-175"><a href="#cb22-175" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb22-176"><a href="#cb22-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-177"><a href="#cb22-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-178"><a href="#cb22-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-179"><a href="#cb22-179" aria-hidden="true" tabindex="-1"></a>y_lim_exp1_mental <span class="ot">&lt;-</span> <span class="fu">max</span>(mental_ma_dat<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb22-180"><a href="#cb22-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-181"><a href="#cb22-181" aria-hidden="true" tabindex="-1"></a>funnel_exp1_mental <span class="ot">&lt;-</span>  </span>
<span id="cb22-182"><a href="#cb22-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tribble</span>(</span>
<span id="cb22-183"><a href="#cb22-183" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb22-184"><a href="#cb22-184" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb22-185"><a href="#cb22-185" aria-hidden="true" tabindex="-1"></a>    <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp1_mental, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp1_mental, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp1_mental, y_lim_exp1_mental,</span>
<span id="cb22-186"><a href="#cb22-186" aria-hidden="true" tabindex="-1"></a>    <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp1_mental, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp1_mental, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp1_mental, y_lim_exp1_mental,</span>
<span id="cb22-187"><a href="#cb22-187" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb22-188"><a href="#cb22-188" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb22-189"><a href="#cb22-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-190"><a href="#cb22-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-191"><a href="#cb22-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-192"><a href="#cb22-192" aria-hidden="true" tabindex="-1"></a>alpha_line <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb22-193"><a href="#cb22-193" aria-hidden="true" tabindex="-1"></a>polygon_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"grey10"</span>, <span class="st">"lightcyan"</span>)</span>
<span id="cb22-194"><a href="#cb22-194" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb22-195"><a href="#cb22-195" aria-hidden="true" tabindex="-1"></a>reg_test <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb22-196"><a href="#cb22-196" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> <span class="st">"longdash"</span></span>
<span id="cb22-197"><a href="#cb22-197" aria-hidden="true" tabindex="-1"></a>reg_color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb22-198"><a href="#cb22-198" aria-hidden="true" tabindex="-1"></a>breaks_y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>)</span>
<span id="cb22-199"><a href="#cb22-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-200"><a href="#cb22-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-201"><a href="#cb22-201" aria-hidden="true" tabindex="-1"></a>es_level_fp_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-202"><a href="#cb22-202" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb22-203"><a href="#cb22-203" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-204"><a href="#cb22-204" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="st">"Effect size level"</span>,</span>
<span id="cb22-205"><a href="#cb22-205" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_bias =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-206"><a href="#cb22-206" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> D5 <span class="sc">==</span> <span class="st">"Low"</span> <span class="sc">~</span> <span class="st">"Low"</span>,</span>
<span id="cb22-207"><a href="#cb22-207" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(D5, <span class="st">"Some"</span>) <span class="sc">~</span> <span class="st">"Moderate"</span>,</span>
<span id="cb22-208"><a href="#cb22-208" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(D5, <span class="st">"High"</span>) <span class="sc">~</span> <span class="st">"Serious"</span>,</span>
<span id="cb22-209"><a href="#cb22-209" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> D7</span>
<span id="cb22-210"><a href="#cb22-210" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-211"><a href="#cb22-211" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-212"><a href="#cb22-212" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_bias =</span> <span class="fu">factor</span>(report_bias, <span class="at">levels =</span>  <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Moderate"</span>, <span class="st">"Serious"</span>)),</span>
<span id="cb22-213"><a href="#cb22-213" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-214"><a href="#cb22-214" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_sample =</span> <span class="fu">if_else</span>(N_total <span class="sc">&gt;</span> <span class="dv">100</span>, <span class="st">"Sample above 100"</span>, <span class="st">"Sample below 100"</span>)</span>
<span id="cb22-215"><a href="#cb22-215" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-216"><a href="#cb22-216" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb22-217"><a href="#cb22-217" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb22-218"><a href="#cb22-218" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb22-219"><a href="#cb22-219" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb22-220"><a href="#cb22-220" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb22-221"><a href="#cb22-221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb22-222"><a href="#cb22-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_mental, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb22-223"><a href="#cb22-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb22-224"><a href="#cb22-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_mental, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb22-225"><a href="#cb22-225" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop, <span class="at">color =</span> overall_rob), <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb22-226"><a href="#cb22-226" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb22-227"><a href="#cb22-227" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(level<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb22-228"><a href="#cb22-228" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp1_mental, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb22-229"><a href="#cb22-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb22-230"><a href="#cb22-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb22-231"><a href="#cb22-231" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Low"</span> <span class="ot">=</span> <span class="st">"green3"</span>, <span class="st">"Some concerns/Moderate"</span> <span class="ot">=</span> <span class="st">"yellow2"</span>, <span class="st">"Serious/High"</span> <span class="ot">=</span> <span class="st">"red"</span>)</span>
<span id="cb22-232"><a href="#cb22-232" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb22-233"><a href="#cb22-233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb22-234"><a href="#cb22-234" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Modified standard error"</span>, </span>
<span id="cb22-235"><a href="#cb22-235" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Standardized mean difference (Hedges' g)"</span>, </span>
<span id="cb22-236"><a href="#cb22-236" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb22-237"><a href="#cb22-237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb22-238"><a href="#cb22-238" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb22-239"><a href="#cb22-239" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb22-240"><a href="#cb22-240" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-241"><a href="#cb22-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Overall risk of bias"</span>) <span class="sc">+</span></span>
<span id="cb22-242"><a href="#cb22-242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb22-243"><a href="#cb22-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-244"><a href="#cb22-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-245"><a href="#cb22-245" aria-hidden="true" tabindex="-1"></a><span class="co"># Make aggregate plot</span></span>
<span id="cb22-246"><a href="#cb22-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-247"><a href="#cb22-247" aria-hidden="true" tabindex="-1"></a>mental_dat_agg <span class="ot">&lt;-</span> </span>
<span id="cb22-248"><a href="#cb22-248" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb22-249"><a href="#cb22-249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">escalc</span>(<span class="at">measure =</span> <span class="st">"SMD"</span>, <span class="at">yi =</span> gt_pop, <span class="at">vi =</span> Wgt_pop, <span class="at">data =</span> _) <span class="sc">|&gt;</span> </span>
<span id="cb22-250"><a href="#cb22-250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aggregate.escalc</span>(<span class="at">cluster =</span> study, <span class="at">rho =</span> <span class="fl">0.8</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-251"><a href="#cb22-251" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-252"><a href="#cb22-252" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">sqrt</span>(vi)</span>
<span id="cb22-253"><a href="#cb22-253" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-254"><a href="#cb22-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-255"><a href="#cb22-255" aria-hidden="true" tabindex="-1"></a>prereg_dat_agg_mental <span class="ot">&lt;-</span>  </span>
<span id="cb22-256"><a href="#cb22-256" aria-hidden="true" tabindex="-1"></a>  mental_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb22-257"><a href="#cb22-257" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb22-258"><a href="#cb22-258" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb22-259"><a href="#cb22-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-260"><a href="#cb22-260" aria-hidden="true" tabindex="-1"></a>egg_prereg_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-261"><a href="#cb22-261" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(<span class="at">yi =</span> yi, <span class="at">vi =</span> vi, <span class="at">data =</span> prereg_dat_agg_mental, <span class="at">control=</span><span class="fu">list</span>(<span class="at">stepadj=</span><span class="fl">0.5</span>, <span class="at">maxiter=</span><span class="dv">1000</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb22-262"><a href="#cb22-262" aria-hidden="true" tabindex="-1"></a>  <span class="fu">regtest</span>()</span>
<span id="cb22-263"><a href="#cb22-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-264"><a href="#cb22-264" aria-hidden="true" tabindex="-1"></a>egg_prereg_agg_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-265"><a href="#cb22-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb22-266"><a href="#cb22-266" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb22-267"><a href="#cb22-267" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_agg_mental<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb22-268"><a href="#cb22-268" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_agg_mental<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb22-269"><a href="#cb22-269" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-270"><a href="#cb22-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-271"><a href="#cb22-271" aria-hidden="true" tabindex="-1"></a>notprereg_dat_agg_mental <span class="ot">&lt;-</span>  </span>
<span id="cb22-272"><a href="#cb22-272" aria-hidden="true" tabindex="-1"></a>  mental_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb22-273"><a href="#cb22-273" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb22-274"><a href="#cb22-274" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb22-275"><a href="#cb22-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-276"><a href="#cb22-276" aria-hidden="true" tabindex="-1"></a>egg_notprereg_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-277"><a href="#cb22-277" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(<span class="at">yi =</span> yi, <span class="at">vi =</span> vi, <span class="at">data =</span> notprereg_dat_agg_mental) <span class="sc">|&gt;</span> </span>
<span id="cb22-278"><a href="#cb22-278" aria-hidden="true" tabindex="-1"></a>  <span class="fu">regtest</span>()</span>
<span id="cb22-279"><a href="#cb22-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-280"><a href="#cb22-280" aria-hidden="true" tabindex="-1"></a>egg_notprereg_agg_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-281"><a href="#cb22-281" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb22-282"><a href="#cb22-282" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Not preregistered"</span>,</span>
<span id="cb22-283"><a href="#cb22-283" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_notprereg_agg_mental<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb22-284"><a href="#cb22-284" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_notprereg_agg_mental<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb22-285"><a href="#cb22-285" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-286"><a href="#cb22-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-287"><a href="#cb22-287" aria-hidden="true" tabindex="-1"></a>egg_res_agg_subgrouped_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-288"><a href="#cb22-288" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb22-289"><a href="#cb22-289" aria-hidden="true" tabindex="-1"></a>    egg_notprereg_agg_res_mental, </span>
<span id="cb22-290"><a href="#cb22-290" aria-hidden="true" tabindex="-1"></a>    egg_prereg_agg_res_mental</span>
<span id="cb22-291"><a href="#cb22-291" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-292"><a href="#cb22-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-293"><a href="#cb22-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-294"><a href="#cb22-294" aria-hidden="true" tabindex="-1"></a>means_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-295"><a href="#cb22-295" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(yi, vi, <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>, <span class="at">data =</span> mental_dat_agg) <span class="sc">|&gt;</span> </span>
<span id="cb22-296"><a href="#cb22-296" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-297"><a href="#cb22-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-298"><a href="#cb22-298" aria-hidden="true" tabindex="-1"></a>subgroup_means_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-299"><a href="#cb22-299" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb22-300"><a href="#cb22-300" aria-hidden="true" tabindex="-1"></a>    <span class="at">Moderator =</span> <span class="fu">c</span>(<span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>),</span>
<span id="cb22-301"><a href="#cb22-301" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_effect =</span> <span class="fu">as.numeric</span>(means_agg_mental<span class="sc">$</span>b), </span>
<span id="cb22-302"><a href="#cb22-302" aria-hidden="true" tabindex="-1"></a>    <span class="at">LL =</span> <span class="fu">as.numeric</span>(means_agg_mental<span class="sc">$</span>ci.lb), </span>
<span id="cb22-303"><a href="#cb22-303" aria-hidden="true" tabindex="-1"></a>    <span class="at">UL =</span> <span class="fu">as.numeric</span>(means_agg_mental<span class="sc">$</span>ci.ub)</span>
<span id="cb22-304"><a href="#cb22-304" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-305"><a href="#cb22-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-306"><a href="#cb22-306" aria-hidden="true" tabindex="-1"></a>subgroup_dat_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-307"><a href="#cb22-307" aria-hidden="true" tabindex="-1"></a>  mental_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb22-308"><a href="#cb22-308" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb22-309"><a href="#cb22-309" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb22-310"><a href="#cb22-310" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb22-311"><a href="#cb22-311" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb22-312"><a href="#cb22-312" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb22-313"><a href="#cb22-313" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb22-314"><a href="#cb22-314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr) <span class="sc">|&gt;</span> </span>
<span id="cb22-315"><a href="#cb22-315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means_agg_mental, egg_res_agg_subgrouped_mental) <span class="sc">|&gt;</span> </span>
<span id="cb22-316"><a href="#cb22-316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>), <span class="at">level =</span> <span class="st">"Study level"</span>) </span>
<span id="cb22-317"><a href="#cb22-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-318"><a href="#cb22-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-319"><a href="#cb22-319" aria-hidden="true" tabindex="-1"></a><span class="co">#subgroup_dat &lt;- </span></span>
<span id="cb22-320"><a href="#cb22-320" aria-hidden="true" tabindex="-1"></a><span class="co">#  reintergation_dat |&gt; </span></span>
<span id="cb22-321"><a href="#cb22-321" aria-hidden="true" tabindex="-1"></a><span class="co">#  summarise(</span></span>
<span id="cb22-322"><a href="#cb22-322" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt = mean(gt),</span></span>
<span id="cb22-323"><a href="#cb22-323" aria-hidden="true" tabindex="-1"></a><span class="co">#    Wse = mean(Wse),</span></span>
<span id="cb22-324"><a href="#cb22-324" aria-hidden="true" tabindex="-1"></a><span class="co">#    analysis_plan = analysis_plan[1],</span></span>
<span id="cb22-325"><a href="#cb22-325" aria-hidden="true" tabindex="-1"></a><span class="co">#    .by = prereg_chr</span></span>
<span id="cb22-326"><a href="#cb22-326" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb22-327"><a href="#cb22-327" aria-hidden="true" tabindex="-1"></a><span class="co">#  bind_cols(subgroup_means[2:3,], egg_res_subgrouped) |&gt; </span></span>
<span id="cb22-328"><a href="#cb22-328" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(slope_low = qnorm(0.025), slope_high = qnorm(0.975), level = "Effect size level") </span></span>
<span id="cb22-329"><a href="#cb22-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-330"><a href="#cb22-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-331"><a href="#cb22-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-332"><a href="#cb22-332" aria-hidden="true" tabindex="-1"></a>y_lim_exp2_mental <span class="ot">&lt;-</span> <span class="fu">max</span>(mental_dat_agg<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb22-333"><a href="#cb22-333" aria-hidden="true" tabindex="-1"></a>y_lim_exp2_mental  </span>
<span id="cb22-334"><a href="#cb22-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-335"><a href="#cb22-335" aria-hidden="true" tabindex="-1"></a>funnel_exp2_mental <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb22-336"><a href="#cb22-336" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb22-337"><a href="#cb22-337" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb22-338"><a href="#cb22-338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp2_mental, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp2_mental, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp2_mental, y_lim_exp2_mental,</span>
<span id="cb22-339"><a href="#cb22-339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp2_mental, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp2_mental, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp2_mental, y_lim_exp2_mental,</span>
<span id="cb22-340"><a href="#cb22-340" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb22-341"><a href="#cb22-341" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb22-342"><a href="#cb22-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-343"><a href="#cb22-343" aria-hidden="true" tabindex="-1"></a>study_level_fp_mental <span class="ot">&lt;-</span> </span>
<span id="cb22-344"><a href="#cb22-344" aria-hidden="true" tabindex="-1"></a>  mental_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb22-345"><a href="#cb22-345" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">level =</span> <span class="st">"Study level"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-346"><a href="#cb22-346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb22-347"><a href="#cb22-347" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb22-348"><a href="#cb22-348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb22-349"><a href="#cb22-349" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb22-350"><a href="#cb22-350" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb22-351"><a href="#cb22-351" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_agg_mental, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb22-352"><a href="#cb22-352" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb22-353"><a href="#cb22-353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg_mental, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb22-354"><a href="#cb22-354" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop), <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb22-355"><a href="#cb22-355" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb22-356"><a href="#cb22-356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb22-357"><a href="#cb22-357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(level<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb22-358"><a href="#cb22-358" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp2_mental, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb22-359"><a href="#cb22-359" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb22-360"><a href="#cb22-360" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb22-361"><a href="#cb22-361" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb22-362"><a href="#cb22-362" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb22-363"><a href="#cb22-363" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-364"><a href="#cb22-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-365"><a href="#cb22-365" aria-hidden="true" tabindex="-1"></a>ylab_mental <span class="ot">&lt;-</span> es_level_fp_mental<span class="sc">$</span>labels<span class="sc">$</span>x</span>
<span id="cb22-366"><a href="#cb22-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-367"><a href="#cb22-367" aria-hidden="true" tabindex="-1"></a>study_level_fp_mental<span class="sc">$</span>labels<span class="sc">$</span>x <span class="ot">&lt;-</span> es_level_fp_mental<span class="sc">$</span>labels<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="st">""</span> </span>
<span id="cb22-368"><a href="#cb22-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-369"><a href="#cb22-369" aria-hidden="true" tabindex="-1"></a><span class="co">#png("plots/funnel plots (overall effect) across type of mental health.png", width = 6.5, height = 5, res = 300, unit = "in")</span></span>
<span id="cb22-370"><a href="#cb22-370" aria-hidden="true" tabindex="-1"></a>study_level_fp_mental <span class="sc">/</span> es_level_fp_mental</span>
<span id="cb22-371"><a href="#cb22-371" aria-hidden="true" tabindex="-1"></a>grid<span class="sc">::</span><span class="fu">grid.draw</span>(grid<span class="sc">::</span><span class="fu">textGrob</span>(ylab_mental, <span class="at">y =</span> <span class="fl">0.6</span>, <span class="at">x =</span> <span class="fl">0.02</span>, <span class="at">rot =</span> <span class="dv">90</span>))</span>
<span id="cb22-372"><a href="#cb22-372" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off()</span></span>
<span id="cb22-373"><a href="#cb22-373" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$`Acarturk et al. 2022`
     [,1] [,2] [,3] [,4]
[1,]  1.0  0.8  0.8  0.8
[2,]  0.8  1.0  0.8  0.8
[3,]  0.8  0.8  1.0  0.8
[4,]  0.8  0.8  0.8  1.0

$`Baekkelund et al. 2022`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Cano-Vindel et al. 2021`
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]
 [1,]  1.0  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8   0.8   0.8   0.8
 [2,]  0.8  1.0  0.8  0.8  0.8  0.8  0.8  0.8  0.8   0.8   0.8   0.8
 [3,]  0.8  0.8  1.0  0.8  0.8  0.8  0.8  0.8  0.8   0.8   0.8   0.8
 [4,]  0.8  0.8  0.8  1.0  0.8  0.8  0.8  0.8  0.8   0.8   0.8   0.8
 [5,]  0.8  0.8  0.8  0.8  1.0  0.8  0.8  0.8  0.8   0.8   0.8   0.8
 [6,]  0.8  0.8  0.8  0.8  0.8  1.0  0.8  0.8  0.8   0.8   0.8   0.8
 [7,]  0.8  0.8  0.8  0.8  0.8  0.8  1.0  0.8  0.8   0.8   0.8   0.8
 [8,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  1.0  0.8   0.8   0.8   0.8
 [9,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8  1.0   0.8   0.8   0.8
[10,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8   1.0   0.8   0.8
[11,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8   0.8   1.0   0.8
[12,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8   0.8   0.8   1.0

$`Craigie &amp; Nathan 2009`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Crawford et al. 2012`
     [,1] [,2] [,3] [,4]
[1,]  1.0  0.5  0.8  0.4
[2,]  0.5  1.0  0.4  0.8
[3,]  0.8  0.4  1.0  0.5
[4,]  0.4  0.8  0.5  1.0

$`Dyck et al. 2000`
     [,1]
[1,]    1

$`Gatz et al. 2007`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Gestel-Timmermans et al. 2012`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Gonzalez &amp; Prihoda 2007`
     [,1]
[1,]    1

$`Gordon et al. 2018`
     [,1]
[1,]    1

$`Gutman et al. 2019`
     [,1]
[1,]    1

$`Hagen et al. 2005`
     [,1] [,2] [,3]
[1,]  1.0  0.8  0.8
[2,]  0.8  1.0  0.8
[3,]  0.8  0.8  1.0

$`Halperin et al. 2000`
     [,1] [,2] [,3]
[1,]  1.0  0.8  0.8
[2,]  0.8  1.0  0.8
[3,]  0.8  0.8  1.0

$`Haslam et al. 2019`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Hilden et al. 2021`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Himle et al. 2014`
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
[1,]  1.0  0.8  0.8  0.8  0.8  0.8  0.8  0.8
[2,]  0.8  1.0  0.8  0.8  0.8  0.8  0.8  0.8
[3,]  0.8  0.8  1.0  0.8  0.8  0.8  0.8  0.8
[4,]  0.8  0.8  0.8  1.0  0.8  0.8  0.8  0.8
[5,]  0.8  0.8  0.8  0.8  1.0  0.8  0.8  0.8
[6,]  0.8  0.8  0.8  0.8  0.8  1.0  0.8  0.8
[7,]  0.8  0.8  0.8  0.8  0.8  0.8  1.0  0.8
[8,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  1.0

$`Jacob et al. 2010`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`James et al. 2004`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Kanie et al. 2019`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Lim et al. 2020`
     [,1] [,2] [,3] [,4] [,5]
[1,]  1.0  0.8  0.8  0.8  0.8
[2,]  0.8  1.0  0.8  0.8  0.8
[3,]  0.8  0.8  1.0  0.8  0.8
[4,]  0.8  0.8  0.8  1.0  0.8
[5,]  0.8  0.8  0.8  0.8  1.0

$`Lloyd-Evans et al. 2020`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Madigan et al. 2013`
     [,1] [,2] [,3] [,4] [,5] [,6]
[1,]  1.0  0.8  0.8  0.8 0.80 0.80
[2,]  0.8  1.0  0.8  0.8 0.80 0.80
[3,]  0.8  0.8  1.0  0.8 0.80 0.80
[4,]  0.8  0.8  0.8  1.0 0.80 0.80
[5,]  0.8  0.8  0.8  0.8 1.00 0.79
[6,]  0.8  0.8  0.8  0.8 0.79 1.00

$`McCay et al. 2006`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Michalak et al. 2015`
     [,1] [,2] [,3] [,4]
[1,] 1.00 0.41  1.0  0.4
[2,] 0.41 1.00  0.4  1.0
[3,] 1.00 0.40  1.0  0.4
[4,] 0.40 1.00  0.4  1.0

$`Morley et al. 2014`
     [,1] [,2] [,3]
[1,]  1.0  0.8  0.8
[2,]  0.8  1.0  0.8
[3,]  0.8  0.8  1.0

$`Morton et al. 2012`
     [,1] [,2] [,3] [,4]
[1,]  1.0  0.8  0.8  0.8
[2,]  0.8  1.0  0.8  0.8
[3,]  0.8  0.8  1.0  0.8
[4,]  0.8  0.8  0.8  1.0

$`Patterson et al. 2003`
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
[1,]  1.0  0.8  0.8  0.8  0.8  0.8  0.8  0.8
[2,]  0.8  1.0  0.8  0.8  0.8  0.8  0.8  0.8
[3,]  0.8  0.8  1.0  0.8  0.8  0.8  0.8  0.8
[4,]  0.8  0.8  0.8  1.0  0.8  0.8  0.8  0.8
[5,]  0.8  0.8  0.8  0.8  1.0  0.8  0.8  0.8
[6,]  0.8  0.8  0.8  0.8  0.8  1.0  0.8  0.8
[7,]  0.8  0.8  0.8  0.8  0.8  0.8  1.0  0.8
[8,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  1.0

$`Popolo et al. 2019`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Rabenstein et al. 2016`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Rusch et al. 2019`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Sacks et al. 2011`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Sajatovic et al. 2009`
     [,1] [,2] [,3] [,4] [,5] [,6]
[1,]  1.0  0.8  0.8  0.8  0.8  0.8
[2,]  0.8  1.0  0.8  0.8  0.8  0.8
[3,]  0.8  0.8  1.0  0.8  0.8  0.8
[4,]  0.8  0.8  0.8  1.0  0.8  0.8
[5,]  0.8  0.8  0.8  0.8  1.0  0.8
[6,]  0.8  0.8  0.8  0.8  0.8  1.0

$`Saloheimo et al. 2016`
     [,1]
[1,]    1

$`Schafer et al. 2019`
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14] [,15] [,16] [,17]
 [1,] 1.00 0.49 0.80 0.39 0.80 0.39 0.80 0.39 0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80
 [2,] 0.49 1.00 0.39 0.80 0.39 0.80 0.39 0.80 0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39
 [3,] 0.80 0.39 1.00 0.49 0.80 0.39 0.80 0.39 0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80
 [4,] 0.39 0.80 0.49 1.00 0.39 0.80 0.39 0.80 0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39
 [5,] 0.80 0.39 0.80 0.39 1.00 0.49 0.80 0.39 0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80
 [6,] 0.39 0.80 0.39 0.80 0.49 1.00 0.39 0.80 0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39
 [7,] 0.80 0.39 0.80 0.39 0.80 0.39 1.00 0.49 0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80
 [8,] 0.39 0.80 0.39 0.80 0.39 0.80 0.49 1.00 0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39
 [9,] 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39 1.00  0.49  0.80  0.39  0.80  0.39  0.80  0.39  0.80
[10,] 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.49  1.00  0.39  0.80  0.39  0.80  0.39  0.80  0.39
[11,] 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80  0.39  1.00  0.49  0.80  0.39  0.80  0.39  0.80
[12,] 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39  0.80  0.49  1.00  0.39  0.80  0.39  0.80  0.39
[13,] 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80  0.39  0.80  0.39  1.00  0.49  0.80  0.39  0.80
[14,] 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39  0.80  0.39  0.80  0.49  1.00  0.39  0.80  0.39
[15,] 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80  0.39  0.80  0.39  0.80  0.39  1.00  0.49  0.80
[16,] 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39  0.80  0.39  0.80  0.39  0.80  0.49  1.00  0.39
[17,] 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.39  1.00
[18,] 0.39 0.80 0.39 0.80 0.39 0.80 0.39 0.80 0.39  0.80  0.39  0.80  0.39  0.80  0.39  0.80  0.49
      [,18]
 [1,]  0.39
 [2,]  0.80
 [3,]  0.39
 [4,]  0.80
 [5,]  0.39
 [6,]  0.80
 [7,]  0.39
 [8,]  0.80
 [9,]  0.39
[10,]  0.80
[11,]  0.39
[12,]  0.80
[13,]  0.39
[14,]  0.80
[15,]  0.39
[16,]  0.80
[17,]  0.49
[18,]  1.00

$`Schrank et al. 2016`
     [,1]
[1,]    1

$`Smith et al. 2021`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Somers et al. 2017`
     [,1]
[1,]    1

$`Tjaden et al. 2021`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Valiente et al. 2022`
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9]
 [1,]  1.0  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8
 [2,]  0.8  1.0  0.8  0.8  0.8  0.8  0.8  0.8  0.8
 [3,]  0.8  0.8  1.0  0.8  0.8  0.8  0.8  0.8  0.8
 [4,]  0.8  0.8  0.8  1.0  0.8  0.8  0.8  0.8  0.8
 [5,]  0.8  0.8  0.8  0.8  1.0  0.8  0.8  0.8  0.8
 [6,]  0.8  0.8  0.8  0.8  0.8  1.0  0.8  0.8  0.8
 [7,]  0.8  0.8  0.8  0.8  0.8  0.8  1.0  0.8  0.8
 [8,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  1.0  0.8
 [9,]  0.8  0.8  0.8  0.8  0.8  0.8  0.8  0.8  1.0

$`Volpe et al. 2015`
     [,1] [,2]
[1,]  1.0  0.8
[2,]  0.8  1.0

$`Wojtalik et al. 2022`
     [,1]
[1,]    1

$`Wuthrich &amp; Rapee 2013`
     [,1] [,2] [,3]
[1,]  1.0  0.8  0.8
[2,]  0.8  1.0  0.8
[3,]  0.8  0.8  1.0

# A tibble: 2  3
  subgroup          egg_intercept egg_slope
  &lt;chr&gt;                     &lt;dbl&gt;     &lt;dbl&gt;
1 Preregistered            0.2485   -0.1550
2 Not preregistered       -0.1376    1.590 
# A tibble: 1  10
  formula   es     var     subgrp     rand       structure   rho data                model table    
  &lt;list&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;      &lt;list&gt;     &lt;list&gt;    &lt;dbl&gt; &lt;list&gt;              &lt;chr&gt; &lt;chr&gt;    
1 &lt;formula&gt; gt_pop vgt_pop prereg_chr &lt;list [2]&gt; &lt;chr [2]&gt;   0.8 &lt;tibble [144  94]&gt; SCEp  categori
[1] 0.5114389</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-mental-overall-fp" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-pos="H">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mental-overall-fp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="pub_bias_files/figure-html/fig-mental-overall-fp-1.png" class="img-fluid figure-img" data-fig-pos="H" width="864">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mental-overall-fp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Funnel plot across all mental health outcomes
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="investigating-the-impact-of-cano-vindel-et-al.-1" class="level3">
<h3 class="anchored" data-anchor-id="investigating-the-impact-of-cano-vindel-et-al.-1">Investigating the impact of Cano-Vindel et al.</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reint-overall-fp-cano-mental}</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>prereg_dat_cano_mental <span class="ot">&lt;-</span>  </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">cano_vindel =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(study, <span class="st">"Cano"</span>), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">cano_vindel =</span> <span class="fu">factor</span>(cano_vindel)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>V_mat_prereg_cano_mental <span class="ot">&lt;-</span> </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_cano_mental,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>W_prereg_cano_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_prereg_cano_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>egg_prereg_cano_mental <span class="ot">&lt;-</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_prereg_cano_mental,</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">#W = W_prereg_cano_mental,</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop <span class="sc">+</span> cano_vindel,</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_cano_mental,</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>egg_prereg_res_cano_mental <span class="ot">&lt;-</span> </span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_cano_mental<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_cano_mental<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>subgroup_dat_cano_mental <span class="ot">&lt;-</span> </span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>  prereg_dat_cano_mental <span class="sc">|&gt;</span> </span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb24-53"><a href="#cb24-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means_mental[<span class="dv">3</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">18</span>)], egg_prereg_res_cano_mental) <span class="sc">|&gt;</span> </span>
<span id="cb24-54"><a href="#cb24-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>)) </span>
<span id="cb24-55"><a href="#cb24-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-56"><a href="#cb24-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-57"><a href="#cb24-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-58"><a href="#cb24-58" aria-hidden="true" tabindex="-1"></a>y_lim_exp_cano_mental <span class="ot">&lt;-</span> <span class="fu">max</span>(prereg_dat_cano_mental<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb24-59"><a href="#cb24-59" aria-hidden="true" tabindex="-1"></a>y_lim_exp_cano_mental  </span>
<span id="cb24-60"><a href="#cb24-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-61"><a href="#cb24-61" aria-hidden="true" tabindex="-1"></a>funnel_exp_cano_mental <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb24-62"><a href="#cb24-62" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb24-63"><a href="#cb24-63" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb24-64"><a href="#cb24-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp_cano_mental, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp_cano_mental, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp_cano_mental, y_lim_exp_cano_mental,</span>
<span id="cb24-65"><a href="#cb24-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp_cano_mental, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp_cano_mental, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp_cano_mental, y_lim_exp_cano_mental,</span>
<span id="cb24-66"><a href="#cb24-66" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb24-67"><a href="#cb24-67" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb24-68"><a href="#cb24-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-69"><a href="#cb24-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-70"><a href="#cb24-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-71"><a href="#cb24-71" aria-hidden="true" tabindex="-1"></a>alpha_line <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb24-72"><a href="#cb24-72" aria-hidden="true" tabindex="-1"></a>polygon_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"grey10"</span>, <span class="st">"lightcyan"</span>)</span>
<span id="cb24-73"><a href="#cb24-73" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb24-74"><a href="#cb24-74" aria-hidden="true" tabindex="-1"></a>reg_test <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb24-75"><a href="#cb24-75" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> <span class="st">"longdash"</span></span>
<span id="cb24-76"><a href="#cb24-76" aria-hidden="true" tabindex="-1"></a>reg_color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb24-77"><a href="#cb24-77" aria-hidden="true" tabindex="-1"></a>breaks_y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>)</span>
<span id="cb24-78"><a href="#cb24-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-79"><a href="#cb24-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-80"><a href="#cb24-80" aria-hidden="true" tabindex="-1"></a>cano_fp_mental <span class="ot">&lt;-</span> </span>
<span id="cb24-81"><a href="#cb24-81" aria-hidden="true" tabindex="-1"></a>  prereg_dat_cano_mental <span class="sc">|&gt;</span> </span>
<span id="cb24-82"><a href="#cb24-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">alpha_val =</span> <span class="fu">if_else</span>(cano_vindel <span class="sc">==</span> <span class="dv">1</span>, <span class="fl">0.9</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb24-83"><a href="#cb24-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb24-84"><a href="#cb24-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb24-85"><a href="#cb24-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb24-86"><a href="#cb24-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb24-87"><a href="#cb24-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb24-88"><a href="#cb24-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_cano_mental, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb24-89"><a href="#cb24-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb24-90"><a href="#cb24-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano_mental, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb24-91"><a href="#cb24-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop, <span class="at">col =</span> cano_vindel, <span class="at">alpha =</span> alpha_val), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb24-92"><a href="#cb24-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb24-93"><a href="#cb24-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb24-94"><a href="#cb24-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb24-95"><a href="#cb24-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp_cano_mental, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb24-96"><a href="#cb24-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb24-97"><a href="#cb24-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb24-98"><a href="#cb24-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Modified standard error"</span>, </span>
<span id="cb24-99"><a href="#cb24-99" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Standardized mean difference (Hedges' g)"</span>, </span>
<span id="cb24-100"><a href="#cb24-100" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>, <span class="at">shape =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb24-101"><a href="#cb24-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb24-102"><a href="#cb24-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb24-103"><a href="#cb24-103" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-104"><a href="#cb24-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Cano-vindel"</span>) <span class="sc">+</span></span>
<span id="cb24-105"><a href="#cb24-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="st">"none"</span>, <span class="at">alpha =</span> <span class="st">"none"</span>)</span>
<span id="cb24-106"><a href="#cb24-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-107"><a href="#cb24-107" aria-hidden="true" tabindex="-1"></a><span class="co">#png("plots/funnel plots (overall effect) without Cano-Vindel.png", width = 8, height = 5.5, res = 300, unit = "in")</span></span>
<span id="cb24-108"><a href="#cb24-108" aria-hidden="true" tabindex="-1"></a>cano_fp_mental</span>
<span id="cb24-109"><a href="#cb24-109" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off()</span></span>
<span id="cb24-110"><a href="#cb24-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4451214</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="pub_bias_files/figure-html/reint-overall-fp-cano-mental-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="publication-bias-tests-mental-health" class="level2">
<h2 class="anchored" data-anchor-id="publication-bias-tests-mental-health">Publication bias tests (mental health)</h2>
<section id="hyema-1" class="level3">
<h3 class="anchored" data-anchor-id="hyema-1">HYEMA</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r hyema-mental}</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>hyema_overall_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/hyema_overall_mental.rds"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall res mental health (Robust HYEMA)</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>hyema_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Robust HYEMA"</span>,</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(mental_ma_dat),</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(hyema_overall_mental<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(hyema_overall_mental<span class="sc">$</span>CIL_bootstrap[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(hyema_overall_mental<span class="sc">$</span>CIU_bootstrap[<span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(hyema_overall_mental<span class="sc">$</span>Est[<span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> hyema_overall_mental<span class="sc">$</span>Est[<span class="dv">2</span>],</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a><span class="co"># HYEMA across outcome</span></span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>hyema_outcome_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/hyema_overcome_mental.rds"</span>)</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>hyema_outcome_f_stat_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/F_boot_pval_outcome_mental.rds"</span>)</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a><span class="co"># To temporarily get tau</span></span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a><span class="co">#hyema_obj_mental &lt;- </span></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a><span class="co">#  puniform::hybrid(</span></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = mental_ma_dat$gt_pop, </span></span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a><span class="co">#    vi = mental_ma_dat$Wgt_pop, </span></span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a><span class="co">#    conventional = mental_ma_dat$conventional, </span></span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a><span class="co">#    side = "right",</span></span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a><span class="co">#    mods = ~ mental_ma_dat$outcome_type - 1</span></span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a><span class="co">#  suppressWarnings()</span></span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a>hyema_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span>),</span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(hyema_outcome_mental<span class="sc">$</span>Est[<span class="sc">-</span><span class="dv">5</span>]), <span class="dv">3</span>), </span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(hyema_outcome_mental<span class="sc">$</span>CIL_bootstrap[<span class="sc">-</span><span class="dv">5</span>], <span class="dv">3</span>),</span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(hyema_outcome_mental<span class="sc">$</span>CIU_bootstrap[<span class="sc">-</span><span class="dv">5</span>], <span class="dv">3</span>),</span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(hyema_outcome_f_stat_mental, <span class="dv">3</span>)),</span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(hyema_outcome_mental<span class="sc">$</span>Est[<span class="dv">5</span>], <span class="dv">3</span>)),</span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>( hyema_outcome_mental<span class="sc">$</span>Est[<span class="dv">5</span>], <span class="dv">3</span>)),</span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"hyema"</span></span>
<span id="cb26-66"><a href="#cb26-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-67"><a href="#cb26-67" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-68"><a href="#cb26-68" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="puniform-1" class="level3">
<h3 class="anchored" data-anchor-id="puniform-1">Puniform*</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r puniform-mental}</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Not corrected for clustering as it has showed acceptable performance in</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># dependent effect size data</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>puniform_star_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  puniform<span class="sc">::</span><span class="fu">puni_star</span>(</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">tobs =</span> mental_ma_dat<span class="sc">$</span>t_i, </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n1i =</span> mental_ma_dat<span class="sc">$</span>N_t, </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">n2i =</span> mental_ma_dat<span class="sc">$</span>N_c, </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"right"</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>puniform_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"puniform star"</span>,</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(mental_ma_dat),</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(puniform_star_res_mental<span class="sc">$</span>est), <span class="dv">3</span>), </span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(puniform_star_res_mental<span class="sc">$</span>ci.lb, <span class="dv">3</span>),</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(puniform_star_res_mental<span class="sc">$</span>ci.ub, <span class="dv">3</span>),</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> puniform_star_res_mental<span class="sc">$</span>pval<span class="fl">.0</span>,</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(puniform_star_res_mental<span class="sc">$</span>tau2), <span class="dv">3</span>),</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau,</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="worst-case-meta-analysis-1" class="level3">
<h3 class="anchored" data-anchor-id="worst-case-meta-analysis-1">Worst-case meta-analysis</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r wc-mental}</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>worst_dat_mental <span class="ot">&lt;-</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span>  </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="dv">2</span> <span class="sc">*</span> ( <span class="dv">1</span> <span class="sc">-</span> <span class="fu">pnorm</span>( <span class="fu">abs</span>(gt_pop) <span class="sc">/</span> <span class="fu">sqrt</span>(vgt_pop) ) ),</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">affirmativity =</span> <span class="fu">if_else</span>(pval <span class="sc">&lt;</span> .<span class="dv">05</span> <span class="sc">&amp;</span> gt_pop <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"affirmative"</span>, <span class="st">"nonaffirmative"</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(affirmativity <span class="sc">==</span> <span class="st">"nonaffirmative"</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>wc_prereg_studies_mental <span class="ot">&lt;-</span> </span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  worst_dat_mental <span class="sc">|&gt;</span> </span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">prereg_chr =</span> <span class="fu">unique</span>(prereg_chr),</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> study</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_studies =</span> <span class="fu">n</span>(),</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr)</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>wc_prereg_es_mental <span class="ot">&lt;-</span> </span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>  worst_dat_mental <span class="sc">|&gt;</span> </span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_effects =</span> <span class="fu">n</span>(), <span class="at">.by =</span> prereg_chr) <span class="sc">|&gt;</span> </span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr) </span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome</span></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>wc_outcome_studies_mental <span class="ot">&lt;-</span> </span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>  worst_dat_mental <span class="sc">|&gt;</span> </span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(outcome_type, study)</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_studies =</span> <span class="fu">n</span>(),</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> outcome_type</span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(outcome_type)</span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>wc_outcome_es_mental <span class="ot">&lt;-</span> </span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>  worst_dat_mental <span class="sc">|&gt;</span> </span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_effects =</span> <span class="fu">n</span>(), <span class="at">.by =</span> outcome_type) <span class="sc">|&gt;</span> </span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(outcome_type) </span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>res_PubBias_mental <span class="ot">&lt;-</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pubbias_svalue</span>(</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">yi =</span> mental_ma_dat<span class="sc">$</span>gt_pop,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> mental_ma_dat<span class="sc">$</span>Wgt_pop,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> mental_ma_dat<span class="sc">$</span>study,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">q =</span> <span class="dv">0</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">model_type =</span> <span class="st">"robust"</span>,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">favor_positive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">return_worst_meta =</span> <span class="cn">TRUE</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>res_PubBias_mental<span class="sc">$</span>stats</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>pubbias_plot_mental <span class="ot">&lt;-</span> </span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>  PublicationBias<span class="sc">::</span><span class="fu">significance_funnel</span>(</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">yi =</span> mental_ma_dat<span class="sc">$</span>gt_pop,</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> mental_ma_dat<span class="sc">$</span>Wgt_pop,</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">favor_positive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha_select =</span> <span class="fl">0.05</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>pubbias_plot_mental</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1  2
  sval_est     sval_ci     
  &lt;chr&gt;        &lt;chr&gt;       
1 Not possible Not possible</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="pub_bias_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" data-fig-pos="H" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#wc = worst_case</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>V_mat_wc_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="do">#############</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall res</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="do">#############</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>wc_overall_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    gt_pop,</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_mental, </span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>wc_overall_mental</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>wc_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.pubbias_overall_tab</span>(</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">rma_obj =</span> wc_overall_mental, </span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Worst case"</span>,</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">studies =</span> <span class="fu">n_distinct</span>(worst_dat_mental<span class="sc">$</span>study),</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">effects =</span> <span class="fu">nrow</span>(worst_dat_mental)</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a><span class="do">###########</span></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Pregreg</span></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a><span class="do">###########</span></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>wc_prereg_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_mental, </span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a>wc_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a>  wc_prereg_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession)</span></span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a><span class="co">#wc_prereg_cwb_mental &lt;- </span></span>
<span id="cb31-60"><a href="#cb31-60" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb31-61"><a href="#cb31-61" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = wc_prereg_raw_mental,</span></span>
<span id="cb31-62"><a href="#cb31-62" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb31-63"><a href="#cb31-63" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb31-64"><a href="#cb31-64" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb31-65"><a href="#cb31-65" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb31-66"><a href="#cb31-66" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb31-67"><a href="#cb31-67" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb31-68"><a href="#cb31-68" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(wc_prereg_cwb_mental, "Bootstrap results/wc_prereg_cwb_mental.rds")</span></span>
<span id="cb31-69"><a href="#cb31-69" aria-hidden="true" tabindex="-1"></a>wc_prereg_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/wc_prereg_cwb_mental.rds"</span>)</span>
<span id="cb31-70"><a href="#cb31-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-71"><a href="#cb31-71" aria-hidden="true" tabindex="-1"></a>wc_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-72"><a href="#cb31-72" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tibble</span>(</span>
<span id="cb31-73"><a href="#cb31-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb31-74"><a href="#cb31-74" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb31-75"><a href="#cb31-75" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb31-76"><a href="#cb31-76" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb31-77"><a href="#cb31-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb31-78"><a href="#cb31-78" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb31-79"><a href="#cb31-79" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(wc_prereg_mental<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb31-80"><a href="#cb31-80" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb31-81"><a href="#cb31-81" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_prereg_mental<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb31-82"><a href="#cb31-82" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb31-83"><a href="#cb31-83" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_prereg_mental<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb31-84"><a href="#cb31-84" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb31-85"><a href="#cb31-85" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb31-86"><a href="#cb31-86" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(wc_prereg_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb31-87"><a href="#cb31-87" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb31-88"><a href="#cb31-88" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb31-89"><a href="#cb31-89" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb31-90"><a href="#cb31-90" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb31-91"><a href="#cb31-91" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(wc_prereg_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb31-92"><a href="#cb31-92" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(worst_dat_mental<span class="sc">$</span>study)),</span>
<span id="cb31-93"><a href="#cb31-93" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(worst_dat_mental))</span>
<span id="cb31-94"><a href="#cb31-94" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb31-95"><a href="#cb31-95" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb31-96"><a href="#cb31-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"worstcase"</span></span>
<span id="cb31-97"><a href="#cb31-97" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb31-98"><a href="#cb31-98" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-99"><a href="#cb31-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-100"><a href="#cb31-100" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis of prereg using the PESCE+ model. </span></span>
<span id="cb31-101"><a href="#cb31-101" aria-hidden="true" tabindex="-1"></a>V_mat_wc_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-102"><a href="#cb31-102" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb31-103"><a href="#cb31-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb31-104"><a href="#cb31-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb31-105"><a href="#cb31-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb31-106"><a href="#cb31-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> prereg_chr,</span>
<span id="cb31-107"><a href="#cb31-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb31-108"><a href="#cb31-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb31-109"><a href="#cb31-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb31-110"><a href="#cb31-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb31-111"><a href="#cb31-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb31-112"><a href="#cb31-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb31-113"><a href="#cb31-113" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-114"><a href="#cb31-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-115"><a href="#cb31-115" aria-hidden="true" tabindex="-1"></a>wc_prereg_raw_sensi_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-116"><a href="#cb31-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb31-117"><a href="#cb31-117" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb31-118"><a href="#cb31-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_prereg_mental, </span>
<span id="cb31-119"><a href="#cb31-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> prereg_chr <span class="sc">|</span> study, <span class="sc">~</span> prereg_chr <span class="sc">|</span> esid),</span>
<span id="cb31-120"><a href="#cb31-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb31-121"><a href="#cb31-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb31-122"><a href="#cb31-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb31-123"><a href="#cb31-123" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb31-124"><a href="#cb31-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-125"><a href="#cb31-125" aria-hidden="true" tabindex="-1"></a>wc_prereg_sensi_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-126"><a href="#cb31-126" aria-hidden="true" tabindex="-1"></a>  wc_prereg_raw_sensi_mental <span class="sc">|&gt;</span> </span>
<span id="cb31-127"><a href="#cb31-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-128"><a href="#cb31-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-129"><a href="#cb31-129" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb31-130"><a href="#cb31-130" aria-hidden="true" tabindex="-1"></a><span class="co"># wc outcome</span></span>
<span id="cb31-131"><a href="#cb31-131" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb31-132"><a href="#cb31-132" aria-hidden="true" tabindex="-1"></a>wc_outcome_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-133"><a href="#cb31-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb31-134"><a href="#cb31-134" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb31-135"><a href="#cb31-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_mental, </span>
<span id="cb31-136"><a href="#cb31-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb31-137"><a href="#cb31-137" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb31-138"><a href="#cb31-138" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb31-139"><a href="#cb31-139" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb31-140"><a href="#cb31-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-141"><a href="#cb31-141" aria-hidden="true" tabindex="-1"></a>wc_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-142"><a href="#cb31-142" aria-hidden="true" tabindex="-1"></a>  wc_outcome_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb31-143"><a href="#cb31-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-144"><a href="#cb31-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-145"><a href="#cb31-145" aria-hidden="true" tabindex="-1"></a><span class="co"># CWB</span></span>
<span id="cb31-146"><a href="#cb31-146" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb31-147"><a href="#cb31-147" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb31-148"><a href="#cb31-148" aria-hidden="true" tabindex="-1"></a><span class="co">#wc_outcome_cwb_mental &lt;- </span></span>
<span id="cb31-149"><a href="#cb31-149" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb31-150"><a href="#cb31-150" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = wc_outcome_raw_mental,</span></span>
<span id="cb31-151"><a href="#cb31-151" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:4),</span></span>
<span id="cb31-152"><a href="#cb31-152" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb31-153"><a href="#cb31-153" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb31-154"><a href="#cb31-154" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb31-155"><a href="#cb31-155" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb31-156"><a href="#cb31-156" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb31-157"><a href="#cb31-157" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(wc_outcome_cwb_mental, "Bootstrap results/wc_outcome_cwb_mental.rds")</span></span>
<span id="cb31-158"><a href="#cb31-158" aria-hidden="true" tabindex="-1"></a>wc_outcome_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/wc_outcome_cwb_mental.rds"</span>)</span>
<span id="cb31-159"><a href="#cb31-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-160"><a href="#cb31-160" aria-hidden="true" tabindex="-1"></a>wc_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-161"><a href="#cb31-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb31-162"><a href="#cb31-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb31-163"><a href="#cb31-163" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb31-164"><a href="#cb31-164" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb31-165"><a href="#cb31-165" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb31-166"><a href="#cb31-166" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb31-167"><a href="#cb31-167" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb31-168"><a href="#cb31-168" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(wc_outcome_mental<span class="sc">$</span>b[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)]), <span class="dv">3</span>), </span>
<span id="cb31-169"><a href="#cb31-169" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb31-170"><a href="#cb31-170" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_outcome_mental<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)], <span class="dv">3</span>),</span>
<span id="cb31-171"><a href="#cb31-171" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb31-172"><a href="#cb31-172" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_outcome_mental<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)], <span class="dv">3</span>),</span>
<span id="cb31-173"><a href="#cb31-173" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb31-174"><a href="#cb31-174" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb31-175"><a href="#cb31-175" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(wc_outcome_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb31-176"><a href="#cb31-176" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb31-177"><a href="#cb31-177" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb31-178"><a href="#cb31-178" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb31-179"><a href="#cb31-179" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb31-180"><a href="#cb31-180" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(wc_outcome_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb31-181"><a href="#cb31-181" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(worst_dat_mental<span class="sc">$</span>study)),</span>
<span id="cb31-182"><a href="#cb31-182" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(worst_dat_mental))</span>
<span id="cb31-183"><a href="#cb31-183" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb31-184"><a href="#cb31-184" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb31-185"><a href="#cb31-185" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"worstcase"</span></span>
<span id="cb31-186"><a href="#cb31-186" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb31-187"><a href="#cb31-187" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-188"><a href="#cb31-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-189"><a href="#cb31-189" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analyses using the PESCE+ model</span></span>
<span id="cb31-190"><a href="#cb31-190" aria-hidden="true" tabindex="-1"></a>V_mat_wc_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-191"><a href="#cb31-191" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb31-192"><a href="#cb31-192" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb31-193"><a href="#cb31-193" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb31-194"><a href="#cb31-194" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb31-195"><a href="#cb31-195" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> outcome_type,</span>
<span id="cb31-196"><a href="#cb31-196" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb31-197"><a href="#cb31-197" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb31-198"><a href="#cb31-198" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb31-199"><a href="#cb31-199" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb31-200"><a href="#cb31-200" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb31-201"><a href="#cb31-201" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb31-202"><a href="#cb31-202" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-203"><a href="#cb31-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-204"><a href="#cb31-204" aria-hidden="true" tabindex="-1"></a>wc_outcome_raw_sensi_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-205"><a href="#cb31-205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb31-206"><a href="#cb31-206" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb31-207"><a href="#cb31-207" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_mental, </span>
<span id="cb31-208"><a href="#cb31-208" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> outcome_type <span class="sc">|</span> study, <span class="sc">~</span> outcome_type <span class="sc">|</span> esid),</span>
<span id="cb31-209"><a href="#cb31-209" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb31-210"><a href="#cb31-210" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb31-211"><a href="#cb31-211" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb31-212"><a href="#cb31-212" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb31-213"><a href="#cb31-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-214"><a href="#cb31-214" aria-hidden="true" tabindex="-1"></a>wc_outcome_sensi_mental <span class="ot">&lt;-</span> </span>
<span id="cb31-215"><a href="#cb31-215" aria-hidden="true" tabindex="-1"></a>  wc_outcome_raw_sensi_mental <span class="sc">|&gt;</span> </span>
<span id="cb31-216"><a href="#cb31-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-217"><a href="#cb31-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-218"><a href="#cb31-218" aria-hidden="true" tabindex="-1"></a>clubSandwich<span class="sc">::</span><span class="fu">Wald_test</span>(</span>
<span id="cb31-219"><a href="#cb31-219" aria-hidden="true" tabindex="-1"></a>  wc_outcome_sensi_mental, </span>
<span id="cb31-220"><a href="#cb31-220" aria-hidden="true" tabindex="-1"></a>  <span class="at">constraints =</span> <span class="fu">constrain_equal</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), </span>
<span id="cb31-221"><a href="#cb31-221" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"CR2"</span></span>
<span id="cb31-222"><a href="#cb31-222" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-223"><a href="#cb31-223" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Multivariate Meta-Analysis Model (k = 108; method: REML)

Variance Components:

            estim    sqrt  nlvls  fixed      factor 
sigma^2.1  0.0286  0.1690     37     no       study 
sigma^2.2  0.0100  0.1001    108     no  study/esid 

Test for Heterogeneity:
Q(df = 107) = 227.2909, p-val &lt; .0001

Number of estimates:   108
Number of clusters:    37
Estimates per cluster: 1-17 (mean: 2.92, median: 2)

Model Results:

estimate      se    tval     df    pval    ci.lb   ci.ub    
  0.0694  0.0490   1.4165   27.89   0.1677   -0.0310   0.1698     

---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

1) results based on cluster-robust inference (var-cov estimator: CR2,
   approx t-test and confidence interval, df: Satterthwaite approx)

 test Fstat df_num df_denom p_val sig
  HTZ 0.635      3     8.33 0.612    </code></pre>
</div>
</div>
</section>
<section id="che-iscw-1" class="level3">
<h3 class="anchored" data-anchor-id="che-iscw-1">CHE-ISCW</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r che-iscw-mental}</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>V_mat_mod_mental <span class="ot">&lt;-</span> metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> study,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> outcome_time, </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp1 =</span> trt_name,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">w1 =</span> N_t, </span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp2 =</span> control,</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">w2 =</span> N_c, </span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">rho =</span> rho</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>W_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_mod_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Overall</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>che_iscw_mental <span class="ot">&lt;-</span> </span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>iscw_tab_res_mental <span class="ot">&lt;-</span> <span class="fu">.pubbias_overall_tab</span>(</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">rma_obj =</span> che_iscw_mental, </span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">test =</span> <span class="st">"CHE-ISCW"</span>,</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">studies =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">effects =</span> <span class="fu">nrow</span>(mental_ma_dat)</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a><span class="do">## Preregistration</span></span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a>  che_iscw_prereg_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a><span class="co">#che_iscw_prereg_cwb_mental &lt;- </span></span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_iscw_prereg_raw_mental,</span></span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb33-65"><a href="#cb33-65" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_iscw_prereg_cwb_mental, "Bootstrap results/che_iscw_prereg_cwb_mental.rds")</span></span>
<span id="cb33-66"><a href="#cb33-66" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_iscw_prereg_cwb_mental.rds"</span>)</span>
<span id="cb33-67"><a href="#cb33-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-68"><a href="#cb33-68" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb33-69"><a href="#cb33-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb33-70"><a href="#cb33-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb33-71"><a href="#cb33-71" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb33-72"><a href="#cb33-72" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb33-73"><a href="#cb33-73" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb33-74"><a href="#cb33-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb33-75"><a href="#cb33-75" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb33-76"><a href="#cb33-76" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_iscw_prereg_mental<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb33-77"><a href="#cb33-77" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb33-78"><a href="#cb33-78" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_prereg_mental<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb33-79"><a href="#cb33-79" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb33-80"><a href="#cb33-80" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_prereg_mental<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb33-81"><a href="#cb33-81" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb33-82"><a href="#cb33-82" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb33-83"><a href="#cb33-83" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_iscw_prereg_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb33-84"><a href="#cb33-84" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb33-85"><a href="#cb33-85" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb33-86"><a href="#cb33-86" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb33-87"><a href="#cb33-87" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb33-88"><a href="#cb33-88" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_iscw_prereg_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb33-89"><a href="#cb33-89" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb33-90"><a href="#cb33-90" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb33-91"><a href="#cb33-91" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-92"><a href="#cb33-92" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-93"><a href="#cb33-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"iscw"</span></span>
<span id="cb33-94"><a href="#cb33-94" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-95"><a href="#cb33-95" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-96"><a href="#cb33-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-97"><a href="#cb33-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-98"><a href="#cb33-98" aria-hidden="true" tabindex="-1"></a><span class="do">## Outcome</span></span>
<span id="cb33-99"><a href="#cb33-99" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb33-100"><a href="#cb33-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb33-101"><a href="#cb33-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb33-102"><a href="#cb33-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb33-103"><a href="#cb33-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb33-104"><a href="#cb33-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb33-105"><a href="#cb33-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb33-106"><a href="#cb33-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb33-107"><a href="#cb33-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb33-108"><a href="#cb33-108" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb33-109"><a href="#cb33-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-110"><a href="#cb33-110" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb33-111"><a href="#cb33-111" aria-hidden="true" tabindex="-1"></a>  che_iscw_outcome_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb33-112"><a href="#cb33-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb33-113"><a href="#cb33-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-114"><a href="#cb33-114" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb33-115"><a href="#cb33-115" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb33-116"><a href="#cb33-116" aria-hidden="true" tabindex="-1"></a><span class="co">#che_iscw_outcome_cwb_mental &lt;- </span></span>
<span id="cb33-117"><a href="#cb33-117" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb33-118"><a href="#cb33-118" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_iscw_outcome_raw_mental,</span></span>
<span id="cb33-119"><a href="#cb33-119" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:4),</span></span>
<span id="cb33-120"><a href="#cb33-120" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb33-121"><a href="#cb33-121" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb33-122"><a href="#cb33-122" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb33-123"><a href="#cb33-123" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb33-124"><a href="#cb33-124" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb33-125"><a href="#cb33-125" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_iscw_outcome_cwb_mental, "Bootstrap results/che_iscw_outcome_cwb_mental.rds")</span></span>
<span id="cb33-126"><a href="#cb33-126" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_iscw_outcome_cwb_mental.rds"</span>)</span>
<span id="cb33-127"><a href="#cb33-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-128"><a href="#cb33-128" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb33-129"><a href="#cb33-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb33-130"><a href="#cb33-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb33-131"><a href="#cb33-131" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb33-132"><a href="#cb33-132" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb33-133"><a href="#cb33-133" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb33-134"><a href="#cb33-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb33-135"><a href="#cb33-135" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb33-136"><a href="#cb33-136" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_iscw_outcome_mental<span class="sc">$</span>b[<span class="sc">-</span><span class="dv">5</span>]), <span class="dv">3</span>), </span>
<span id="cb33-137"><a href="#cb33-137" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb33-138"><a href="#cb33-138" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_outcome_mental<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="dv">5</span>], <span class="dv">3</span>),</span>
<span id="cb33-139"><a href="#cb33-139" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb33-140"><a href="#cb33-140" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_outcome_mental<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="dv">5</span>], <span class="dv">3</span>),</span>
<span id="cb33-141"><a href="#cb33-141" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb33-142"><a href="#cb33-142" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb33-143"><a href="#cb33-143" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_iscw_outcome_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)), </span>
<span id="cb33-144"><a href="#cb33-144" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb33-145"><a href="#cb33-145" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb33-146"><a href="#cb33-146" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb33-147"><a href="#cb33-147" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb33-148"><a href="#cb33-148" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_iscw_outcome_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb33-149"><a href="#cb33-149" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb33-150"><a href="#cb33-150" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb33-151"><a href="#cb33-151" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-152"><a href="#cb33-152" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-153"><a href="#cb33-153" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"iscw"</span></span>
<span id="cb33-154"><a href="#cb33-154" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb33-155"><a href="#cb33-155" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-156"><a href="#cb33-156" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="petpeese-1" class="level3">
<h3 class="anchored" data-anchor-id="petpeese-1">PET/PEESE</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r petpeese-mental}</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE overall</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>che_pet_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop <span class="sc">+</span> prereg_c,</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>che_peese_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wgt_pop <span class="sc">+</span> prereg_c,</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>pet_peese_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (che_pet_mental<span class="sc">$</span>pval[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.1</span> <span class="sc">&amp;</span> <span class="fu">as.numeric</span>(che_pet_mental<span class="sc">$</span>b[<span class="dv">1</span>]) <span class="sc">&gt;</span> <span class="dv">0</span>) che_peese_mental <span class="cf">else</span> che_pet_mental</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>pet_peese_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.pubbias_overall_tab</span>(</span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">rma_obj =</span> pet_peese_mental, </span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"PET/PEESE"</span>,</span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">studies =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">effects =</span> <span class="fu">nrow</span>(mental_ma_dat)</span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE preregistration</span></span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb34-44"><a href="#cb34-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">+</span> Wse_pop <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb34-45"><a href="#cb34-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb34-46"><a href="#cb34-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb34-47"><a href="#cb34-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb34-48"><a href="#cb34-48" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb34-49"><a href="#cb34-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-50"><a href="#cb34-50" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-51"><a href="#cb34-51" aria-hidden="true" tabindex="-1"></a>  che_pet_prereg_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb34-52"><a href="#cb34-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-53"><a href="#cb34-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-54"><a href="#cb34-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-55"><a href="#cb34-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-56"><a href="#cb34-56" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb34-57"><a href="#cb34-57" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb34-58"><a href="#cb34-58" aria-hidden="true" tabindex="-1"></a><span class="co">#che_pet_prereg_cwb_mental &lt;- </span></span>
<span id="cb34-59"><a href="#cb34-59" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb34-60"><a href="#cb34-60" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_pet_prereg_raw_mental,</span></span>
<span id="cb34-61"><a href="#cb34-61" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb34-62"><a href="#cb34-62" aria-hidden="true" tabindex="-1"></a><span class="co">#    R  = 1999</span></span>
<span id="cb34-63"><a href="#cb34-63" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb34-64"><a href="#cb34-64" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb34-65"><a href="#cb34-65" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb34-66"><a href="#cb34-66" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-67"><a href="#cb34-67" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_pet_prereg_cwb_mental, "Bootstrap results/che_pet_prereg_cwb_mental.rds")</span></span>
<span id="cb34-68"><a href="#cb34-68" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_pet_prereg_cwb_mental.rds"</span>)</span>
<span id="cb34-69"><a href="#cb34-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-70"><a href="#cb34-70" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-71"><a href="#cb34-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb34-72"><a href="#cb34-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb34-73"><a href="#cb34-73" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>,</span>
<span id="cb34-74"><a href="#cb34-74" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb34-75"><a href="#cb34-75" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb34-76"><a href="#cb34-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb34-77"><a href="#cb34-77" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb34-78"><a href="#cb34-78" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_pet_prereg_mental<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb34-79"><a href="#cb34-79" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb34-80"><a href="#cb34-80" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_prereg_mental<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb34-81"><a href="#cb34-81" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb34-82"><a href="#cb34-82" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_prereg_mental<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb34-83"><a href="#cb34-83" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb34-84"><a href="#cb34-84" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb34-85"><a href="#cb34-85" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_pet_prereg_cwb_mental<span class="sc">$</span>p_val,<span class="dv">3</span>)),</span>
<span id="cb34-86"><a href="#cb34-86" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb34-87"><a href="#cb34-87" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb34-88"><a href="#cb34-88" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb34-89"><a href="#cb34-89" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb34-90"><a href="#cb34-90" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_pet_prereg_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb34-91"><a href="#cb34-91" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb34-92"><a href="#cb34-92" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb34-93"><a href="#cb34-93" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb34-94"><a href="#cb34-94" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-95"><a href="#cb34-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"petpesse"</span></span>
<span id="cb34-96"><a href="#cb34-96" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-97"><a href="#cb34-97" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-98"><a href="#cb34-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-99"><a href="#cb34-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-100"><a href="#cb34-100" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE outcome</span></span>
<span id="cb34-101"><a href="#cb34-101" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-102"><a href="#cb34-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb34-103"><a href="#cb34-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb34-104"><a href="#cb34-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb34-105"><a href="#cb34-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb34-106"><a href="#cb34-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> outcome_type <span class="sc">+</span> Wse_pop <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb34-107"><a href="#cb34-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb34-108"><a href="#cb34-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb34-109"><a href="#cb34-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb34-110"><a href="#cb34-110" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb34-111"><a href="#cb34-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-112"><a href="#cb34-112" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-113"><a href="#cb34-113" aria-hidden="true" tabindex="-1"></a>  che_pet_outcome_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb34-114"><a href="#cb34-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-115"><a href="#cb34-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-116"><a href="#cb34-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-117"><a href="#cb34-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-118"><a href="#cb34-118" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb34-119"><a href="#cb34-119" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 13L)</span></span>
<span id="cb34-120"><a href="#cb34-120" aria-hidden="true" tabindex="-1"></a><span class="co">#che_pet_outcome_cwb_mental &lt;- </span></span>
<span id="cb34-121"><a href="#cb34-121" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb34-122"><a href="#cb34-122" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_pet_outcome_raw_mental,</span></span>
<span id="cb34-123"><a href="#cb34-123" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:4),</span></span>
<span id="cb34-124"><a href="#cb34-124" aria-hidden="true" tabindex="-1"></a><span class="co">#    R  = 1999</span></span>
<span id="cb34-125"><a href="#cb34-125" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb34-126"><a href="#cb34-126" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb34-127"><a href="#cb34-127" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb34-128"><a href="#cb34-128" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb34-129"><a href="#cb34-129" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_pet_outcome_cwb_mental, "Bootstrap results/che_pet_outcome_cwb_mental.rds")</span></span>
<span id="cb34-130"><a href="#cb34-130" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_pet_outcome_cwb_mental.rds"</span>)</span>
<span id="cb34-131"><a href="#cb34-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-132"><a href="#cb34-132" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb34-133"><a href="#cb34-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb34-134"><a href="#cb34-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb34-135"><a href="#cb34-135" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb34-136"><a href="#cb34-136" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb34-137"><a href="#cb34-137" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb34-138"><a href="#cb34-138" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb34-139"><a href="#cb34-139" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb34-140"><a href="#cb34-140" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_pet_outcome_mental<span class="sc">$</span>b[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)]), <span class="dv">3</span>), </span>
<span id="cb34-141"><a href="#cb34-141" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb34-142"><a href="#cb34-142" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_outcome_mental<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)], <span class="dv">3</span>),</span>
<span id="cb34-143"><a href="#cb34-143" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb34-144"><a href="#cb34-144" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_outcome_mental<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)], <span class="dv">3</span>),</span>
<span id="cb34-145"><a href="#cb34-145" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb34-146"><a href="#cb34-146" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb34-147"><a href="#cb34-147" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_pet_outcome_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb34-148"><a href="#cb34-148" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb34-149"><a href="#cb34-149" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb34-150"><a href="#cb34-150" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb34-151"><a href="#cb34-151" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb34-152"><a href="#cb34-152" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_pet_outcome_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb34-153"><a href="#cb34-153" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb34-154"><a href="#cb34-154" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb34-155"><a href="#cb34-155" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb34-156"><a href="#cb34-156" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-157"><a href="#cb34-157" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"petpesse"</span></span>
<span id="cb34-158"><a href="#cb34-158" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb34-159"><a href="#cb34-159" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-160"><a href="#cb34-160" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="selection-models-1" class="level3">
<h3 class="anchored" data-anchor-id="selection-models-1">Selection models</h3>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, selmodel-mental}</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co">#set.seed(29092025)</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#library(future)</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">#cores &lt;- parallel::detectCores() - 1</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall reintegration</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_overall_mental &lt;- </span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_overall_mental, "Bootstrap results/mod_3PSM_overall_mental.rds")</span></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>mod_3PSM_overall_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_overall_mental.rds"</span>)</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a><span class="co">#selection_plot(mod_3PSM_overall)</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_overall_mental &lt;- </span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_overall_mental, "Bootstrap results/mod_4PSM_overall_mental.rds")</span></span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a>mod_4PSM_overall_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_overall_mental.rds"</span>)</span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a><span class="co">#save(</span></span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a><span class="co">#  mod_3PSM_overall,</span></span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a><span class="co">#  mod_4PSM_overall,</span></span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a><span class="co">#  file = "selmodel_res.RData"</span></span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a><span class="co">#)</span></span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-60"><a href="#cb35-60" aria-hidden="true" tabindex="-1"></a><span class="do">##############################</span></span>
<span id="cb35-61"><a href="#cb35-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Across type of registration</span></span>
<span id="cb35-62"><a href="#cb35-62" aria-hidden="true" tabindex="-1"></a><span class="do">##############################</span></span>
<span id="cb35-63"><a href="#cb35-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-64"><a href="#cb35-64" aria-hidden="true" tabindex="-1"></a><span class="do">## Only not preregistered outcome</span></span>
<span id="cb35-65"><a href="#cb35-65" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb35-66"><a href="#cb35-66" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-67"><a href="#cb35-67" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-68"><a href="#cb35-68" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_not_prereg_mental &lt;- </span></span>
<span id="cb35-69"><a href="#cb35-69" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb35-70"><a href="#cb35-70" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb35-71"><a href="#cb35-71" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb35-72"><a href="#cb35-72" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb35-73"><a href="#cb35-73" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb35-74"><a href="#cb35-74" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb35-75"><a href="#cb35-75" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb35-76"><a href="#cb35-76" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb35-77"><a href="#cb35-77" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb35-78"><a href="#cb35-78" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb35-79"><a href="#cb35-79" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb35-80"><a href="#cb35-80" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999,</span></span>
<span id="cb35-81"><a href="#cb35-81" aria-hidden="true" tabindex="-1"></a><span class="co">#    subset = conventional == 0</span></span>
<span id="cb35-82"><a href="#cb35-82" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb35-83"><a href="#cb35-83" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb35-84"><a href="#cb35-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-85"><a href="#cb35-85" aria-hidden="true" tabindex="-1"></a><span class="do">## Prereg_chr as subgroup factor</span></span>
<span id="cb35-86"><a href="#cb35-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb35-87"><a href="#cb35-87" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb35-88"><a href="#cb35-88" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-89"><a href="#cb35-89" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_prereg_mental &lt;- </span></span>
<span id="cb35-90"><a href="#cb35-90" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb35-91"><a href="#cb35-91" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb35-92"><a href="#cb35-92" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb35-93"><a href="#cb35-93" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb35-94"><a href="#cb35-94" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb35-95"><a href="#cb35-95" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb35-96"><a href="#cb35-96" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb35-97"><a href="#cb35-97" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb35-98"><a href="#cb35-98" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb35-99"><a href="#cb35-99" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb35-100"><a href="#cb35-100" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb35-101"><a href="#cb35-101" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ prereg_chr - 1,</span></span>
<span id="cb35-102"><a href="#cb35-102" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb35-103"><a href="#cb35-103" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb35-104"><a href="#cb35-104" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb35-105"><a href="#cb35-105" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-106"><a href="#cb35-106" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_prereg_mental, "Bootstrap results/mod_3PSM_prereg_mental.rds")</span></span>
<span id="cb35-107"><a href="#cb35-107" aria-hidden="true" tabindex="-1"></a>mod_3PSM_prereg_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_prereg_mental.rds"</span>)</span>
<span id="cb35-108"><a href="#cb35-108" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb35-109"><a href="#cb35-109" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb35-110"><a href="#cb35-110" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb35-111"><a href="#cb35-111" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-112"><a href="#cb35-112" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_prereg_mental &lt;- </span></span>
<span id="cb35-113"><a href="#cb35-113" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb35-114"><a href="#cb35-114" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb35-115"><a href="#cb35-115" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb35-116"><a href="#cb35-116" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb35-117"><a href="#cb35-117" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb35-118"><a href="#cb35-118" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb35-119"><a href="#cb35-119" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb35-120"><a href="#cb35-120" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb35-121"><a href="#cb35-121" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb35-122"><a href="#cb35-122" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb35-123"><a href="#cb35-123" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb35-124"><a href="#cb35-124" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ prereg_chr - 1,</span></span>
<span id="cb35-125"><a href="#cb35-125" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb35-126"><a href="#cb35-126" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb35-127"><a href="#cb35-127" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb35-128"><a href="#cb35-128" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-129"><a href="#cb35-129" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_prereg_mental, "Bootstrap results/mod_4PSM_prereg_mental.rds")</span></span>
<span id="cb35-130"><a href="#cb35-130" aria-hidden="true" tabindex="-1"></a>mod_4PSM_prereg_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_prereg_mental.rds"</span>)</span>
<span id="cb35-131"><a href="#cb35-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-132"><a href="#cb35-132" aria-hidden="true" tabindex="-1"></a><span class="do">###################</span></span>
<span id="cb35-133"><a href="#cb35-133" aria-hidden="true" tabindex="-1"></a><span class="co"># Across outcomes</span></span>
<span id="cb35-134"><a href="#cb35-134" aria-hidden="true" tabindex="-1"></a><span class="do">###################</span></span>
<span id="cb35-135"><a href="#cb35-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-136"><a href="#cb35-136" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb35-137"><a href="#cb35-137" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-138"><a href="#cb35-138" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_outcome_mental &lt;- </span></span>
<span id="cb35-139"><a href="#cb35-139" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb35-140"><a href="#cb35-140" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb35-141"><a href="#cb35-141" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb35-142"><a href="#cb35-142" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb35-143"><a href="#cb35-143" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb35-144"><a href="#cb35-144" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb35-145"><a href="#cb35-145" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb35-146"><a href="#cb35-146" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb35-147"><a href="#cb35-147" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb35-148"><a href="#cb35-148" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb35-149"><a href="#cb35-149" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb35-150"><a href="#cb35-150" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ outcome_type + prereg_c - 1,</span></span>
<span id="cb35-151"><a href="#cb35-151" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb35-152"><a href="#cb35-152" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb35-153"><a href="#cb35-153" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb35-154"><a href="#cb35-154" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-155"><a href="#cb35-155" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_outcome_mental, "Bootstrap results/mod_3PSM_outcome_mental.rds")</span></span>
<span id="cb35-156"><a href="#cb35-156" aria-hidden="true" tabindex="-1"></a>mod_3PSM_outcome_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_outcome_mental.rds"</span>)</span>
<span id="cb35-157"><a href="#cb35-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-158"><a href="#cb35-158" aria-hidden="true" tabindex="-1"></a><span class="co">#selection_plot(mod_3PSM_overall)</span></span>
<span id="cb35-159"><a href="#cb35-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-160"><a href="#cb35-160" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb35-161"><a href="#cb35-161" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-162"><a href="#cb35-162" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_outcome_mental &lt;- </span></span>
<span id="cb35-163"><a href="#cb35-163" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb35-164"><a href="#cb35-164" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb35-165"><a href="#cb35-165" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb35-166"><a href="#cb35-166" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb35-167"><a href="#cb35-167" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb35-168"><a href="#cb35-168" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb35-169"><a href="#cb35-169" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb35-170"><a href="#cb35-170" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb35-171"><a href="#cb35-171" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb35-172"><a href="#cb35-172" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb35-173"><a href="#cb35-173" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb35-174"><a href="#cb35-174" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ outcome_type + prereg_c - 1,</span></span>
<span id="cb35-175"><a href="#cb35-175" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb35-176"><a href="#cb35-176" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb35-177"><a href="#cb35-177" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb35-178"><a href="#cb35-178" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb35-179"><a href="#cb35-179" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_outcome_mental, "Bootstrap results/mod_4PSM_outcome_mental.rds")</span></span>
<span id="cb35-180"><a href="#cb35-180" aria-hidden="true" tabindex="-1"></a>mod_4PSM_outcome_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_outcome_mental.rds"</span>)</span>
<span id="cb35-181"><a href="#cb35-181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r tab-metaselection-mental}</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>PSM3_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Cluster selmodel (3PSM)"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(mental_ma_dat),</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(mod_3PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_3PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_3PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">sqrt</span>(mod_3PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq),</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau,</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>PSM4_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Cluster selmodel (4PSM)"</span>,</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(mental_ma_dat),</span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(mod_4PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_4PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_4PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">sqrt</span>(mod_4PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq),</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau,</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)</span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Prereg</span></span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a>PSM3_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb36-46"><a href="#cb36-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb36-47"><a href="#cb36-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb36-48"><a href="#cb36-48" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb36-49"><a href="#cb36-49" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb36-50"><a href="#cb36-50" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb36-51"><a href="#cb36-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb36-52"><a href="#cb36-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb36-53"><a href="#cb36-53" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>), </span>
<span id="cb36-54"><a href="#cb36-54" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb36-55"><a href="#cb36-55" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb36-56"><a href="#cb36-56" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb36-57"><a href="#cb36-57" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb36-58"><a href="#cb36-58" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb36-59"><a href="#cb36-59" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb36-60"><a href="#cb36-60" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-61"><a href="#cb36-61" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb36-62"><a href="#cb36-62" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-63"><a href="#cb36-63" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb36-64"><a href="#cb36-64" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-65"><a href="#cb36-65" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb36-66"><a href="#cb36-66" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb36-67"><a href="#cb36-67" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb36-68"><a href="#cb36-68" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-69"><a href="#cb36-69" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-70"><a href="#cb36-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM3"</span></span>
<span id="cb36-71"><a href="#cb36-71" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-72"><a href="#cb36-72" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-73"><a href="#cb36-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-74"><a href="#cb36-74" aria-hidden="true" tabindex="-1"></a>PSM4_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb36-75"><a href="#cb36-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb36-76"><a href="#cb36-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb36-77"><a href="#cb36-77" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb36-78"><a href="#cb36-78" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb36-79"><a href="#cb36-79" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb36-80"><a href="#cb36-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb36-81"><a href="#cb36-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb36-82"><a href="#cb36-82" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>), </span>
<span id="cb36-83"><a href="#cb36-83" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb36-84"><a href="#cb36-84" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb36-85"><a href="#cb36-85" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb36-86"><a href="#cb36-86" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb36-87"><a href="#cb36-87" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb36-88"><a href="#cb36-88" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb36-89"><a href="#cb36-89" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-90"><a href="#cb36-90" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb36-91"><a href="#cb36-91" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)),</span>
<span id="cb36-92"><a href="#cb36-92" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb36-93"><a href="#cb36-93" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-94"><a href="#cb36-94" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb36-95"><a href="#cb36-95" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb36-96"><a href="#cb36-96" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb36-97"><a href="#cb36-97" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-98"><a href="#cb36-98" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-99"><a href="#cb36-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM4"</span></span>
<span id="cb36-100"><a href="#cb36-100" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-101"><a href="#cb36-101" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-102"><a href="#cb36-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-103"><a href="#cb36-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-104"><a href="#cb36-104" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome</span></span>
<span id="cb36-105"><a href="#cb36-105" aria-hidden="true" tabindex="-1"></a>PSM3_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb36-106"><a href="#cb36-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb36-107"><a href="#cb36-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb36-108"><a href="#cb36-108" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb36-109"><a href="#cb36-109" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb36-110"><a href="#cb36-110" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb36-111"><a href="#cb36-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb36-112"><a href="#cb36-112" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb36-113"><a href="#cb36-113" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>), </span>
<span id="cb36-114"><a href="#cb36-114" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb36-115"><a href="#cb36-115" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>),</span>
<span id="cb36-116"><a href="#cb36-116" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb36-117"><a href="#cb36-117" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>),</span>
<span id="cb36-118"><a href="#cb36-118" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb36-119"><a href="#cb36-119" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb36-120"><a href="#cb36-120" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-121"><a href="#cb36-121" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb36-122"><a href="#cb36-122" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-123"><a href="#cb36-123" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb36-124"><a href="#cb36-124" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-125"><a href="#cb36-125" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb36-126"><a href="#cb36-126" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb36-127"><a href="#cb36-127" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb36-128"><a href="#cb36-128" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-129"><a href="#cb36-129" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-130"><a href="#cb36-130" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM3"</span></span>
<span id="cb36-131"><a href="#cb36-131" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-132"><a href="#cb36-132" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-133"><a href="#cb36-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-134"><a href="#cb36-134" aria-hidden="true" tabindex="-1"></a>PSM4_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb36-135"><a href="#cb36-135" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb36-136"><a href="#cb36-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb36-137"><a href="#cb36-137" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb36-138"><a href="#cb36-138" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb36-139"><a href="#cb36-139" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb36-140"><a href="#cb36-140" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb36-141"><a href="#cb36-141" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb36-142"><a href="#cb36-142" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>), </span>
<span id="cb36-143"><a href="#cb36-143" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb36-144"><a href="#cb36-144" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>),</span>
<span id="cb36-145"><a href="#cb36-145" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb36-146"><a href="#cb36-146" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>),</span>
<span id="cb36-147"><a href="#cb36-147" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb36-148"><a href="#cb36-148" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb36-149"><a href="#cb36-149" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-150"><a href="#cb36-150" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb36-151"><a href="#cb36-151" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)),</span>
<span id="cb36-152"><a href="#cb36-152" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb36-153"><a href="#cb36-153" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb36-154"><a href="#cb36-154" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb36-155"><a href="#cb36-155" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb36-156"><a href="#cb36-156" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb36-157"><a href="#cb36-157" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-158"><a href="#cb36-158" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-159"><a href="#cb36-159" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM4"</span></span>
<span id="cb36-160"><a href="#cb36-160" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-161"><a href="#cb36-161" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-162"><a href="#cb36-162" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>#Publication and small study bias tests for overall average effects</p>
</section>
</section>
<section id="reintegration-1" class="level2">
<h2 class="anchored" data-anchor-id="reintegration-1">Reintegration</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-overall-eff-reint}</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-overall-eff-reint</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Overall average effect size estimates corrected for publication bias"</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>overall_pub_bias_tab <span class="ot">&lt;-</span> </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    hyema_tab_res,</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    puniform_tab_res,</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    wc_tab_res,</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    iscw_tab_res,</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>    pet_peese_tab_res,</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>    PSM3_tab_res,</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>    PSM4_tab_res</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(pval<span class="sc">:</span>total_SD, <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>))</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>gt_tab_overall <span class="ot">&lt;-</span> </span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>  overall_pub_bias_tab <span class="sc">|&gt;</span> </span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>gt_tab_overall</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a><span class="co">#gt_tab_overall |&gt; gtsave("Tables/overall publication bias table.docx")</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="igjayvtytp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#igjayvtytp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#igjayvtytp thead, #igjayvtytp tbody, #igjayvtytp tfoot, #igjayvtytp tr, #igjayvtytp td, #igjayvtytp th {
  border-style: none;
}

#igjayvtytp p {
  margin: 0;
  padding: 0;
}

#igjayvtytp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#igjayvtytp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#igjayvtytp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#igjayvtytp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#igjayvtytp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#igjayvtytp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#igjayvtytp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#igjayvtytp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#igjayvtytp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#igjayvtytp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#igjayvtytp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#igjayvtytp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#igjayvtytp .gt_spanner_row {
  border-bottom-style: hidden;
}

#igjayvtytp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#igjayvtytp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#igjayvtytp .gt_from_md > :first-child {
  margin-top: 0;
}

#igjayvtytp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#igjayvtytp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#igjayvtytp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#igjayvtytp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#igjayvtytp .gt_row_group_first td {
  border-top-width: 2px;
}

#igjayvtytp .gt_row_group_first th {
  border-top-width: 2px;
}

#igjayvtytp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#igjayvtytp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#igjayvtytp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#igjayvtytp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#igjayvtytp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#igjayvtytp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#igjayvtytp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#igjayvtytp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#igjayvtytp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#igjayvtytp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#igjayvtytp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#igjayvtytp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#igjayvtytp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#igjayvtytp .gt_left {
  text-align: left;
}

#igjayvtytp .gt_center {
  text-align: center;
}

#igjayvtytp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#igjayvtytp .gt_font_normal {
  font-weight: normal;
}

#igjayvtytp .gt_font_bold {
  font-weight: bold;
}

#igjayvtytp .gt_font_italic {
  font-style: italic;
}

#igjayvtytp .gt_super {
  font-size: 65%;
}

#igjayvtytp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#igjayvtytp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#igjayvtytp .gt_indent_1 {
  text-indent: 5px;
}

#igjayvtytp .gt_indent_2 {
  text-indent: 10px;
}

#igjayvtytp .gt_indent_3 {
  text-indent: 15px;
}

#igjayvtytp .gt_indent_4 {
  text-indent: 20px;
}

#igjayvtytp .gt_indent_5 {
  text-indent: 25px;
}

#igjayvtytp .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#igjayvtytp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="test" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">test</th>
<th id="J" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">J</th>
<th id="K" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">K</th>
<th id="est_ci" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">est_ci</th>
<th id="pval" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pval</th>
<th id="tau" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">tau</th>
<th id="omega" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">omega</th>
<th id="total_SD" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">total_SD</th>
<th id="lambda1" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">lambda1</th>
<th id="lambda2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">lambda2</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="test">Robust HYEMA</td>
<td class="gt_row gt_right" headers="J">46</td>
<td class="gt_row gt_right" headers="K">205</td>
<td class="gt_row gt_left" headers="est_ci">0.187 [0.089, 0.195]</td>
<td class="gt_row gt_right" headers="pval"><br>
</td>
<td class="gt_row gt_right" headers="tau">0.176</td>
<td class="gt_row gt_right" headers="omega"><br>
</td>
<td class="gt_row gt_right" headers="total_SD">0.176</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="test">puniform star</td>
<td class="gt_row gt_right" headers="J">46</td>
<td class="gt_row gt_right" headers="K">205</td>
<td class="gt_row gt_left" headers="est_ci">0.245 [0.185, 0.312]</td>
<td class="gt_row gt_right" headers="pval">0.000</td>
<td class="gt_row gt_right" headers="tau">0.203</td>
<td class="gt_row gt_right" headers="omega"><br>
</td>
<td class="gt_row gt_right" headers="total_SD">0.203</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="test">Worst case</td>
<td class="gt_row gt_right" headers="J">40</td>
<td class="gt_row gt_right" headers="K">157</td>
<td class="gt_row gt_left" headers="est_ci">0.078 [0.025, 0.13]</td>
<td class="gt_row gt_right" headers="pval">0.006</td>
<td class="gt_row gt_right" headers="tau">0.000</td>
<td class="gt_row gt_right" headers="omega">0.149</td>
<td class="gt_row gt_right" headers="total_SD">0.149</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="test">CHE-ISCW</td>
<td class="gt_row gt_right" headers="J">46</td>
<td class="gt_row gt_right" headers="K">205</td>
<td class="gt_row gt_left" headers="est_ci">0.201 [-0.174, 0.575]</td>
<td class="gt_row gt_right" headers="pval">0.152</td>
<td class="gt_row gt_right" headers="tau">0.076</td>
<td class="gt_row gt_right" headers="omega">0.197</td>
<td class="gt_row gt_right" headers="total_SD">0.211</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="test">PET/PEESE</td>
<td class="gt_row gt_right" headers="J">46</td>
<td class="gt_row gt_right" headers="K">205</td>
<td class="gt_row gt_left" headers="est_ci">0.246 [-1.403, 1.895]</td>
<td class="gt_row gt_right" headers="pval">0.513</td>
<td class="gt_row gt_right" headers="tau">0.073</td>
<td class="gt_row gt_right" headers="omega">0.194</td>
<td class="gt_row gt_right" headers="total_SD">0.207</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="test">Cluster selmodel (3PSM)</td>
<td class="gt_row gt_right" headers="J">46</td>
<td class="gt_row gt_right" headers="K">205</td>
<td class="gt_row gt_left" headers="est_ci">0.233 [0.139, 0.329]</td>
<td class="gt_row gt_right" headers="pval"><br>
</td>
<td class="gt_row gt_right" headers="tau">0.186</td>
<td class="gt_row gt_right" headers="omega"><br>
</td>
<td class="gt_row gt_right" headers="total_SD">0.186</td>
<td class="gt_row gt_right" headers="lambda1">1.478</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="test">Cluster selmodel (4PSM)</td>
<td class="gt_row gt_right" headers="J">46</td>
<td class="gt_row gt_right" headers="K">205</td>
<td class="gt_row gt_left" headers="est_ci">0.189 [0.029, 0.315]</td>
<td class="gt_row gt_right" headers="pval"><br>
</td>
<td class="gt_row gt_right" headers="tau">0.200</td>
<td class="gt_row gt_right" headers="omega"><br>
</td>
<td class="gt_row gt_right" headers="total_SD">0.200</td>
<td class="gt_row gt_right" headers="lambda1">1.304</td>
<td class="gt_row gt_right" headers="lambda2">0.854</td>
</tr>
</tbody>
</table>

</div>
<p>Overall average effect size estimates corrected for publication bias</p>
</div>
</div>
</section>
<section id="mental-health-1" class="level2">
<h2 class="anchored" data-anchor-id="mental-health-1">Mental health</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-overall-eff-mental}</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-overall-eff-mental</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Overall average mental health effect size estimates corrected for publication bias"</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>overall_pub_bias_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    hyema_tab_res_mental,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>    puniform_tab_res_mental,</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>    wc_tab_res_mental,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    iscw_tab_res_mental,</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>    pet_peese_tab_res_mental,</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    PSM3_tab_res_mental,</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    PSM4_tab_res_mental</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(pval<span class="sc">:</span>total_SD, <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>))</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>gt_tab_overall_mental <span class="ot">&lt;-</span> </span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>  overall_pub_bias_tab_mental <span class="sc">|&gt;</span> </span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>gt_tab_overall_mental</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a><span class="co">#gt_tab_overall_mental |&gt; gtsave("Tables/overall publication bias table mental.docx")</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="aoziyvjycb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#aoziyvjycb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#aoziyvjycb thead, #aoziyvjycb tbody, #aoziyvjycb tfoot, #aoziyvjycb tr, #aoziyvjycb td, #aoziyvjycb th {
  border-style: none;
}

#aoziyvjycb p {
  margin: 0;
  padding: 0;
}

#aoziyvjycb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#aoziyvjycb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#aoziyvjycb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#aoziyvjycb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#aoziyvjycb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#aoziyvjycb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aoziyvjycb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#aoziyvjycb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#aoziyvjycb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#aoziyvjycb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#aoziyvjycb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#aoziyvjycb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#aoziyvjycb .gt_spanner_row {
  border-bottom-style: hidden;
}

#aoziyvjycb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#aoziyvjycb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#aoziyvjycb .gt_from_md > :first-child {
  margin-top: 0;
}

#aoziyvjycb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#aoziyvjycb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#aoziyvjycb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#aoziyvjycb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#aoziyvjycb .gt_row_group_first td {
  border-top-width: 2px;
}

#aoziyvjycb .gt_row_group_first th {
  border-top-width: 2px;
}

#aoziyvjycb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#aoziyvjycb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#aoziyvjycb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#aoziyvjycb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aoziyvjycb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#aoziyvjycb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#aoziyvjycb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#aoziyvjycb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#aoziyvjycb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aoziyvjycb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#aoziyvjycb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#aoziyvjycb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#aoziyvjycb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#aoziyvjycb .gt_left {
  text-align: left;
}

#aoziyvjycb .gt_center {
  text-align: center;
}

#aoziyvjycb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#aoziyvjycb .gt_font_normal {
  font-weight: normal;
}

#aoziyvjycb .gt_font_bold {
  font-weight: bold;
}

#aoziyvjycb .gt_font_italic {
  font-style: italic;
}

#aoziyvjycb .gt_super {
  font-size: 65%;
}

#aoziyvjycb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#aoziyvjycb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#aoziyvjycb .gt_indent_1 {
  text-indent: 5px;
}

#aoziyvjycb .gt_indent_2 {
  text-indent: 10px;
}

#aoziyvjycb .gt_indent_3 {
  text-indent: 15px;
}

#aoziyvjycb .gt_indent_4 {
  text-indent: 20px;
}

#aoziyvjycb .gt_indent_5 {
  text-indent: 25px;
}

#aoziyvjycb .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#aoziyvjycb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="test" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">test</th>
<th id="J" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">J</th>
<th id="K" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">K</th>
<th id="est_ci" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">est_ci</th>
<th id="pval" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pval</th>
<th id="tau" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">tau</th>
<th id="omega" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">omega</th>
<th id="total_SD" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">total_SD</th>
<th id="lambda1" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">lambda1</th>
<th id="lambda2" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">lambda2</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="test">Robust HYEMA</td>
<td class="gt_row gt_right" headers="J">42</td>
<td class="gt_row gt_right" headers="K">144</td>
<td class="gt_row gt_left" headers="est_ci">0.29 [0.131, 0.436]</td>
<td class="gt_row gt_right" headers="pval"><br>
</td>
<td class="gt_row gt_right" headers="tau">0.325</td>
<td class="gt_row gt_right" headers="omega"><br>
</td>
<td class="gt_row gt_right" headers="total_SD">0.325</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="test">puniform star</td>
<td class="gt_row gt_right" headers="J">42</td>
<td class="gt_row gt_right" headers="K">144</td>
<td class="gt_row gt_left" headers="est_ci">0.598 [0.454, 0.763]</td>
<td class="gt_row gt_right" headers="pval">0.000</td>
<td class="gt_row gt_right" headers="tau">0.421</td>
<td class="gt_row gt_right" headers="omega"><br>
</td>
<td class="gt_row gt_right" headers="total_SD">0.421</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="test">Worst case</td>
<td class="gt_row gt_right" headers="J">37</td>
<td class="gt_row gt_right" headers="K">108</td>
<td class="gt_row gt_left" headers="est_ci">0.069 [-0.031, 0.17]</td>
<td class="gt_row gt_right" headers="pval">0.168</td>
<td class="gt_row gt_right" headers="tau">0.169</td>
<td class="gt_row gt_right" headers="omega">0.100</td>
<td class="gt_row gt_right" headers="total_SD">0.196</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="test">CHE-ISCW</td>
<td class="gt_row gt_right" headers="J">42</td>
<td class="gt_row gt_right" headers="K">144</td>
<td class="gt_row gt_left" headers="est_ci">0.163 [-2.184, 2.51]</td>
<td class="gt_row gt_right" headers="pval">0.647</td>
<td class="gt_row gt_right" headers="tau">0.338</td>
<td class="gt_row gt_right" headers="omega">0.169</td>
<td class="gt_row gt_right" headers="total_SD">0.378</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="test">PET/PEESE</td>
<td class="gt_row gt_right" headers="J">42</td>
<td class="gt_row gt_right" headers="K">144</td>
<td class="gt_row gt_left" headers="est_ci">-0.063 [-1.489, 1.362]</td>
<td class="gt_row gt_right" headers="pval">0.880</td>
<td class="gt_row gt_right" headers="tau">0.315</td>
<td class="gt_row gt_right" headers="omega">0.172</td>
<td class="gt_row gt_right" headers="total_SD">0.359</td>
<td class="gt_row gt_right" headers="lambda1"><br>
</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="test">Cluster selmodel (3PSM)</td>
<td class="gt_row gt_right" headers="J">42</td>
<td class="gt_row gt_right" headers="K">144</td>
<td class="gt_row gt_left" headers="est_ci">0.426 [0.229, 0.737]</td>
<td class="gt_row gt_right" headers="pval"><br>
</td>
<td class="gt_row gt_right" headers="tau">0.359</td>
<td class="gt_row gt_right" headers="omega"><br>
</td>
<td class="gt_row gt_right" headers="total_SD">0.359</td>
<td class="gt_row gt_right" headers="lambda1">2.927</td>
<td class="gt_row gt_right" headers="lambda2"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="test">Cluster selmodel (4PSM)</td>
<td class="gt_row gt_right" headers="J">42</td>
<td class="gt_row gt_right" headers="K">144</td>
<td class="gt_row gt_left" headers="est_ci">0.324 [0.021, 0.629]</td>
<td class="gt_row gt_right" headers="pval"><br>
</td>
<td class="gt_row gt_right" headers="tau">0.393</td>
<td class="gt_row gt_right" headers="omega"><br>
</td>
<td class="gt_row gt_right" headers="total_SD">0.393</td>
<td class="gt_row gt_right" headers="lambda1">2.565</td>
<td class="gt_row gt_right" headers="lambda2">1.296</td>
</tr>
</tbody>
</table>

</div>
<p>Overall average mental health effect size estimates corrected for publication bias</p>
</div>
</div>
</section>
</section>
<section id="publication-and-small-study-bias-tests-across-type-of-registration" class="level1">
<h1>Publication and small study bias tests across type of registration</h1>
<section id="reintegration-2" class="level2">
<h2 class="anchored" data-anchor-id="reintegration-2">Reintegration</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-prereg-reint}</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-prereg-reint</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Preregistration subgroup estimates corrected for publication bias"</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias <span class="ot">&lt;-</span> </span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  wc_prereg_tab,</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  che_iscw_prereg_tab,</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  che_pet_prereg_tab,</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>  PSM3_prereg_tab,</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>  PSM4_prereg_tab</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> est_ci)</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_gt <span class="ot">&lt;-</span> </span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>  prereg_tab_pub_bias  <span class="sc">|&gt;</span> </span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_gt</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a><span class="co">#prereg_tab_pub_bias_gt |&gt; </span></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a><span class="co">#gtsave(file = "Tables/Publication bias table across preregistration status.docx")</span></span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="lxnajfthkm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#lxnajfthkm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lxnajfthkm thead, #lxnajfthkm tbody, #lxnajfthkm tfoot, #lxnajfthkm tr, #lxnajfthkm td, #lxnajfthkm th {
  border-style: none;
}

#lxnajfthkm p {
  margin: 0;
  padding: 0;
}

#lxnajfthkm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lxnajfthkm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lxnajfthkm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lxnajfthkm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lxnajfthkm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lxnajfthkm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lxnajfthkm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lxnajfthkm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lxnajfthkm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lxnajfthkm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lxnajfthkm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lxnajfthkm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lxnajfthkm .gt_spanner_row {
  border-bottom-style: hidden;
}

#lxnajfthkm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lxnajfthkm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lxnajfthkm .gt_from_md > :first-child {
  margin-top: 0;
}

#lxnajfthkm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lxnajfthkm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lxnajfthkm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lxnajfthkm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lxnajfthkm .gt_row_group_first td {
  border-top-width: 2px;
}

#lxnajfthkm .gt_row_group_first th {
  border-top-width: 2px;
}

#lxnajfthkm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lxnajfthkm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lxnajfthkm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lxnajfthkm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lxnajfthkm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lxnajfthkm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lxnajfthkm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lxnajfthkm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lxnajfthkm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lxnajfthkm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lxnajfthkm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lxnajfthkm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lxnajfthkm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lxnajfthkm .gt_left {
  text-align: left;
}

#lxnajfthkm .gt_center {
  text-align: center;
}

#lxnajfthkm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lxnajfthkm .gt_font_normal {
  font-weight: normal;
}

#lxnajfthkm .gt_font_bold {
  font-weight: bold;
}

#lxnajfthkm .gt_font_italic {
  font-style: italic;
}

#lxnajfthkm .gt_super {
  font-size: 65%;
}

#lxnajfthkm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lxnajfthkm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lxnajfthkm .gt_indent_1 {
  text-indent: 5px;
}

#lxnajfthkm .gt_indent_2 {
  text-indent: 10px;
}

#lxnajfthkm .gt_indent_3 {
  text-indent: 15px;
}

#lxnajfthkm .gt_indent_4 {
  text-indent: 20px;
}

#lxnajfthkm .gt_indent_5 {
  text-indent: 25px;
}

#lxnajfthkm .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#lxnajfthkm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="coefficient" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">coefficient</th>
<th id="worstcase" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">worstcase</th>
<th id="iscw" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">iscw</th>
<th id="petpesse" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">petpesse</th>
<th id="PSM3" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">PSM3</th>
<th id="PSM4" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">PSM4</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Not preregistered</td>
<td class="gt_row gt_left" headers="worstcase">0.12 [0.012, 0.229]</td>
<td class="gt_row gt_left" headers="iscw">0.356 [0.203, 0.508]</td>
<td class="gt_row gt_left" headers="petpesse">0.413 [-0.336, 1.161]</td>
<td class="gt_row gt_left" headers="PSM3">0.332 [0.225, 0.467]</td>
<td class="gt_row gt_left" headers="PSM4">0.298 [0.126, 0.459]</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Preregistered</td>
<td class="gt_row gt_left" headers="worstcase">0.064 [0.001, 0.126]</td>
<td class="gt_row gt_left" headers="iscw">0.136 [-0.86, 1.132]</td>
<td class="gt_row gt_left" headers="petpesse">0.168 [-2.075, 2.412]</td>
<td class="gt_row gt_left" headers="PSM3">0.207 [0.062, 0.31]</td>
<td class="gt_row gt_left" headers="PSM4">0.177 [-0.014, 0.316]</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Wald test p value</td>
<td class="gt_row gt_left" headers="worstcase">0.35</td>
<td class="gt_row gt_left" headers="iscw">0.141</td>
<td class="gt_row gt_left" headers="petpesse">0.027</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">lambda1</td>
<td class="gt_row gt_left" headers="worstcase"><br>
</td>
<td class="gt_row gt_left" headers="iscw"><br>
</td>
<td class="gt_row gt_left" headers="petpesse"><br>
</td>
<td class="gt_row gt_left" headers="PSM3">1.472</td>
<td class="gt_row gt_left" headers="PSM4">1.346</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">lambda2</td>
<td class="gt_row gt_left" headers="worstcase"><br>
</td>
<td class="gt_row gt_left" headers="iscw"><br>
</td>
<td class="gt_row gt_left" headers="petpesse"><br>
</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4">0.998</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">tau</td>
<td class="gt_row gt_left" headers="worstcase">0</td>
<td class="gt_row gt_left" headers="iscw">0.067</td>
<td class="gt_row gt_left" headers="petpesse">0.073</td>
<td class="gt_row gt_left" headers="PSM3">0.181</td>
<td class="gt_row gt_left" headers="PSM4">0.191</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">omega</td>
<td class="gt_row gt_left" headers="worstcase">0.149</td>
<td class="gt_row gt_left" headers="iscw">0.194</td>
<td class="gt_row gt_left" headers="petpesse">0.194</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Total SD</td>
<td class="gt_row gt_left" headers="worstcase">0.149</td>
<td class="gt_row gt_left" headers="iscw">0.205</td>
<td class="gt_row gt_left" headers="petpesse">0.207</td>
<td class="gt_row gt_left" headers="PSM3">0.181</td>
<td class="gt_row gt_left" headers="PSM4">0.191</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Studies</td>
<td class="gt_row gt_left" headers="worstcase">40</td>
<td class="gt_row gt_left" headers="iscw">46</td>
<td class="gt_row gt_left" headers="petpesse">46</td>
<td class="gt_row gt_left" headers="PSM3">46</td>
<td class="gt_row gt_left" headers="PSM4">46</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Effects</td>
<td class="gt_row gt_left" headers="worstcase">157</td>
<td class="gt_row gt_left" headers="iscw">205</td>
<td class="gt_row gt_left" headers="petpesse">205</td>
<td class="gt_row gt_left" headers="PSM3">205</td>
<td class="gt_row gt_left" headers="PSM4">205</td>
</tr>
</tbody>
</table>

</div>
<p>Preregistration subgroup estimates corrected for publication bias</p>
</div>
</div>
</section>
<section id="mental-health-2" class="level2">
<h2 class="anchored" data-anchor-id="mental-health-2">Mental health</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-prereg-mental}</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-prereg-mental</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Preregistration subgroup estimates corrected for publication bias (mental health outcomes)"</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_mental <span class="ot">&lt;-</span> </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  wc_prereg_tab_mental,</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  che_iscw_prereg_tab_mental,</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  che_pet_prereg_tab_mental,</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  PSM3_prereg_tab_mental,</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>  PSM4_prereg_tab_mental</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> est_ci)</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_gt_mental <span class="ot">&lt;-</span> </span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  prereg_tab_pub_bias_mental  <span class="sc">|&gt;</span> </span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_gt_mental</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a><span class="co">#prereg_tab_pub_bias_gt_mental |&gt; </span></span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a><span class="co">#gtsave(file = "Tables/Publication bias table across preregistration status mental.docx")</span></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="vgtuxpyqqt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vgtuxpyqqt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vgtuxpyqqt thead, #vgtuxpyqqt tbody, #vgtuxpyqqt tfoot, #vgtuxpyqqt tr, #vgtuxpyqqt td, #vgtuxpyqqt th {
  border-style: none;
}

#vgtuxpyqqt p {
  margin: 0;
  padding: 0;
}

#vgtuxpyqqt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vgtuxpyqqt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vgtuxpyqqt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vgtuxpyqqt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vgtuxpyqqt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vgtuxpyqqt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vgtuxpyqqt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vgtuxpyqqt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vgtuxpyqqt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vgtuxpyqqt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vgtuxpyqqt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vgtuxpyqqt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vgtuxpyqqt .gt_spanner_row {
  border-bottom-style: hidden;
}

#vgtuxpyqqt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vgtuxpyqqt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vgtuxpyqqt .gt_from_md > :first-child {
  margin-top: 0;
}

#vgtuxpyqqt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vgtuxpyqqt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vgtuxpyqqt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtuxpyqqt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vgtuxpyqqt .gt_row_group_first td {
  border-top-width: 2px;
}

#vgtuxpyqqt .gt_row_group_first th {
  border-top-width: 2px;
}

#vgtuxpyqqt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtuxpyqqt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vgtuxpyqqt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vgtuxpyqqt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vgtuxpyqqt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtuxpyqqt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vgtuxpyqqt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vgtuxpyqqt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vgtuxpyqqt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vgtuxpyqqt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vgtuxpyqqt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtuxpyqqt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vgtuxpyqqt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vgtuxpyqqt .gt_left {
  text-align: left;
}

#vgtuxpyqqt .gt_center {
  text-align: center;
}

#vgtuxpyqqt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vgtuxpyqqt .gt_font_normal {
  font-weight: normal;
}

#vgtuxpyqqt .gt_font_bold {
  font-weight: bold;
}

#vgtuxpyqqt .gt_font_italic {
  font-style: italic;
}

#vgtuxpyqqt .gt_super {
  font-size: 65%;
}

#vgtuxpyqqt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vgtuxpyqqt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vgtuxpyqqt .gt_indent_1 {
  text-indent: 5px;
}

#vgtuxpyqqt .gt_indent_2 {
  text-indent: 10px;
}

#vgtuxpyqqt .gt_indent_3 {
  text-indent: 15px;
}

#vgtuxpyqqt .gt_indent_4 {
  text-indent: 20px;
}

#vgtuxpyqqt .gt_indent_5 {
  text-indent: 25px;
}

#vgtuxpyqqt .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#vgtuxpyqqt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="coefficient" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">coefficient</th>
<th id="worstcase" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">worstcase</th>
<th id="iscw" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">iscw</th>
<th id="petpesse" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">petpesse</th>
<th id="PSM3" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">PSM3</th>
<th id="PSM4" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">PSM4</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Not preregistered</td>
<td class="gt_row gt_left" headers="worstcase">0.02 [-0.184, 0.223]</td>
<td class="gt_row gt_left" headers="iscw">0.108 [-0.347, 0.562]</td>
<td class="gt_row gt_left" headers="petpesse">-0.313 [-2.252, 1.627]</td>
<td class="gt_row gt_left" headers="PSM3">0.437 [0.112, 0.813]</td>
<td class="gt_row gt_left" headers="PSM4">0.333 [-0.063, 0.762]</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Preregistered</td>
<td class="gt_row gt_left" headers="worstcase">0.105 [0.007, 0.202]</td>
<td class="gt_row gt_left" headers="iscw">0.167 [-2.446, 2.78]</td>
<td class="gt_row gt_left" headers="petpesse">0.125 [-2.771, 3.022]</td>
<td class="gt_row gt_left" headers="PSM3">0.42 [0.199, 0.657]</td>
<td class="gt_row gt_left" headers="PSM4">0.32 [-0.012, 0.573]</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Wald test p value</td>
<td class="gt_row gt_left" headers="worstcase">0.454</td>
<td class="gt_row gt_left" headers="iscw">0.828</td>
<td class="gt_row gt_left" headers="petpesse">0.187</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">lambda1</td>
<td class="gt_row gt_left" headers="worstcase"><br>
</td>
<td class="gt_row gt_left" headers="iscw"><br>
</td>
<td class="gt_row gt_left" headers="petpesse"><br>
</td>
<td class="gt_row gt_left" headers="PSM3">2.928</td>
<td class="gt_row gt_left" headers="PSM4">2.566</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">lambda2</td>
<td class="gt_row gt_left" headers="worstcase"><br>
</td>
<td class="gt_row gt_left" headers="iscw"><br>
</td>
<td class="gt_row gt_left" headers="petpesse"><br>
</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4">1.298</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">tau</td>
<td class="gt_row gt_left" headers="worstcase">0.163</td>
<td class="gt_row gt_left" headers="iscw">0.345</td>
<td class="gt_row gt_left" headers="petpesse">0.315</td>
<td class="gt_row gt_left" headers="PSM3">0.359</td>
<td class="gt_row gt_left" headers="PSM4">0.394</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">omega</td>
<td class="gt_row gt_left" headers="worstcase">0.1</td>
<td class="gt_row gt_left" headers="iscw">0.169</td>
<td class="gt_row gt_left" headers="petpesse">0.172</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Total SD</td>
<td class="gt_row gt_left" headers="worstcase">0.191</td>
<td class="gt_row gt_left" headers="iscw">0.384</td>
<td class="gt_row gt_left" headers="petpesse">0.359</td>
<td class="gt_row gt_left" headers="PSM3">0.359</td>
<td class="gt_row gt_left" headers="PSM4">0.394</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Studies</td>
<td class="gt_row gt_left" headers="worstcase">37</td>
<td class="gt_row gt_left" headers="iscw">42</td>
<td class="gt_row gt_left" headers="petpesse">42</td>
<td class="gt_row gt_left" headers="PSM3">42</td>
<td class="gt_row gt_left" headers="PSM4">42</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Effects</td>
<td class="gt_row gt_left" headers="worstcase">108</td>
<td class="gt_row gt_left" headers="iscw">144</td>
<td class="gt_row gt_left" headers="petpesse">144</td>
<td class="gt_row gt_left" headers="PSM3">144</td>
<td class="gt_row gt_left" headers="PSM4">144</td>
</tr>
</tbody>
</table>

</div>
<p>Preregistration subgroup estimates corrected for publication bias (mental health outcomes)</p>
</div>
</div>
</section>
</section>
<section id="publication-and-small-study-bias-tests-across-types-of-outcomes" class="level1">
<h1>Publication and small study bias tests across types of outcomes</h1>
<section id="reintegration-3" class="level2">
<h2 class="anchored" data-anchor-id="reintegration-3">Reintegration</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-outcome-reint}</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-outcome-reint</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Outcome subgroup estimates corrected for publication bias"</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias <span class="ot">&lt;-</span> </span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  hyema_outcome_tab,</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  wc_outcome_tab,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  che_iscw_outcome_tab,</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>  che_pet_outcome_tab,</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>  PSM3_outcome_tab,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  PSM4_outcome_tab</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a><span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> est_ci)</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_gt <span class="ot">&lt;-</span> </span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>  outcome_tab_pub_bias <span class="sc">|&gt;</span> </span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_gt</span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a><span class="co">#outcome_tab_pub_bias_gt |&gt; gtsave(file = "Tables/Publication bias table across outcomes.docx")</span></span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="jygqskssyv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jygqskssyv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jygqskssyv thead, #jygqskssyv tbody, #jygqskssyv tfoot, #jygqskssyv tr, #jygqskssyv td, #jygqskssyv th {
  border-style: none;
}

#jygqskssyv p {
  margin: 0;
  padding: 0;
}

#jygqskssyv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jygqskssyv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jygqskssyv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jygqskssyv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jygqskssyv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jygqskssyv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jygqskssyv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jygqskssyv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jygqskssyv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jygqskssyv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jygqskssyv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jygqskssyv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jygqskssyv .gt_spanner_row {
  border-bottom-style: hidden;
}

#jygqskssyv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jygqskssyv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jygqskssyv .gt_from_md > :first-child {
  margin-top: 0;
}

#jygqskssyv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jygqskssyv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jygqskssyv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jygqskssyv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jygqskssyv .gt_row_group_first td {
  border-top-width: 2px;
}

#jygqskssyv .gt_row_group_first th {
  border-top-width: 2px;
}

#jygqskssyv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jygqskssyv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jygqskssyv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jygqskssyv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jygqskssyv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jygqskssyv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jygqskssyv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jygqskssyv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jygqskssyv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jygqskssyv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jygqskssyv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jygqskssyv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jygqskssyv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jygqskssyv .gt_left {
  text-align: left;
}

#jygqskssyv .gt_center {
  text-align: center;
}

#jygqskssyv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jygqskssyv .gt_font_normal {
  font-weight: normal;
}

#jygqskssyv .gt_font_bold {
  font-weight: bold;
}

#jygqskssyv .gt_font_italic {
  font-style: italic;
}

#jygqskssyv .gt_super {
  font-size: 65%;
}

#jygqskssyv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jygqskssyv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jygqskssyv .gt_indent_1 {
  text-indent: 5px;
}

#jygqskssyv .gt_indent_2 {
  text-indent: 10px;
}

#jygqskssyv .gt_indent_3 {
  text-indent: 15px;
}

#jygqskssyv .gt_indent_4 {
  text-indent: 20px;
}

#jygqskssyv .gt_indent_5 {
  text-indent: 25px;
}

#jygqskssyv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jygqskssyv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="coefficient" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">coefficient</th>
<th id="hyema" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">hyema</th>
<th id="worstcase" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">worstcase</th>
<th id="iscw" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">iscw</th>
<th id="petpesse" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">petpesse</th>
<th id="PSM3" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">PSM3</th>
<th id="PSM4" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">PSM4</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Alchohol</td>
<td class="gt_row gt_left" headers="hyema">0.126 [0.013, 0.653]</td>
<td class="gt_row gt_left" headers="worstcase">0.015 [-0.141, 0.171]</td>
<td class="gt_row gt_left" headers="iscw">0.03 [-0.331, 0.392]</td>
<td class="gt_row gt_left" headers="petpesse">0.038 [-1.068, 1.145]</td>
<td class="gt_row gt_left" headers="PSM3">0.125 [-0.003, 0.416]</td>
<td class="gt_row gt_left" headers="PSM4">0.109 [-0.058, 0.42]</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Hope</td>
<td class="gt_row gt_left" headers="hyema">0.353 [0.115, 0.432]</td>
<td class="gt_row gt_left" headers="worstcase">0.173 [0.062, 0.284]</td>
<td class="gt_row gt_left" headers="iscw">0.304 [0.042, 0.566]</td>
<td class="gt_row gt_left" headers="petpesse">0.31 [-0.783, 1.404]</td>
<td class="gt_row gt_left" headers="PSM3">0.253 [0.127, 0.387]</td>
<td class="gt_row gt_left" headers="PSM4">0.238 [0.044, 0.38]</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Lone</td>
<td class="gt_row gt_left" headers="hyema">0.126 [-0.394, 0.848]</td>
<td class="gt_row gt_left" headers="worstcase">-0.11 [-0.51, 0.29]</td>
<td class="gt_row gt_left" headers="iscw">-0.01 [-0.951, 0.931]</td>
<td class="gt_row gt_left" headers="petpesse">-0.004 [-1.108, 1.1]</td>
<td class="gt_row gt_left" headers="PSM3">-0.048 [-0.222, 0.656]</td>
<td class="gt_row gt_left" headers="PSM4">-0.059 [-0.235, 0.646]</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Selfest</td>
<td class="gt_row gt_left" headers="hyema">0.573 [0.063, 0.902]</td>
<td class="gt_row gt_left" headers="worstcase">0.268 [-0.004, 0.54]</td>
<td class="gt_row gt_left" headers="iscw">0.401 [-0.196, 0.998]</td>
<td class="gt_row gt_left" headers="petpesse">0.407 [-0.419, 1.232]</td>
<td class="gt_row gt_left" headers="PSM3">0.359 [0.148, 0.571]</td>
<td class="gt_row gt_left" headers="PSM4">0.346 [0.07, 0.564]</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Social</td>
<td class="gt_row gt_left" headers="hyema">0.166 [-0.037, 0.353]</td>
<td class="gt_row gt_left" headers="worstcase">0.001 [-0.121, 0.123]</td>
<td class="gt_row gt_left" headers="iscw">0.191 [-0.673, 1.055]</td>
<td class="gt_row gt_left" headers="petpesse">0.198 [-2.067, 2.463]</td>
<td class="gt_row gt_left" headers="PSM3">0.248 [-0.004, 0.398]</td>
<td class="gt_row gt_left" headers="PSM4">0.234 [-0.062, 0.405]</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Wellbeing</td>
<td class="gt_row gt_left" headers="hyema">0.223 [0.082, 0.302]</td>
<td class="gt_row gt_left" headers="worstcase">0.129 [0.038, 0.219]</td>
<td class="gt_row gt_left" headers="iscw">0.224 [-0.188, 0.637]</td>
<td class="gt_row gt_left" headers="petpesse">0.231 [-1.371, 1.832]</td>
<td class="gt_row gt_left" headers="PSM3">0.291 [0.138, 0.37]</td>
<td class="gt_row gt_left" headers="PSM4">0.28 [0.086, 0.384]</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Other</td>
<td class="gt_row gt_left" headers="hyema">0.496 [-0.055, 1.53]</td>
<td class="gt_row gt_left" headers="worstcase">0.261 [0.12, 0.402]</td>
<td class="gt_row gt_left" headers="iscw">0.287 [-0.112, 0.685]</td>
<td class="gt_row gt_left" headers="petpesse">0.294 [-0.711, 1.299]</td>
<td class="gt_row gt_left" headers="PSM3">0.354 [0.034, 0.641]</td>
<td class="gt_row gt_left" headers="PSM4">0.336 [-0.035, 0.649]</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Wald test p value</td>
<td class="gt_row gt_left" headers="hyema">0.157</td>
<td class="gt_row gt_left" headers="worstcase">0.242</td>
<td class="gt_row gt_left" headers="iscw">0.361</td>
<td class="gt_row gt_left" headers="petpesse">0.331</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">lambda1</td>
<td class="gt_row gt_left" headers="hyema"><br>
</td>
<td class="gt_row gt_left" headers="worstcase"><br>
</td>
<td class="gt_row gt_left" headers="iscw"><br>
</td>
<td class="gt_row gt_left" headers="petpesse"><br>
</td>
<td class="gt_row gt_left" headers="PSM3">1.504</td>
<td class="gt_row gt_left" headers="PSM4">1.431</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">lambda2</td>
<td class="gt_row gt_left" headers="hyema"><br>
</td>
<td class="gt_row gt_left" headers="worstcase"><br>
</td>
<td class="gt_row gt_left" headers="iscw"><br>
</td>
<td class="gt_row gt_left" headers="petpesse"><br>
</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4">1.221</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">tau</td>
<td class="gt_row gt_left" headers="hyema">0.198</td>
<td class="gt_row gt_left" headers="worstcase">0</td>
<td class="gt_row gt_left" headers="iscw">0.062</td>
<td class="gt_row gt_left" headers="petpesse">0.075</td>
<td class="gt_row gt_left" headers="PSM3">0.155</td>
<td class="gt_row gt_left" headers="PSM4">0.16</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">omega</td>
<td class="gt_row gt_left" headers="hyema"><br>
</td>
<td class="gt_row gt_left" headers="worstcase">0.136</td>
<td class="gt_row gt_left" headers="iscw">0.186</td>
<td class="gt_row gt_left" headers="petpesse">0.185</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Total SD</td>
<td class="gt_row gt_left" headers="hyema">0.198</td>
<td class="gt_row gt_left" headers="worstcase">0.136</td>
<td class="gt_row gt_left" headers="iscw">0.196</td>
<td class="gt_row gt_left" headers="petpesse">0.2</td>
<td class="gt_row gt_left" headers="PSM3">0.155</td>
<td class="gt_row gt_left" headers="PSM4">0.16</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Studies</td>
<td class="gt_row gt_left" headers="hyema">46</td>
<td class="gt_row gt_left" headers="worstcase">40</td>
<td class="gt_row gt_left" headers="iscw">46</td>
<td class="gt_row gt_left" headers="petpesse">46</td>
<td class="gt_row gt_left" headers="PSM3">46</td>
<td class="gt_row gt_left" headers="PSM4">46</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Effects</td>
<td class="gt_row gt_left" headers="hyema">205</td>
<td class="gt_row gt_left" headers="worstcase">157</td>
<td class="gt_row gt_left" headers="iscw">205</td>
<td class="gt_row gt_left" headers="petpesse">205</td>
<td class="gt_row gt_left" headers="PSM3">205</td>
<td class="gt_row gt_left" headers="PSM4">205</td>
</tr>
</tbody>
</table>

</div>
<p>Outcome subgroup estimates corrected for publication bias</p>
</div>
</div>
</section>
<section id="mental-health-3" class="level2">
<h2 class="anchored" data-anchor-id="mental-health-3">Mental health</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-outcome-mental}</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-outcome-mental</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Mental health outcome subgroup estimates corrected for publication bias"</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_mental <span class="ot">&lt;-</span> </span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  hyema_outcome_tab_mental,</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>  wc_outcome_tab_mental,</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>  che_iscw_outcome_tab_mental,</span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>  che_pet_outcome_tab_mental,</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>  PSM3_outcome_tab_mental,</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>  PSM4_outcome_tab_mental</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a><span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> est_ci)</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_gt_mental <span class="ot">&lt;-</span> </span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>  outcome_tab_pub_bias_mental <span class="sc">|&gt;</span> </span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_gt_mental</span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a><span class="co">#outcome_tab_pub_bias_gt_mental |&gt; gtsave(file = "Tables/Publication bias table across outcomes mental.docx")</span></span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="mcedtjlcxj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mcedtjlcxj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mcedtjlcxj thead, #mcedtjlcxj tbody, #mcedtjlcxj tfoot, #mcedtjlcxj tr, #mcedtjlcxj td, #mcedtjlcxj th {
  border-style: none;
}

#mcedtjlcxj p {
  margin: 0;
  padding: 0;
}

#mcedtjlcxj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mcedtjlcxj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mcedtjlcxj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mcedtjlcxj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mcedtjlcxj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mcedtjlcxj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mcedtjlcxj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mcedtjlcxj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mcedtjlcxj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mcedtjlcxj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mcedtjlcxj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mcedtjlcxj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mcedtjlcxj .gt_spanner_row {
  border-bottom-style: hidden;
}

#mcedtjlcxj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mcedtjlcxj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mcedtjlcxj .gt_from_md > :first-child {
  margin-top: 0;
}

#mcedtjlcxj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mcedtjlcxj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mcedtjlcxj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mcedtjlcxj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mcedtjlcxj .gt_row_group_first td {
  border-top-width: 2px;
}

#mcedtjlcxj .gt_row_group_first th {
  border-top-width: 2px;
}

#mcedtjlcxj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mcedtjlcxj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mcedtjlcxj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mcedtjlcxj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mcedtjlcxj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mcedtjlcxj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mcedtjlcxj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mcedtjlcxj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mcedtjlcxj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mcedtjlcxj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mcedtjlcxj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mcedtjlcxj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mcedtjlcxj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mcedtjlcxj .gt_left {
  text-align: left;
}

#mcedtjlcxj .gt_center {
  text-align: center;
}

#mcedtjlcxj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mcedtjlcxj .gt_font_normal {
  font-weight: normal;
}

#mcedtjlcxj .gt_font_bold {
  font-weight: bold;
}

#mcedtjlcxj .gt_font_italic {
  font-style: italic;
}

#mcedtjlcxj .gt_super {
  font-size: 65%;
}

#mcedtjlcxj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mcedtjlcxj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mcedtjlcxj .gt_indent_1 {
  text-indent: 5px;
}

#mcedtjlcxj .gt_indent_2 {
  text-indent: 10px;
}

#mcedtjlcxj .gt_indent_3 {
  text-indent: 15px;
}

#mcedtjlcxj .gt_indent_4 {
  text-indent: 20px;
}

#mcedtjlcxj .gt_indent_5 {
  text-indent: 25px;
}

#mcedtjlcxj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mcedtjlcxj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="gt_col_headings header">
<th id="coefficient" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">coefficient</th>
<th id="hyema" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">hyema</th>
<th id="worstcase" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">worstcase</th>
<th id="iscw" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">iscw</th>
<th id="petpesse" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">petpesse</th>
<th id="PSM3" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">PSM3</th>
<th id="PSM4" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">PSM4</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Anxiety</td>
<td class="gt_row gt_left" headers="hyema">0.541 [-0.025, 0.803]</td>
<td class="gt_row gt_left" headers="worstcase">0.103 [-0.081, 0.287]</td>
<td class="gt_row gt_left" headers="iscw">0.15 [-0.985, 1.285]</td>
<td class="gt_row gt_left" headers="petpesse">-0.241 [-2.307, 1.825]</td>
<td class="gt_row gt_left" headers="PSM3">0.613 [-0.044, 1.15]</td>
<td class="gt_row gt_left" headers="PSM4">0.552 [-0.2, 1.068]</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Depression</td>
<td class="gt_row gt_left" headers="hyema">0.409 [0.198, 0.676]</td>
<td class="gt_row gt_left" headers="worstcase">0.137 [0.028, 0.245]</td>
<td class="gt_row gt_left" headers="iscw">0.173 [-0.64, 0.986]</td>
<td class="gt_row gt_left" headers="petpesse">-0.136 [-1.631, 1.36]</td>
<td class="gt_row gt_left" headers="PSM3">0.483 [0.205, 0.859]</td>
<td class="gt_row gt_left" headers="PSM4">0.397 [0.018, 0.752]</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Gen_mental</td>
<td class="gt_row gt_left" headers="hyema">0.182 [0.06, 0.344]</td>
<td class="gt_row gt_left" headers="worstcase">0.042 [-0.066, 0.151]</td>
<td class="gt_row gt_left" headers="iscw">-0.086 [-1.49, 1.319]</td>
<td class="gt_row gt_left" headers="petpesse">-0.571 [-3.166, 2.024]</td>
<td class="gt_row gt_left" headers="PSM3">0.336 [0.123, 0.567]</td>
<td class="gt_row gt_left" headers="PSM4">0.218 [-0.06, 0.481]</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Symtoms</td>
<td class="gt_row gt_left" headers="hyema">0.248 [0.027, 0.582]</td>
<td class="gt_row gt_left" headers="worstcase">0.061 [-0.05, 0.172]</td>
<td class="gt_row gt_left" headers="iscw">0.067 [-0.598, 0.733]</td>
<td class="gt_row gt_left" headers="petpesse">-0.246 [-1.942, 1.45]</td>
<td class="gt_row gt_left" headers="PSM3">0.383 [0.079, 0.779]</td>
<td class="gt_row gt_left" headers="PSM4">0.26 [-0.115, 0.668]</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Wald test p value</td>
<td class="gt_row gt_left" headers="hyema">0.532</td>
<td class="gt_row gt_left" headers="worstcase">0.242</td>
<td class="gt_row gt_left" headers="iscw">0.767</td>
<td class="gt_row gt_left" headers="petpesse">0.816</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">lambda1</td>
<td class="gt_row gt_left" headers="hyema"><br>
</td>
<td class="gt_row gt_left" headers="worstcase"><br>
</td>
<td class="gt_row gt_left" headers="iscw"><br>
</td>
<td class="gt_row gt_left" headers="petpesse"><br>
</td>
<td class="gt_row gt_left" headers="PSM3">2.787</td>
<td class="gt_row gt_left" headers="PSM4">2.425</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">lambda2</td>
<td class="gt_row gt_left" headers="hyema"><br>
</td>
<td class="gt_row gt_left" headers="worstcase"><br>
</td>
<td class="gt_row gt_left" headers="iscw"><br>
</td>
<td class="gt_row gt_left" headers="petpesse"><br>
</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4">1.183</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">tau</td>
<td class="gt_row gt_left" headers="hyema">0.307</td>
<td class="gt_row gt_left" headers="worstcase">0.18</td>
<td class="gt_row gt_left" headers="iscw">0.344</td>
<td class="gt_row gt_left" headers="petpesse">0.313</td>
<td class="gt_row gt_left" headers="PSM3">0.346</td>
<td class="gt_row gt_left" headers="PSM4">0.376</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">omega</td>
<td class="gt_row gt_left" headers="hyema"><br>
</td>
<td class="gt_row gt_left" headers="worstcase">0.093</td>
<td class="gt_row gt_left" headers="iscw">0.168</td>
<td class="gt_row gt_left" headers="petpesse">0.169</td>
<td class="gt_row gt_left" headers="PSM3"><br>
</td>
<td class="gt_row gt_left" headers="PSM4"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Total SD</td>
<td class="gt_row gt_left" headers="hyema">0.307</td>
<td class="gt_row gt_left" headers="worstcase">0.202</td>
<td class="gt_row gt_left" headers="iscw">0.383</td>
<td class="gt_row gt_left" headers="petpesse">0.355</td>
<td class="gt_row gt_left" headers="PSM3">0.346</td>
<td class="gt_row gt_left" headers="PSM4">0.376</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="coefficient">Studies</td>
<td class="gt_row gt_left" headers="hyema">42</td>
<td class="gt_row gt_left" headers="worstcase">37</td>
<td class="gt_row gt_left" headers="iscw">42</td>
<td class="gt_row gt_left" headers="petpesse">42</td>
<td class="gt_row gt_left" headers="PSM3">42</td>
<td class="gt_row gt_left" headers="PSM4">42</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="coefficient">Effects</td>
<td class="gt_row gt_left" headers="hyema">144</td>
<td class="gt_row gt_left" headers="worstcase">108</td>
<td class="gt_row gt_left" headers="iscw">144</td>
<td class="gt_row gt_left" headers="petpesse">144</td>
<td class="gt_row gt_left" headers="PSM3">144</td>
<td class="gt_row gt_left" headers="PSM4">144</td>
</tr>
</tbody>
</table>

</div>
<p>Mental health outcome subgroup estimates corrected for publication bias</p>
</div>
</div>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p>Dalgaard, N. T., Flensborg Jensen, M. C., Bengtsen, E., Krassel, K. F., &amp; Vembye, M. H. (2025) Groupbased community interventions to support the social reintegration of marginalised adults with mental illness. A Systematic Review and meta-analysus. <em>Campbell Systematic Reviews</em>, 18(3), e1254. https://doi.org/10.1002/cl2.1254</p>
<div class="callout callout-style-simple callout-note no-icon callout-titled" title="Session Information">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Session Information
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<section id="session-information" class="level2 callout-body-container callout-body">
<h2 class="anchored" data-anchor-id="session-information">Session Information</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>()</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> Session info 
 setting  value
 version  R version 4.5.1 (2025-06-13 ucrt)
 os       Windows 11 x64 (build 22631)
 system   x86_64, mingw32
 ui       RTerm
 language (EN)
 collate  Danish_Denmark.utf8
 ctype    Danish_Denmark.utf8
 tz       Europe/Copenhagen
 date     2025-10-23
 pandoc   3.6.3 @ C:/RStudio-2025.09.1-401/resources/app/bin/quarto/bin/tools/ (via rmarkdown)
 quarto   NA @ C:\\RSTUDI~1.1-4\\RESOUR~1\\app\\bin\\quarto\\bin\\quarto.exe

 Packages 
 package         * version    date (UTC) lib source
 boot            * 1.3-31     2024-08-28 [1] CRAN (R 4.5.1)
 cli               3.6.5      2025-04-23 [1] CRAN (R 4.5.1)
 clubSandwich    * 0.6.1      2025-07-30 [1] CRAN (R 4.5.1)
 codetools         0.2-20     2024-03-31 [1] CRAN (R 4.5.1)
 digest            0.6.37     2024-08-19 [1] CRAN (R 4.5.1)
 dplyr           * 1.1.4      2023-11-17 [1] CRAN (R 4.5.1)
 DT              * 0.34.0     2025-09-02 [1] CRAN (R 4.5.1)
 evaluate          1.0.5      2025-08-27 [1] CRAN (R 4.5.1)
 farver            2.1.2      2024-05-13 [1] CRAN (R 4.5.1)
 fastmap           1.2.0      2024-05-15 [1] CRAN (R 4.5.1)
 forcats         * 1.0.0      2023-01-29 [1] CRAN (R 4.5.1)
 Formula           1.2-5      2023-02-24 [1] CRAN (R 4.5.0)
 future          * 1.67.0     2025-07-29 [1] CRAN (R 4.5.1)
 generics          0.1.4      2025-05-09 [1] CRAN (R 4.5.1)
 ggh4x           * 0.3.1      2025-05-30 [1] CRAN (R 4.5.1)
 ggplot2         * 4.0.0      2025-09-11 [1] CRAN (R 4.5.1)
 globals           0.18.0     2025-05-08 [1] CRAN (R 4.5.0)
 glue              1.8.0      2024-09-30 [1] CRAN (R 4.5.1)
 gt              * 1.0.0      2025-04-05 [1] CRAN (R 4.5.1)
 gtable            0.3.6      2024-10-25 [1] CRAN (R 4.5.1)
 hms               1.1.3      2023-03-21 [1] CRAN (R 4.5.1)
 htmltools         0.5.8.1    2024-04-04 [1] CRAN (R 4.5.1)
 htmlwidgets       1.6.4      2023-12-06 [1] CRAN (R 4.5.1)
 janitor         * 2.2.1      2024-12-22 [1] CRAN (R 4.5.1)
 jsonlite          2.0.0      2025-03-27 [1] CRAN (R 4.5.1)
 kableExtra      * 1.4.0      2024-01-24 [1] CRAN (R 4.5.1)
 knitr             1.50       2025-03-16 [1] CRAN (R 4.5.1)
 labeling          0.4.3      2023-08-29 [1] CRAN (R 4.5.0)
 lattice           0.22-7     2025-04-02 [1] CRAN (R 4.5.1)
 lifecycle         1.0.4      2023-11-07 [1] CRAN (R 4.5.1)
 listenv           0.9.1      2024-01-29 [1] CRAN (R 4.5.1)
 lubridate       * 1.9.4      2024-12-08 [1] CRAN (R 4.5.1)
 magrittr          2.0.4      2025-09-12 [1] CRAN (R 4.5.1)
 mathjaxr          1.8-0      2025-04-30 [1] CRAN (R 4.5.1)
 Matrix          * 1.7-3      2025-03-11 [1] CRAN (R 4.5.1)
 metabias          0.1.1      2023-08-18 [1] CRAN (R 4.5.1)
 metadat         * 1.4-0      2025-02-04 [1] CRAN (R 4.5.1)
 metafor         * 4.9-18     2025-09-22 [1] Github (wviechtb/metafor@6cc5a0a)
 metaselection   * 0.1.5      2025-09-18 [1] Github (jepusto/metaselection@746a84d)
 nlme              3.1-168    2025-03-31 [1] CRAN (R 4.5.1)
 numDeriv        * 2016.8-1.1 2019-06-06 [1] CRAN (R 4.5.0)
 parallelly        1.45.1     2025-07-24 [1] CRAN (R 4.5.1)
 patchwork       * 1.3.2      2025-08-25 [1] CRAN (R 4.5.1)
 pillar            1.11.1     2025-09-17 [1] CRAN (R 4.5.1)
 pkgconfig         2.0.3      2019-09-22 [1] CRAN (R 4.5.1)
 PublicationBias * 2.4.0      2023-08-18 [1] CRAN (R 4.5.1)
 puniform        * 0.2.8      2025-09-02 [1] CRAN (R 4.5.1)
 purrr           * 1.1.0      2025-07-10 [1] CRAN (R 4.5.1)
 R6                2.6.1      2025-02-15 [1] CRAN (R 4.5.1)
 rbibutils         2.3        2024-10-04 [1] CRAN (R 4.5.1)
 RColorBrewer      1.1-3      2022-04-03 [1] CRAN (R 4.5.0)
 Rcpp              1.1.0      2025-07-02 [1] CRAN (R 4.5.1)
 Rdpack            2.6.4      2025-04-09 [1] CRAN (R 4.5.1)
 readr           * 2.1.5      2024-01-10 [1] CRAN (R 4.5.1)
 rlang             1.1.6      2025-04-11 [1] CRAN (R 4.5.1)
 rmarkdown         2.29       2024-11-04 [1] CRAN (R 4.5.1)
 robumeta          2.1        2023-03-28 [1] CRAN (R 4.5.1)
 robvis          * 0.3.0      2019-11-22 [1] CRAN (R 4.5.1)
 rstudioapi        0.17.1     2024-10-22 [1] CRAN (R 4.5.1)
 S7                0.2.0      2024-11-07 [1] CRAN (R 4.5.1)
 sandwich          3.1-1      2024-09-15 [1] CRAN (R 4.5.1)
 sass              0.4.10     2025-04-11 [1] CRAN (R 4.5.1)
 scales            1.4.0      2025-04-24 [1] CRAN (R 4.5.1)
 sessioninfo       1.2.3      2025-02-05 [1] CRAN (R 4.5.1)
 snakecase         0.11.1     2023-08-27 [1] CRAN (R 4.5.1)
 stringi           1.8.7      2025-03-27 [1] CRAN (R 4.5.0)
 stringr         * 1.5.2      2025-09-08 [1] CRAN (R 4.5.1)
 svglite           2.2.1      2025-05-12 [1] CRAN (R 4.5.1)
 systemfonts       1.2.3      2025-04-30 [1] CRAN (R 4.5.1)
 textshaping       1.0.3      2025-09-02 [1] CRAN (R 4.5.1)
 tibble          * 3.3.0      2025-06-08 [1] CRAN (R 4.5.1)
 tictoc          * 1.2.1      2024-03-18 [1] CRAN (R 4.5.1)
 tidyr           * 1.3.1      2024-01-24 [1] CRAN (R 4.5.1)
 tidyselect        1.2.1      2024-03-11 [1] CRAN (R 4.5.1)
 tidyverse       * 2.0.0      2023-02-22 [1] CRAN (R 4.5.1)
 timechange        0.3.0      2024-01-18 [1] CRAN (R 4.5.1)
 tzdb              0.5.0      2025-03-15 [1] CRAN (R 4.5.1)
 utf8              1.2.6      2025-06-08 [1] CRAN (R 4.5.1)
 vctrs             0.6.5      2023-12-01 [1] CRAN (R 4.5.1)
 viridisLite       0.4.2      2023-05-02 [1] CRAN (R 4.5.1)
 wildmeta        * 0.3.2      2023-03-08 [1] CRAN (R 4.5.1)
 withr             3.0.2      2024-10-28 [1] CRAN (R 4.5.1)
 xfun              0.53       2025-08-19 [1] CRAN (R 4.5.1)
 xml2              1.4.0      2025-08-20 [1] CRAN (R 4.5.1)
 yaml              2.3.10     2024-07-26 [1] CRAN (R 4.5.0)
 zoo               1.8-14     2025-04-10 [1] CRAN (R 4.5.1)

 [1] C:/Users/B199526/AppData/Local/Programs/R/R-4.5.1/library
 *  Packages attached to the search path.

</code></pre>
</div>
</div>
</section>
</div>
</div>
<!-- -->

</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb45" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Publication bias testing in Dalgaard et al. (2025)"</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "Last updated `r format(Sys.time(), '%Y.%m.%d')`"</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show the code"</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: fenced</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="an">knitr:</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a><span class="co">  opts_chunk: </span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a><span class="co">    fig.pos: "H"</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a><span class="co">    fig.retina: 2</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a><span class="co">    cache: FALSE</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a><span class="co">    R.options:</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a><span class="co">      knitr.graphics.auto_pdf: true</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a><span class="co">      width: 100</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a><span class="co">      knitr.kable.NA: "-"</span></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a><span class="co">      dplyr.summarise.inform: FALSE</span></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a><span class="co">      scipen: 10</span></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a><span class="co">      pillar.sigfig: 4 </span></span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a><span class="fu"># Used package</span></span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a><span class="in">```{r packages}</span></span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(robvis)</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(metafor)</span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(clubSandwich)</span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wildmeta)</span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(metaselection)</span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggh4x)</span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(future)</span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(puniform)</span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(PublicationBias)</span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># for tidying</span></span>
<span id="cb45-52"><a href="#cb45-52" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)   <span class="co"># for tidying variable names</span></span>
<span id="cb45-53"><a href="#cb45-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(boot)      <span class="co"># for bootstrapping</span></span>
<span id="cb45-54"><a href="#cb45-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tictoc) </span>
<span id="cb45-55"><a href="#cb45-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-56"><a href="#cb45-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Loading in helper function used to calculate effect size and conduct the analysis</span></span>
<span id="cb45-57"><a href="#cb45-57" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"Helpers.R"</span>)</span>
<span id="cb45-58"><a href="#cb45-58" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"pub-bias-test-helpers.R"</span>)</span>
<span id="cb45-59"><a href="#cb45-59" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-60"><a href="#cb45-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-61"><a href="#cb45-61" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Reintegration**</span></span>
<span id="cb45-62"><a href="#cb45-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-63"><a href="#cb45-63" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data</span></span>
<span id="cb45-64"><a href="#cb45-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load-data}</span></span>
<span id="cb45-65"><a href="#cb45-65" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb45-66"><a href="#cb45-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-67"><a href="#cb45-67" aria-hidden="true" tabindex="-1"></a>reint_ma_dat <span class="ot">&lt;-</span> </span>
<span id="cb45-68"><a href="#cb45-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readRDS</span>(<span class="st">"reint_ma_dat.rds"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-69"><a href="#cb45-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-70"><a href="#cb45-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">esid =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>(),</span>
<span id="cb45-71"><a href="#cb45-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">se_gt_pop =</span> <span class="fu">sqrt</span>(vgt_pop), </span>
<span id="cb45-72"><a href="#cb45-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">sqrt</span>(Wgt_pop),</span>
<span id="cb45-73"><a href="#cb45-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">t_i =</span> gt_pop<span class="sc">/</span><span class="fu">sqrt</span>(Wgt)</span>
<span id="cb45-74"><a href="#cb45-74" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-75"><a href="#cb45-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-76"><a href="#cb45-76" aria-hidden="true" tabindex="-1"></a><span class="co">#Secondary analysis</span></span>
<span id="cb45-77"><a href="#cb45-77" aria-hidden="true" tabindex="-1"></a><span class="co">#mental_health_dat &lt;- </span></span>
<span id="cb45-78"><a href="#cb45-78" aria-hidden="true" tabindex="-1"></a><span class="co">#  readRDS("mental_health_dat.rds") |&gt; </span></span>
<span id="cb45-79"><a href="#cb45-79" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(</span></span>
<span id="cb45-80"><a href="#cb45-80" aria-hidden="true" tabindex="-1"></a><span class="co">#    esid = 1:n(),</span></span>
<span id="cb45-81"><a href="#cb45-81" aria-hidden="true" tabindex="-1"></a><span class="co">#    se_gt_pop = sqrt(vgt_pop), </span></span>
<span id="cb45-82"><a href="#cb45-82" aria-hidden="true" tabindex="-1"></a><span class="co">#    Wse_pop = sqrt(Wgt_pop)</span></span>
<span id="cb45-83"><a href="#cb45-83" aria-hidden="true" tabindex="-1"></a><span class="co">#    )</span></span>
<span id="cb45-84"><a href="#cb45-84" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-85"><a href="#cb45-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-86"><a href="#cb45-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-87"><a href="#cb45-87" aria-hidden="true" tabindex="-1"></a><span class="fu">## Funnel plots</span></span>
<span id="cb45-88"><a href="#cb45-88" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, main-res}</span></span>
<span id="cb45-89"><a href="#cb45-89" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb45-90"><a href="#cb45-90" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb45-91"><a href="#cb45-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-92"><a href="#cb45-92" aria-hidden="true" tabindex="-1"></a>V_mat <span class="ot">&lt;-</span> </span>
<span id="cb45-93"><a href="#cb45-93" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-94"><a href="#cb45-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-95"><a href="#cb45-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-96"><a href="#cb45-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-97"><a href="#cb45-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-98"><a href="#cb45-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-99"><a href="#cb45-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-100"><a href="#cb45-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-101"><a href="#cb45-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-102"><a href="#cb45-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-103"><a href="#cb45-103" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-104"><a href="#cb45-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-105"><a href="#cb45-105" aria-hidden="true" tabindex="-1"></a>overall_res <span class="ot">&lt;-</span> </span>
<span id="cb45-106"><a href="#cb45-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-107"><a href="#cb45-107" aria-hidden="true" tabindex="-1"></a>    gt_pop,</span>
<span id="cb45-108"><a href="#cb45-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat, </span>
<span id="cb45-109"><a href="#cb45-109" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-110"><a href="#cb45-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-111"><a href="#cb45-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-112"><a href="#cb45-112" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-113"><a href="#cb45-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-114"><a href="#cb45-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-115"><a href="#cb45-115" aria-hidden="true" tabindex="-1"></a>overall_res</span>
<span id="cb45-116"><a href="#cb45-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-117"><a href="#cb45-117" aria-hidden="true" tabindex="-1"></a>V_mat_outcome <span class="ot">&lt;-</span> </span>
<span id="cb45-118"><a href="#cb45-118" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-119"><a href="#cb45-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-120"><a href="#cb45-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-121"><a href="#cb45-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-122"><a href="#cb45-122" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> outcome_type,</span>
<span id="cb45-123"><a href="#cb45-123" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-124"><a href="#cb45-124" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-125"><a href="#cb45-125" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-126"><a href="#cb45-126" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-127"><a href="#cb45-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-128"><a href="#cb45-128" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-129"><a href="#cb45-129" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-130"><a href="#cb45-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-131"><a href="#cb45-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-132"><a href="#cb45-132" aria-hidden="true" tabindex="-1"></a>sub_res <span class="ot">&lt;-</span> </span>
<span id="cb45-133"><a href="#cb45-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-134"><a href="#cb45-134" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-135"><a href="#cb45-135" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_outcome, </span>
<span id="cb45-136"><a href="#cb45-136" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> outcome_type <span class="sc">|</span> study, <span class="sc">~</span> outcome_type <span class="sc">|</span> esid),</span>
<span id="cb45-137"><a href="#cb45-137" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb45-138"><a href="#cb45-138" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-139"><a href="#cb45-139" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-140"><a href="#cb45-140" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-141"><a href="#cb45-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-142"><a href="#cb45-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-143"><a href="#cb45-143" aria-hidden="true" tabindex="-1"></a>sub_res</span>
<span id="cb45-144"><a href="#cb45-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-145"><a href="#cb45-145" aria-hidden="true" tabindex="-1"></a><span class="co"># Mental health</span></span>
<span id="cb45-146"><a href="#cb45-146" aria-hidden="true" tabindex="-1"></a><span class="co"># MHV: Conduct these tests, when the main analyses has been made</span></span>
<span id="cb45-147"><a href="#cb45-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-148"><a href="#cb45-148" aria-hidden="true" tabindex="-1"></a><span class="co">#V_mat_mental &lt;- metafor::vcalc(</span></span>
<span id="cb45-149"><a href="#cb45-149" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb45-150"><a href="#cb45-150" aria-hidden="true" tabindex="-1"></a><span class="co">#    vi = vgt_pop, </span></span>
<span id="cb45-151"><a href="#cb45-151" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-152"><a href="#cb45-152" aria-hidden="true" tabindex="-1"></a><span class="co">#    type = outcome_time, </span></span>
<span id="cb45-153"><a href="#cb45-153" aria-hidden="true" tabindex="-1"></a><span class="co">#    grp1 = trt_name,</span></span>
<span id="cb45-154"><a href="#cb45-154" aria-hidden="true" tabindex="-1"></a><span class="co">#    w1 = N_t, </span></span>
<span id="cb45-155"><a href="#cb45-155" aria-hidden="true" tabindex="-1"></a><span class="co">#    grp2 = control,</span></span>
<span id="cb45-156"><a href="#cb45-156" aria-hidden="true" tabindex="-1"></a><span class="co">#    w2 = N_c, </span></span>
<span id="cb45-157"><a href="#cb45-157" aria-hidden="true" tabindex="-1"></a><span class="co">#    rho = rho</span></span>
<span id="cb45-158"><a href="#cb45-158" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-159"><a href="#cb45-159" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-160"><a href="#cb45-160" aria-hidden="true" tabindex="-1"></a><span class="co">#overall_res_mental &lt;- </span></span>
<span id="cb45-161"><a href="#cb45-161" aria-hidden="true" tabindex="-1"></a><span class="co">#  rma.mv(</span></span>
<span id="cb45-162"><a href="#cb45-162" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt_pop ~ + 1,</span></span>
<span id="cb45-163"><a href="#cb45-163" aria-hidden="true" tabindex="-1"></a><span class="co">#    V = V_mat_mental, </span></span>
<span id="cb45-164"><a href="#cb45-164" aria-hidden="true" tabindex="-1"></a><span class="co">#    random = ~ 1 | study / esid,</span></span>
<span id="cb45-165"><a href="#cb45-165" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb45-166"><a href="#cb45-166" aria-hidden="true" tabindex="-1"></a><span class="co">#    sparse = TRUE</span></span>
<span id="cb45-167"><a href="#cb45-167" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb45-168"><a href="#cb45-168" aria-hidden="true" tabindex="-1"></a><span class="co">#  robust(cluster = study, clubSandwich = TRUE)</span></span>
<span id="cb45-169"><a href="#cb45-169" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-170"><a href="#cb45-170" aria-hidden="true" tabindex="-1"></a><span class="co">#overall_res_mental</span></span>
<span id="cb45-171"><a href="#cb45-171" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-172"><a href="#cb45-172" aria-hidden="true" tabindex="-1"></a><span class="co">#sub_res_mental &lt;- </span></span>
<span id="cb45-173"><a href="#cb45-173" aria-hidden="true" tabindex="-1"></a><span class="co">#  rma.mv(</span></span>
<span id="cb45-174"><a href="#cb45-174" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt_pop ~ -1 + analysis_plan,</span></span>
<span id="cb45-175"><a href="#cb45-175" aria-hidden="true" tabindex="-1"></a><span class="co">#    V = V_mat_mental, </span></span>
<span id="cb45-176"><a href="#cb45-176" aria-hidden="true" tabindex="-1"></a><span class="co">#    random = list(~ analysis_plan | study, ~ analysis_plan | esid),</span></span>
<span id="cb45-177"><a href="#cb45-177" aria-hidden="true" tabindex="-1"></a><span class="co">#    struct = c("DIAG", "DIAG"),</span></span>
<span id="cb45-178"><a href="#cb45-178" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb45-179"><a href="#cb45-179" aria-hidden="true" tabindex="-1"></a><span class="co">#    sparse = TRUE</span></span>
<span id="cb45-180"><a href="#cb45-180" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-181"><a href="#cb45-181" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-182"><a href="#cb45-182" aria-hidden="true" tabindex="-1"></a><span class="co">#sub_res_mental</span></span>
<span id="cb45-183"><a href="#cb45-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-184"><a href="#cb45-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-185"><a href="#cb45-185" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-186"><a href="#cb45-186" aria-hidden="true" tabindex="-1"></a><span class="fu">### Overall </span></span>
<span id="cb45-187"><a href="#cb45-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-188"><a href="#cb45-188" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reint-overall-fp}</span></span>
<span id="cb45-189"><a href="#cb45-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-190"><a href="#cb45-190" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Funnel plot across all reintegrational outcomes"</span></span>
<span id="cb45-191"><a href="#cb45-191" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb45-192"><a href="#cb45-192" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb45-193"><a href="#cb45-193" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb45-194"><a href="#cb45-194" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb45-195"><a href="#cb45-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-196"><a href="#cb45-196" aria-hidden="true" tabindex="-1"></a><span class="do">## Overall average effect</span></span>
<span id="cb45-197"><a href="#cb45-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-198"><a href="#cb45-198" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb45-199"><a href="#cb45-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-200"><a href="#cb45-200" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW</span></span>
<span id="cb45-201"><a href="#cb45-201" aria-hidden="true" tabindex="-1"></a>V_mat_mod <span class="ot">&lt;-</span> metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-202"><a href="#cb45-202" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-203"><a href="#cb45-203" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-204"><a href="#cb45-204" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> study,</span>
<span id="cb45-205"><a href="#cb45-205" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> outcome_time, </span>
<span id="cb45-206"><a href="#cb45-206" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-207"><a href="#cb45-207" aria-hidden="true" tabindex="-1"></a>  <span class="at">w1 =</span> N_t, </span>
<span id="cb45-208"><a href="#cb45-208" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp2 =</span> control,</span>
<span id="cb45-209"><a href="#cb45-209" aria-hidden="true" tabindex="-1"></a>  <span class="at">w2 =</span> N_c, </span>
<span id="cb45-210"><a href="#cb45-210" aria-hidden="true" tabindex="-1"></a>  <span class="at">rho =</span> rho</span>
<span id="cb45-211"><a href="#cb45-211" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-212"><a href="#cb45-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-213"><a href="#cb45-213" aria-hidden="true" tabindex="-1"></a>W <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_mod)</span>
<span id="cb45-214"><a href="#cb45-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-215"><a href="#cb45-215" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE</span></span>
<span id="cb45-216"><a href="#cb45-216" aria-hidden="true" tabindex="-1"></a>che <span class="ot">&lt;-</span> </span>
<span id="cb45-217"><a href="#cb45-217" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-218"><a href="#cb45-218" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-219"><a href="#cb45-219" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-220"><a href="#cb45-220" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-221"><a href="#cb45-221" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-222"><a href="#cb45-222" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-223"><a href="#cb45-223" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-224"><a href="#cb45-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-225"><a href="#cb45-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-226"><a href="#cb45-226" aria-hidden="true" tabindex="-1"></a><span class="co"># ISCW</span></span>
<span id="cb45-227"><a href="#cb45-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-228"><a href="#cb45-228" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW-RVE</span></span>
<span id="cb45-229"><a href="#cb45-229" aria-hidden="true" tabindex="-1"></a>che_iscw <span class="ot">&lt;-</span> </span>
<span id="cb45-230"><a href="#cb45-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-231"><a href="#cb45-231" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-232"><a href="#cb45-232" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-233"><a href="#cb45-233" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb45-234"><a href="#cb45-234" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">+</span> Wse_pop <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-235"><a href="#cb45-235" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-236"><a href="#cb45-236" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-237"><a href="#cb45-237" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-238"><a href="#cb45-238" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-239"><a href="#cb45-239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-240"><a href="#cb45-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-241"><a href="#cb45-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-242"><a href="#cb45-242" aria-hidden="true" tabindex="-1"></a><span class="do">## Preregistered vs. not preregistered </span></span>
<span id="cb45-243"><a href="#cb45-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-244"><a href="#cb45-244" aria-hidden="true" tabindex="-1"></a>prereg_dat <span class="ot">&lt;-</span>  </span>
<span id="cb45-245"><a href="#cb45-245" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-246"><a href="#cb45-246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb45-247"><a href="#cb45-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-248"><a href="#cb45-248" aria-hidden="true" tabindex="-1"></a>V_mat_prereg <span class="ot">&lt;-</span> </span>
<span id="cb45-249"><a href="#cb45-249" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-250"><a href="#cb45-250" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat,</span>
<span id="cb45-251"><a href="#cb45-251" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-252"><a href="#cb45-252" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-253"><a href="#cb45-253" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-254"><a href="#cb45-254" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-255"><a href="#cb45-255" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-256"><a href="#cb45-256" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-257"><a href="#cb45-257" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-258"><a href="#cb45-258" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-259"><a href="#cb45-259" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-260"><a href="#cb45-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-261"><a href="#cb45-261" aria-hidden="true" tabindex="-1"></a>W_prereg <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_prereg)</span>
<span id="cb45-262"><a href="#cb45-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-263"><a href="#cb45-263" aria-hidden="true" tabindex="-1"></a>egg_prereg <span class="ot">&lt;-</span></span>
<span id="cb45-264"><a href="#cb45-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-265"><a href="#cb45-265" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-266"><a href="#cb45-266" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_prereg,</span>
<span id="cb45-267"><a href="#cb45-267" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_prereg,</span>
<span id="cb45-268"><a href="#cb45-268" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop,</span>
<span id="cb45-269"><a href="#cb45-269" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-270"><a href="#cb45-270" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat,</span>
<span id="cb45-271"><a href="#cb45-271" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-272"><a href="#cb45-272" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-273"><a href="#cb45-273" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-274"><a href="#cb45-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-275"><a href="#cb45-275" aria-hidden="true" tabindex="-1"></a>egg_prereg_res <span class="ot">&lt;-</span> </span>
<span id="cb45-276"><a href="#cb45-276" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-277"><a href="#cb45-277" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb45-278"><a href="#cb45-278" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-279"><a href="#cb45-279" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-280"><a href="#cb45-280" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-281"><a href="#cb45-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-282"><a href="#cb45-282" aria-hidden="true" tabindex="-1"></a>notprereg_dat <span class="ot">&lt;-</span>  </span>
<span id="cb45-283"><a href="#cb45-283" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-284"><a href="#cb45-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb45-285"><a href="#cb45-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-286"><a href="#cb45-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-287"><a href="#cb45-287" aria-hidden="true" tabindex="-1"></a>V_mat_notprereg <span class="ot">&lt;-</span>  </span>
<span id="cb45-288"><a href="#cb45-288" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-289"><a href="#cb45-289" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> notprereg_dat,</span>
<span id="cb45-290"><a href="#cb45-290" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-291"><a href="#cb45-291" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-292"><a href="#cb45-292" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-293"><a href="#cb45-293" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-294"><a href="#cb45-294" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-295"><a href="#cb45-295" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-296"><a href="#cb45-296" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-297"><a href="#cb45-297" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-298"><a href="#cb45-298" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-299"><a href="#cb45-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-300"><a href="#cb45-300" aria-hidden="true" tabindex="-1"></a>W_notprereg <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_notprereg)</span>
<span id="cb45-301"><a href="#cb45-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-302"><a href="#cb45-302" aria-hidden="true" tabindex="-1"></a>egg_notprereg <span class="ot">&lt;-</span></span>
<span id="cb45-303"><a href="#cb45-303" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-304"><a href="#cb45-304" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-305"><a href="#cb45-305" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_notprereg,</span>
<span id="cb45-306"><a href="#cb45-306" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_notprereg,</span>
<span id="cb45-307"><a href="#cb45-307" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop,</span>
<span id="cb45-308"><a href="#cb45-308" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-309"><a href="#cb45-309" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> notprereg_dat,</span>
<span id="cb45-310"><a href="#cb45-310" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-311"><a href="#cb45-311" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-312"><a href="#cb45-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-313"><a href="#cb45-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-314"><a href="#cb45-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-315"><a href="#cb45-315" aria-hidden="true" tabindex="-1"></a>egg_notprereg_res <span class="ot">&lt;-</span> </span>
<span id="cb45-316"><a href="#cb45-316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-317"><a href="#cb45-317" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Not preregistered"</span>,</span>
<span id="cb45-318"><a href="#cb45-318" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_notprereg<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-319"><a href="#cb45-319" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_notprereg<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-320"><a href="#cb45-320" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-321"><a href="#cb45-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-322"><a href="#cb45-322" aria-hidden="true" tabindex="-1"></a>egg_res_subgrouped <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(egg_prereg_res, egg_notprereg_res)</span>
<span id="cb45-323"><a href="#cb45-323" aria-hidden="true" tabindex="-1"></a>egg_res_subgrouped</span>
<span id="cb45-324"><a href="#cb45-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-325"><a href="#cb45-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-326"><a href="#cb45-326" aria-hidden="true" tabindex="-1"></a><span class="co"># PESCE+ model</span></span>
<span id="cb45-327"><a href="#cb45-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-328"><a href="#cb45-328" aria-hidden="true" tabindex="-1"></a>prereg_arg <span class="ot">&lt;-</span> </span>
<span id="cb45-329"><a href="#cb45-329" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.rma_arg_tbl</span>(</span>
<span id="cb45-330"><a href="#cb45-330" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> <span class="st">"gt_pop"</span>, </span>
<span id="cb45-331"><a href="#cb45-331" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> <span class="st">"vgt_pop"</span>, </span>
<span id="cb45-332"><a href="#cb45-332" aria-hidden="true" tabindex="-1"></a>    <span class="at">covars =</span> <span class="st">"prereg_chr"</span>,</span>
<span id="cb45-333"><a href="#cb45-333" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"SCEp"</span>,</span>
<span id="cb45-334"><a href="#cb45-334" aria-hidden="true" tabindex="-1"></a>    <span class="at">r =</span> <span class="fl">0.8</span>, </span>
<span id="cb45-335"><a href="#cb45-335" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-336"><a href="#cb45-336" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"categorical"</span></span>
<span id="cb45-337"><a href="#cb45-337" aria-hidden="true" tabindex="-1"></a>  ); prereg_arg</span>
<span id="cb45-338"><a href="#cb45-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-339"><a href="#cb45-339" aria-hidden="true" tabindex="-1"></a><span class="co"># PESCEp+ </span></span>
<span id="cb45-340"><a href="#cb45-340" aria-hidden="true" tabindex="-1"></a>subgroup_means <span class="ot">&lt;-</span> <span class="fu">pmap</span>(<span class="at">.l =</span> prereg_arg, <span class="at">.f =</span> .PESCE_RVE) <span class="sc">|&gt;</span> <span class="fu">list_rbind</span>()</span>
<span id="cb45-341"><a href="#cb45-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-342"><a href="#cb45-342" aria-hidden="true" tabindex="-1"></a><span class="co">#subgroup_means &lt;- .SCEp(mod = prereg_chr, data = reint_ma_dat)</span></span>
<span id="cb45-343"><a href="#cb45-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-344"><a href="#cb45-344" aria-hidden="true" tabindex="-1"></a>subgroup_dat <span class="ot">&lt;-</span> </span>
<span id="cb45-345"><a href="#cb45-345" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-346"><a href="#cb45-346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-347"><a href="#cb45-347" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb45-348"><a href="#cb45-348" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb45-349"><a href="#cb45-349" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb45-350"><a href="#cb45-350" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb45-351"><a href="#cb45-351" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-352"><a href="#cb45-352" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means[<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">18</span>)], egg_res_subgrouped) <span class="sc">|&gt;</span> </span>
<span id="cb45-353"><a href="#cb45-353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>), <span class="at">level =</span> <span class="st">"Effect size level"</span>) </span>
<span id="cb45-354"><a href="#cb45-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-355"><a href="#cb45-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-356"><a href="#cb45-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-357"><a href="#cb45-357" aria-hidden="true" tabindex="-1"></a>y_lim_exp1 <span class="ot">&lt;-</span> <span class="fu">max</span>(reint_ma_dat<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb45-358"><a href="#cb45-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-359"><a href="#cb45-359" aria-hidden="true" tabindex="-1"></a>funnel_exp1 <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb45-360"><a href="#cb45-360" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb45-361"><a href="#cb45-361" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb45-362"><a href="#cb45-362" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp1, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp1, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp1, y_lim_exp1,</span>
<span id="cb45-363"><a href="#cb45-363" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp1, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp1, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp1, y_lim_exp1,</span>
<span id="cb45-364"><a href="#cb45-364" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb45-365"><a href="#cb45-365" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb45-366"><a href="#cb45-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-367"><a href="#cb45-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-368"><a href="#cb45-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-369"><a href="#cb45-369" aria-hidden="true" tabindex="-1"></a>alpha_line <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb45-370"><a href="#cb45-370" aria-hidden="true" tabindex="-1"></a>polygon_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"grey10"</span>, <span class="st">"lightcyan"</span>)</span>
<span id="cb45-371"><a href="#cb45-371" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb45-372"><a href="#cb45-372" aria-hidden="true" tabindex="-1"></a>reg_test <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb45-373"><a href="#cb45-373" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> <span class="st">"longdash"</span></span>
<span id="cb45-374"><a href="#cb45-374" aria-hidden="true" tabindex="-1"></a>reg_color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb45-375"><a href="#cb45-375" aria-hidden="true" tabindex="-1"></a>breaks_y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>)</span>
<span id="cb45-376"><a href="#cb45-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-377"><a href="#cb45-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-378"><a href="#cb45-378" aria-hidden="true" tabindex="-1"></a>es_level_fp <span class="ot">&lt;-</span> </span>
<span id="cb45-379"><a href="#cb45-379" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-380"><a href="#cb45-380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-381"><a href="#cb45-381" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="st">"Effect size level"</span>,</span>
<span id="cb45-382"><a href="#cb45-382" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_bias =</span> <span class="fu">case_when</span>(</span>
<span id="cb45-383"><a href="#cb45-383" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> D5 <span class="sc">==</span> <span class="st">"Low"</span> <span class="sc">~</span> <span class="st">"Low"</span>,</span>
<span id="cb45-384"><a href="#cb45-384" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(D5, <span class="st">"Some"</span>) <span class="sc">~</span> <span class="st">"Moderate"</span>,</span>
<span id="cb45-385"><a href="#cb45-385" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(D5, <span class="st">"High"</span>) <span class="sc">~</span> <span class="st">"Serious"</span>,</span>
<span id="cb45-386"><a href="#cb45-386" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> D7</span>
<span id="cb45-387"><a href="#cb45-387" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-388"><a href="#cb45-388" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-389"><a href="#cb45-389" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_bias =</span> <span class="fu">factor</span>(report_bias, <span class="at">levels =</span>  <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Moderate"</span>, <span class="st">"Serious"</span>))</span>
<span id="cb45-390"><a href="#cb45-390" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-391"><a href="#cb45-391" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-392"><a href="#cb45-392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb45-393"><a href="#cb45-393" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-394"><a href="#cb45-394" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-395"><a href="#cb45-395" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb45-396"><a href="#cb45-396" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-397"><a href="#cb45-397" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb45-398"><a href="#cb45-398" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-399"><a href="#cb45-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb45-400"><a href="#cb45-400" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop, <span class="at">color =</span> overall_rob), <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb45-401"><a href="#cb45-401" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb45-402"><a href="#cb45-402" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(level<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb45-403"><a href="#cb45-403" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp1, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb45-404"><a href="#cb45-404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb45-405"><a href="#cb45-405" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb45-406"><a href="#cb45-406" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Low"</span> <span class="ot">=</span> <span class="st">"green3"</span>, <span class="st">"Some concerns/Moderate"</span> <span class="ot">=</span> <span class="st">"yellow2"</span>, <span class="st">"Serious/High"</span> <span class="ot">=</span> <span class="st">"red"</span>)</span>
<span id="cb45-407"><a href="#cb45-407" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb45-408"><a href="#cb45-408" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb45-409"><a href="#cb45-409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Modified standard error"</span>, </span>
<span id="cb45-410"><a href="#cb45-410" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Standardized mean difference (Hedges' g)"</span>, </span>
<span id="cb45-411"><a href="#cb45-411" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>, <span class="at">shape =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb45-412"><a href="#cb45-412" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb45-413"><a href="#cb45-413" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb45-414"><a href="#cb45-414" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb45-415"><a href="#cb45-415" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb45-416"><a href="#cb45-416" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Overall risk of bias"</span>) <span class="sc">+</span></span>
<span id="cb45-417"><a href="#cb45-417" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb45-418"><a href="#cb45-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-419"><a href="#cb45-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-420"><a href="#cb45-420" aria-hidden="true" tabindex="-1"></a><span class="co"># Make aggregate plot</span></span>
<span id="cb45-421"><a href="#cb45-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-422"><a href="#cb45-422" aria-hidden="true" tabindex="-1"></a>reint_dat_agg <span class="ot">&lt;-</span> </span>
<span id="cb45-423"><a href="#cb45-423" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-424"><a href="#cb45-424" aria-hidden="true" tabindex="-1"></a>  <span class="fu">escalc</span>(<span class="at">measure =</span> <span class="st">"SMD"</span>, <span class="at">yi =</span> gt_pop, <span class="at">vi =</span> Wgt_pop, <span class="at">data =</span> _) <span class="sc">|&gt;</span> </span>
<span id="cb45-425"><a href="#cb45-425" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aggregate.escalc</span>(<span class="at">cluster =</span> study, <span class="at">rho =</span> <span class="fl">0.8</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-426"><a href="#cb45-426" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-427"><a href="#cb45-427" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">sqrt</span>(vi)</span>
<span id="cb45-428"><a href="#cb45-428" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-429"><a href="#cb45-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-430"><a href="#cb45-430" aria-hidden="true" tabindex="-1"></a>prereg_dat_agg <span class="ot">&lt;-</span>  </span>
<span id="cb45-431"><a href="#cb45-431" aria-hidden="true" tabindex="-1"></a>  reint_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb45-432"><a href="#cb45-432" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-433"><a href="#cb45-433" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb45-434"><a href="#cb45-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-435"><a href="#cb45-435" aria-hidden="true" tabindex="-1"></a>egg_prereg_agg <span class="ot">&lt;-</span> </span>
<span id="cb45-436"><a href="#cb45-436" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(<span class="at">yi =</span> yi, <span class="at">vi =</span> vi, <span class="at">data =</span> prereg_dat_agg, <span class="at">control=</span><span class="fu">list</span>(<span class="at">stepadj=</span><span class="fl">0.5</span>, <span class="at">maxiter=</span><span class="dv">1000</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb45-437"><a href="#cb45-437" aria-hidden="true" tabindex="-1"></a>  <span class="fu">regtest</span>()</span>
<span id="cb45-438"><a href="#cb45-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-439"><a href="#cb45-439" aria-hidden="true" tabindex="-1"></a>egg_prereg_agg_res <span class="ot">&lt;-</span> </span>
<span id="cb45-440"><a href="#cb45-440" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-441"><a href="#cb45-441" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb45-442"><a href="#cb45-442" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_agg<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-443"><a href="#cb45-443" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_agg<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-444"><a href="#cb45-444" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-445"><a href="#cb45-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-446"><a href="#cb45-446" aria-hidden="true" tabindex="-1"></a>notprereg_dat_agg <span class="ot">&lt;-</span>  </span>
<span id="cb45-447"><a href="#cb45-447" aria-hidden="true" tabindex="-1"></a>  reint_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb45-448"><a href="#cb45-448" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-449"><a href="#cb45-449" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb45-450"><a href="#cb45-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-451"><a href="#cb45-451" aria-hidden="true" tabindex="-1"></a>egg_notprereg_agg <span class="ot">&lt;-</span> </span>
<span id="cb45-452"><a href="#cb45-452" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(<span class="at">yi =</span> yi, <span class="at">vi =</span> vi, <span class="at">data =</span> notprereg_dat_agg) <span class="sc">|&gt;</span> </span>
<span id="cb45-453"><a href="#cb45-453" aria-hidden="true" tabindex="-1"></a>  <span class="fu">regtest</span>()</span>
<span id="cb45-454"><a href="#cb45-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-455"><a href="#cb45-455" aria-hidden="true" tabindex="-1"></a>egg_notprereg_agg_res <span class="ot">&lt;-</span> </span>
<span id="cb45-456"><a href="#cb45-456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-457"><a href="#cb45-457" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Not preregistered"</span>,</span>
<span id="cb45-458"><a href="#cb45-458" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_notprereg_agg<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-459"><a href="#cb45-459" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_notprereg_agg<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-460"><a href="#cb45-460" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-461"><a href="#cb45-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-462"><a href="#cb45-462" aria-hidden="true" tabindex="-1"></a>egg_res_agg_subgrouped <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(egg_notprereg_agg_res, egg_prereg_agg_res)</span>
<span id="cb45-463"><a href="#cb45-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-464"><a href="#cb45-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-465"><a href="#cb45-465" aria-hidden="true" tabindex="-1"></a>means_agg <span class="ot">&lt;-</span> </span>
<span id="cb45-466"><a href="#cb45-466" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(yi, vi, <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>, <span class="at">data =</span> reint_dat_agg) <span class="sc">|&gt;</span> </span>
<span id="cb45-467"><a href="#cb45-467" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-468"><a href="#cb45-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-469"><a href="#cb45-469" aria-hidden="true" tabindex="-1"></a>subgroup_means_agg <span class="ot">&lt;-</span> </span>
<span id="cb45-470"><a href="#cb45-470" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-471"><a href="#cb45-471" aria-hidden="true" tabindex="-1"></a>    <span class="at">Moderator =</span> <span class="fu">c</span>(<span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>),</span>
<span id="cb45-472"><a href="#cb45-472" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_effect =</span> <span class="fu">as.numeric</span>(means_agg<span class="sc">$</span>b), </span>
<span id="cb45-473"><a href="#cb45-473" aria-hidden="true" tabindex="-1"></a>    <span class="at">LL =</span> <span class="fu">as.numeric</span>(means_agg<span class="sc">$</span>ci.lb), </span>
<span id="cb45-474"><a href="#cb45-474" aria-hidden="true" tabindex="-1"></a>    <span class="at">UL =</span> <span class="fu">as.numeric</span>(means_agg<span class="sc">$</span>ci.ub)</span>
<span id="cb45-475"><a href="#cb45-475" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-476"><a href="#cb45-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-477"><a href="#cb45-477" aria-hidden="true" tabindex="-1"></a>subgroup_dat_agg <span class="ot">&lt;-</span> </span>
<span id="cb45-478"><a href="#cb45-478" aria-hidden="true" tabindex="-1"></a>  reint_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb45-479"><a href="#cb45-479" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-480"><a href="#cb45-480" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb45-481"><a href="#cb45-481" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb45-482"><a href="#cb45-482" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb45-483"><a href="#cb45-483" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb45-484"><a href="#cb45-484" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-485"><a href="#cb45-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr) <span class="sc">|&gt;</span> </span>
<span id="cb45-486"><a href="#cb45-486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means_agg, egg_res_agg_subgrouped) <span class="sc">|&gt;</span> </span>
<span id="cb45-487"><a href="#cb45-487" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>), <span class="at">level =</span> <span class="st">"Study level"</span>) </span>
<span id="cb45-488"><a href="#cb45-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-489"><a href="#cb45-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-490"><a href="#cb45-490" aria-hidden="true" tabindex="-1"></a><span class="co">#subgroup_dat &lt;- </span></span>
<span id="cb45-491"><a href="#cb45-491" aria-hidden="true" tabindex="-1"></a><span class="co">#  reintergation_dat |&gt; </span></span>
<span id="cb45-492"><a href="#cb45-492" aria-hidden="true" tabindex="-1"></a><span class="co">#  summarise(</span></span>
<span id="cb45-493"><a href="#cb45-493" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt = mean(gt),</span></span>
<span id="cb45-494"><a href="#cb45-494" aria-hidden="true" tabindex="-1"></a><span class="co">#    Wse = mean(Wse),</span></span>
<span id="cb45-495"><a href="#cb45-495" aria-hidden="true" tabindex="-1"></a><span class="co">#    analysis_plan = analysis_plan[1],</span></span>
<span id="cb45-496"><a href="#cb45-496" aria-hidden="true" tabindex="-1"></a><span class="co">#    .by = prereg_chr</span></span>
<span id="cb45-497"><a href="#cb45-497" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb45-498"><a href="#cb45-498" aria-hidden="true" tabindex="-1"></a><span class="co">#  bind_cols(subgroup_means[2:3,], egg_res_subgrouped) |&gt; </span></span>
<span id="cb45-499"><a href="#cb45-499" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(slope_low = qnorm(0.025), slope_high = qnorm(0.975), level = "Effect size level") </span></span>
<span id="cb45-500"><a href="#cb45-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-501"><a href="#cb45-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-502"><a href="#cb45-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-503"><a href="#cb45-503" aria-hidden="true" tabindex="-1"></a>y_lim_exp2 <span class="ot">&lt;-</span> <span class="fu">max</span>(reint_dat_agg<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb45-504"><a href="#cb45-504" aria-hidden="true" tabindex="-1"></a>y_lim_exp2  </span>
<span id="cb45-505"><a href="#cb45-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-506"><a href="#cb45-506" aria-hidden="true" tabindex="-1"></a>funnel_exp2 <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb45-507"><a href="#cb45-507" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb45-508"><a href="#cb45-508" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb45-509"><a href="#cb45-509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp2, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp2, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp2, y_lim_exp2,</span>
<span id="cb45-510"><a href="#cb45-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp2, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp2, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp2, y_lim_exp2,</span>
<span id="cb45-511"><a href="#cb45-511" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb45-512"><a href="#cb45-512" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb45-513"><a href="#cb45-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-514"><a href="#cb45-514" aria-hidden="true" tabindex="-1"></a>study_level_fp <span class="ot">&lt;-</span> </span>
<span id="cb45-515"><a href="#cb45-515" aria-hidden="true" tabindex="-1"></a>  reint_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb45-516"><a href="#cb45-516" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">level =</span> <span class="st">"Study level"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-517"><a href="#cb45-517" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb45-518"><a href="#cb45-518" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-519"><a href="#cb45-519" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-520"><a href="#cb45-520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb45-521"><a href="#cb45-521" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-522"><a href="#cb45-522" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_agg, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb45-523"><a href="#cb45-523" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-524"><a href="#cb45-524" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb45-525"><a href="#cb45-525" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop), <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb45-526"><a href="#cb45-526" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb45-527"><a href="#cb45-527" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb45-528"><a href="#cb45-528" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(level<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb45-529"><a href="#cb45-529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp2, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb45-530"><a href="#cb45-530" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb45-531"><a href="#cb45-531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb45-532"><a href="#cb45-532" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb45-533"><a href="#cb45-533" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb45-534"><a href="#cb45-534" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-535"><a href="#cb45-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-536"><a href="#cb45-536" aria-hidden="true" tabindex="-1"></a>ylab <span class="ot">&lt;-</span> es_level_fp<span class="sc">$</span>labels<span class="sc">$</span>x</span>
<span id="cb45-537"><a href="#cb45-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-538"><a href="#cb45-538" aria-hidden="true" tabindex="-1"></a>study_level_fp<span class="sc">$</span>labels<span class="sc">$</span>x <span class="ot">&lt;-</span> es_level_fp<span class="sc">$</span>labels<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="st">""</span> </span>
<span id="cb45-539"><a href="#cb45-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-540"><a href="#cb45-540" aria-hidden="true" tabindex="-1"></a><span class="co">#png("plots/funnel plots (overall effect) across type of registration.png", width = 6.5, height = 5, res = 300, unit = "in")</span></span>
<span id="cb45-541"><a href="#cb45-541" aria-hidden="true" tabindex="-1"></a>study_level_fp <span class="sc">/</span> es_level_fp</span>
<span id="cb45-542"><a href="#cb45-542" aria-hidden="true" tabindex="-1"></a>grid<span class="sc">::</span><span class="fu">grid.draw</span>(grid<span class="sc">::</span><span class="fu">textGrob</span>(ylab, <span class="at">y =</span> <span class="fl">0.6</span>, <span class="at">x =</span> <span class="fl">0.02</span>, <span class="at">rot =</span> <span class="dv">90</span>))</span>
<span id="cb45-543"><a href="#cb45-543" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off()</span></span>
<span id="cb45-544"><a href="#cb45-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-545"><a href="#cb45-545" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-546"><a href="#cb45-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-547"><a href="#cb45-547" aria-hidden="true" tabindex="-1"></a><span class="fu">### Investigating the impact of Cano-Vindel et al.</span></span>
<span id="cb45-548"><a href="#cb45-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-549"><a href="#cb45-549" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reint-overall-fp-cano}</span></span>
<span id="cb45-550"><a href="#cb45-550" aria-hidden="true" tabindex="-1"></a>prereg_dat_cano <span class="ot">&lt;-</span>  </span>
<span id="cb45-551"><a href="#cb45-551" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-552"><a href="#cb45-552" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-553"><a href="#cb45-553" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-554"><a href="#cb45-554" aria-hidden="true" tabindex="-1"></a>    <span class="at">cano_vindel =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(study, <span class="st">"Cano"</span>), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb45-555"><a href="#cb45-555" aria-hidden="true" tabindex="-1"></a>    <span class="at">cano_vindel =</span> <span class="fu">factor</span>(cano_vindel)</span>
<span id="cb45-556"><a href="#cb45-556" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-557"><a href="#cb45-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-558"><a href="#cb45-558" aria-hidden="true" tabindex="-1"></a>V_mat_prereg_cano <span class="ot">&lt;-</span> </span>
<span id="cb45-559"><a href="#cb45-559" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-560"><a href="#cb45-560" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_cano,</span>
<span id="cb45-561"><a href="#cb45-561" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-562"><a href="#cb45-562" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-563"><a href="#cb45-563" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-564"><a href="#cb45-564" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-565"><a href="#cb45-565" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-566"><a href="#cb45-566" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-567"><a href="#cb45-567" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-568"><a href="#cb45-568" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-569"><a href="#cb45-569" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-570"><a href="#cb45-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-571"><a href="#cb45-571" aria-hidden="true" tabindex="-1"></a>W_prereg_cano <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_prereg_cano)</span>
<span id="cb45-572"><a href="#cb45-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-573"><a href="#cb45-573" aria-hidden="true" tabindex="-1"></a>egg_prereg_cano <span class="ot">&lt;-</span></span>
<span id="cb45-574"><a href="#cb45-574" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-575"><a href="#cb45-575" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-576"><a href="#cb45-576" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_prereg_cano,</span>
<span id="cb45-577"><a href="#cb45-577" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_prereg_cano,</span>
<span id="cb45-578"><a href="#cb45-578" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop <span class="sc">+</span> cano_vindel,</span>
<span id="cb45-579"><a href="#cb45-579" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-580"><a href="#cb45-580" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_cano,</span>
<span id="cb45-581"><a href="#cb45-581" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-582"><a href="#cb45-582" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-583"><a href="#cb45-583" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-584"><a href="#cb45-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-585"><a href="#cb45-585" aria-hidden="true" tabindex="-1"></a>egg_prereg_res_cano <span class="ot">&lt;-</span> </span>
<span id="cb45-586"><a href="#cb45-586" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-587"><a href="#cb45-587" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb45-588"><a href="#cb45-588" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_cano <span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-589"><a href="#cb45-589" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_cano<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-590"><a href="#cb45-590" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-591"><a href="#cb45-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-592"><a href="#cb45-592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-593"><a href="#cb45-593" aria-hidden="true" tabindex="-1"></a>subgroup_dat_cano <span class="ot">&lt;-</span> </span>
<span id="cb45-594"><a href="#cb45-594" aria-hidden="true" tabindex="-1"></a>  prereg_dat_cano <span class="sc">|&gt;</span> </span>
<span id="cb45-595"><a href="#cb45-595" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-596"><a href="#cb45-596" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb45-597"><a href="#cb45-597" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb45-598"><a href="#cb45-598" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb45-599"><a href="#cb45-599" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb45-600"><a href="#cb45-600" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-601"><a href="#cb45-601" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means[<span class="dv">3</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">18</span>)], egg_prereg_res_cano) <span class="sc">|&gt;</span> </span>
<span id="cb45-602"><a href="#cb45-602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>)) </span>
<span id="cb45-603"><a href="#cb45-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-604"><a href="#cb45-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-605"><a href="#cb45-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-606"><a href="#cb45-606" aria-hidden="true" tabindex="-1"></a>y_lim_exp_cano <span class="ot">&lt;-</span> <span class="fu">max</span>(prereg_dat_cano<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb45-607"><a href="#cb45-607" aria-hidden="true" tabindex="-1"></a>y_lim_exp_cano  </span>
<span id="cb45-608"><a href="#cb45-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-609"><a href="#cb45-609" aria-hidden="true" tabindex="-1"></a>funnel_exp_cano <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb45-610"><a href="#cb45-610" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb45-611"><a href="#cb45-611" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb45-612"><a href="#cb45-612" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp_cano, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp_cano, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp_cano, y_lim_exp_cano,</span>
<span id="cb45-613"><a href="#cb45-613" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp_cano, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp_cano, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp_cano, y_lim_exp_cano,</span>
<span id="cb45-614"><a href="#cb45-614" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb45-615"><a href="#cb45-615" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb45-616"><a href="#cb45-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-617"><a href="#cb45-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-618"><a href="#cb45-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-619"><a href="#cb45-619" aria-hidden="true" tabindex="-1"></a>alpha_line <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb45-620"><a href="#cb45-620" aria-hidden="true" tabindex="-1"></a>polygon_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"grey10"</span>, <span class="st">"lightcyan"</span>)</span>
<span id="cb45-621"><a href="#cb45-621" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb45-622"><a href="#cb45-622" aria-hidden="true" tabindex="-1"></a>reg_test <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb45-623"><a href="#cb45-623" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> <span class="st">"longdash"</span></span>
<span id="cb45-624"><a href="#cb45-624" aria-hidden="true" tabindex="-1"></a>reg_color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb45-625"><a href="#cb45-625" aria-hidden="true" tabindex="-1"></a>breaks_y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>)</span>
<span id="cb45-626"><a href="#cb45-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-627"><a href="#cb45-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-628"><a href="#cb45-628" aria-hidden="true" tabindex="-1"></a>cano_fp <span class="ot">&lt;-</span> </span>
<span id="cb45-629"><a href="#cb45-629" aria-hidden="true" tabindex="-1"></a>  prereg_dat_cano <span class="sc">|&gt;</span> </span>
<span id="cb45-630"><a href="#cb45-630" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">alpha_val =</span> <span class="fu">if_else</span>(cano_vindel <span class="sc">==</span> <span class="dv">1</span>, <span class="fl">0.9</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb45-631"><a href="#cb45-631" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb45-632"><a href="#cb45-632" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-633"><a href="#cb45-633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-634"><a href="#cb45-634" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb45-635"><a href="#cb45-635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-636"><a href="#cb45-636" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_cano, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb45-637"><a href="#cb45-637" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-638"><a href="#cb45-638" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb45-639"><a href="#cb45-639" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop, <span class="at">col =</span> cano_vindel, <span class="at">alpha =</span> alpha_val), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb45-640"><a href="#cb45-640" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb45-641"><a href="#cb45-641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb45-642"><a href="#cb45-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb45-643"><a href="#cb45-643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp_cano, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb45-644"><a href="#cb45-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb45-645"><a href="#cb45-645" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb45-646"><a href="#cb45-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Modified standard error"</span>, </span>
<span id="cb45-647"><a href="#cb45-647" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Standardized mean difference (Hedges' g)"</span>, </span>
<span id="cb45-648"><a href="#cb45-648" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>, <span class="at">shape =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb45-649"><a href="#cb45-649" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb45-650"><a href="#cb45-650" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb45-651"><a href="#cb45-651" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb45-652"><a href="#cb45-652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Cano-vindel"</span>) <span class="sc">+</span></span>
<span id="cb45-653"><a href="#cb45-653" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="st">"none"</span>, <span class="at">alpha =</span> <span class="st">"none"</span>)</span>
<span id="cb45-654"><a href="#cb45-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-655"><a href="#cb45-655" aria-hidden="true" tabindex="-1"></a><span class="co">#png("plots/funnel plots (overall effect) without Cano-Vindel.png", width = 8, height = 5.5, res = 300, unit = "in")</span></span>
<span id="cb45-656"><a href="#cb45-656" aria-hidden="true" tabindex="-1"></a>cano_fp</span>
<span id="cb45-657"><a href="#cb45-657" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off()</span></span>
<span id="cb45-658"><a href="#cb45-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-659"><a href="#cb45-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-660"><a href="#cb45-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-661"><a href="#cb45-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-662"><a href="#cb45-662" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-663"><a href="#cb45-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-664"><a href="#cb45-664" aria-hidden="true" tabindex="-1"></a><span class="fu">### Funnel plot across outcomes</span></span>
<span id="cb45-665"><a href="#cb45-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-666"><a href="#cb45-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-667"><a href="#cb45-667" aria-hidden="true" tabindex="-1"></a><span class="fu">## Publication bias tests</span></span>
<span id="cb45-668"><a href="#cb45-668" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, tab-func-overall-pub-bias}</span></span>
<span id="cb45-669"><a href="#cb45-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-670"><a href="#cb45-670" aria-hidden="true" tabindex="-1"></a>.pubbias_overall_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-671"><a href="#cb45-671" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(</span>
<span id="cb45-672"><a href="#cb45-672" aria-hidden="true" tabindex="-1"></a>    rma_obj, </span>
<span id="cb45-673"><a href="#cb45-673" aria-hidden="true" tabindex="-1"></a>    test,</span>
<span id="cb45-674"><a href="#cb45-674" aria-hidden="true" tabindex="-1"></a>    <span class="at">studies =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study), </span>
<span id="cb45-675"><a href="#cb45-675" aria-hidden="true" tabindex="-1"></a>    <span class="at">effects =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb45-676"><a href="#cb45-676" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda =</span> <span class="cn">NA_real_</span></span>
<span id="cb45-677"><a href="#cb45-677" aria-hidden="true" tabindex="-1"></a>  ){</span>
<span id="cb45-678"><a href="#cb45-678" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-679"><a href="#cb45-679" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(</span>
<span id="cb45-680"><a href="#cb45-680" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> test,</span>
<span id="cb45-681"><a href="#cb45-681" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> studies,</span>
<span id="cb45-682"><a href="#cb45-682" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> effects,</span>
<span id="cb45-683"><a href="#cb45-683" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-684"><a href="#cb45-684" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(rma_obj<span class="sc">$</span>b[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb45-685"><a href="#cb45-685" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-686"><a href="#cb45-686" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(rma_obj<span class="sc">$</span>ci.lb[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-687"><a href="#cb45-687" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-688"><a href="#cb45-688" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(rma_obj<span class="sc">$</span>ci.ub[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-689"><a href="#cb45-689" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-690"><a href="#cb45-690" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-691"><a href="#cb45-691" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> rma_obj<span class="sc">$</span>pval[<span class="dv">1</span>],</span>
<span id="cb45-692"><a href="#cb45-692" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(rma_obj<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>),</span>
<span id="cb45-693"><a href="#cb45-693" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(rma_obj<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb45-694"><a href="#cb45-694" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(rma_obj<span class="sc">$</span>sigma2)), <span class="dv">3</span>),</span>
<span id="cb45-695"><a href="#cb45-695" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> lambda,</span>
<span id="cb45-696"><a href="#cb45-696" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> lambda</span>
<span id="cb45-697"><a href="#cb45-697" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-698"><a href="#cb45-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-699"><a href="#cb45-699" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-700"><a href="#cb45-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-701"><a href="#cb45-701" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-702"><a href="#cb45-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-703"><a href="#cb45-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-704"><a href="#cb45-704" aria-hidden="true" tabindex="-1"></a><span class="fu">### HYEMA</span></span>
<span id="cb45-705"><a href="#cb45-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-708"><a href="#cb45-708" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb45-709"><a href="#cb45-709" aria-hidden="true" tabindex="-1"></a>hyema_overall <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/hyema_overall_reint.rds"</span>)</span>
<span id="cb45-710"><a href="#cb45-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-711"><a href="#cb45-711" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall res (Robust HYEMA)</span></span>
<span id="cb45-712"><a href="#cb45-712" aria-hidden="true" tabindex="-1"></a>hyema_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb45-713"><a href="#cb45-713" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-714"><a href="#cb45-714" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Robust HYEMA"</span>,</span>
<span id="cb45-715"><a href="#cb45-715" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-716"><a href="#cb45-716" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb45-717"><a href="#cb45-717" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-718"><a href="#cb45-718" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(hyema_overall<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb45-719"><a href="#cb45-719" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-720"><a href="#cb45-720" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(hyema_overall<span class="sc">$</span>CIL_bootstrap[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-721"><a href="#cb45-721" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-722"><a href="#cb45-722" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(hyema_overall<span class="sc">$</span>CIU_bootstrap[<span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-723"><a href="#cb45-723" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-724"><a href="#cb45-724" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-725"><a href="#cb45-725" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-726"><a href="#cb45-726" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(hyema_overall<span class="sc">$</span>Est[<span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-727"><a href="#cb45-727" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-728"><a href="#cb45-728" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> hyema_overall<span class="sc">$</span>Est[<span class="dv">2</span>],</span>
<span id="cb45-729"><a href="#cb45-729" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-730"><a href="#cb45-730" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb45-731"><a href="#cb45-731" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-732"><a href="#cb45-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-733"><a href="#cb45-733" aria-hidden="true" tabindex="-1"></a><span class="co"># HYEMA across outcome</span></span>
<span id="cb45-734"><a href="#cb45-734" aria-hidden="true" tabindex="-1"></a>hyema_outcome <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/hyema_overcome.rds"</span>)</span>
<span id="cb45-735"><a href="#cb45-735" aria-hidden="true" tabindex="-1"></a>hyema_outcome_f_stat <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/F_boot_pval_outcome.rds"</span>)</span>
<span id="cb45-736"><a href="#cb45-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-737"><a href="#cb45-737" aria-hidden="true" tabindex="-1"></a><span class="co"># To temporarily get tau</span></span>
<span id="cb45-738"><a href="#cb45-738" aria-hidden="true" tabindex="-1"></a>hyema_obj <span class="ot">&lt;-</span> </span>
<span id="cb45-739"><a href="#cb45-739" aria-hidden="true" tabindex="-1"></a>  puniform<span class="sc">::</span><span class="fu">hybrid</span>(</span>
<span id="cb45-740"><a href="#cb45-740" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> reint_ma_dat<span class="sc">$</span>gt_pop, </span>
<span id="cb45-741"><a href="#cb45-741" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> reint_ma_dat<span class="sc">$</span>Wgt_pop, </span>
<span id="cb45-742"><a href="#cb45-742" aria-hidden="true" tabindex="-1"></a>    <span class="at">conventional =</span> reint_ma_dat<span class="sc">$</span>conventional, </span>
<span id="cb45-743"><a href="#cb45-743" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"right"</span>,</span>
<span id="cb45-744"><a href="#cb45-744" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> reint_ma_dat<span class="sc">$</span>outcome_type <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb45-745"><a href="#cb45-745" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-746"><a href="#cb45-746" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressWarnings</span>()</span>
<span id="cb45-747"><a href="#cb45-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-748"><a href="#cb45-748" aria-hidden="true" tabindex="-1"></a>hyema_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-749"><a href="#cb45-749" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-750"><a href="#cb45-750" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-751"><a href="#cb45-751" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb45-752"><a href="#cb45-752" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span>),</span>
<span id="cb45-753"><a href="#cb45-753" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-754"><a href="#cb45-754" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-755"><a href="#cb45-755" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(hyema_outcome<span class="sc">$</span>Est), <span class="dv">3</span>), </span>
<span id="cb45-756"><a href="#cb45-756" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-757"><a href="#cb45-757" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(hyema_outcome<span class="sc">$</span>CIL_bootstrap, <span class="dv">3</span>),</span>
<span id="cb45-758"><a href="#cb45-758" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-759"><a href="#cb45-759" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(hyema_outcome<span class="sc">$</span>CIU_bootstrap, <span class="dv">3</span>),</span>
<span id="cb45-760"><a href="#cb45-760" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-761"><a href="#cb45-761" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-762"><a href="#cb45-762" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(hyema_outcome_f_stat, <span class="dv">3</span>)),</span>
<span id="cb45-763"><a href="#cb45-763" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-764"><a href="#cb45-764" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-765"><a href="#cb45-765" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(hyema_obj<span class="sc">$</span>tau2), <span class="dv">3</span>)),</span>
<span id="cb45-766"><a href="#cb45-766" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-767"><a href="#cb45-767" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(hyema_obj<span class="sc">$</span>tau2), <span class="dv">3</span>)),</span>
<span id="cb45-768"><a href="#cb45-768" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-769"><a href="#cb45-769" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-770"><a href="#cb45-770" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-771"><a href="#cb45-771" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-772"><a href="#cb45-772" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"hyema"</span></span>
<span id="cb45-773"><a href="#cb45-773" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-774"><a href="#cb45-774" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-775"><a href="#cb45-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-776"><a href="#cb45-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-777"><a href="#cb45-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-778"><a href="#cb45-778" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-779"><a href="#cb45-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-780"><a href="#cb45-780" aria-hidden="true" tabindex="-1"></a><span class="fu">### Puniform*</span></span>
<span id="cb45-781"><a href="#cb45-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-782"><a href="#cb45-782" aria-hidden="true" tabindex="-1"></a><span class="in">```{r puniform}</span></span>
<span id="cb45-783"><a href="#cb45-783" aria-hidden="true" tabindex="-1"></a><span class="co"># Not corrected for clustering as it has showed acceptable performance in</span></span>
<span id="cb45-784"><a href="#cb45-784" aria-hidden="true" tabindex="-1"></a><span class="co"># dependent effect size data</span></span>
<span id="cb45-785"><a href="#cb45-785" aria-hidden="true" tabindex="-1"></a>puniform_star_res <span class="ot">&lt;-</span> </span>
<span id="cb45-786"><a href="#cb45-786" aria-hidden="true" tabindex="-1"></a>  puniform<span class="sc">::</span><span class="fu">puni_star</span>(</span>
<span id="cb45-787"><a href="#cb45-787" aria-hidden="true" tabindex="-1"></a>    <span class="at">tobs =</span> reint_ma_dat<span class="sc">$</span>t_i, </span>
<span id="cb45-788"><a href="#cb45-788" aria-hidden="true" tabindex="-1"></a>    <span class="at">n1i =</span> reint_ma_dat<span class="sc">$</span>N_t, </span>
<span id="cb45-789"><a href="#cb45-789" aria-hidden="true" tabindex="-1"></a>    <span class="at">n2i =</span> reint_ma_dat<span class="sc">$</span>N_c, </span>
<span id="cb45-790"><a href="#cb45-790" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"right"</span></span>
<span id="cb45-791"><a href="#cb45-791" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-792"><a href="#cb45-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-793"><a href="#cb45-793" aria-hidden="true" tabindex="-1"></a>puniform_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb45-794"><a href="#cb45-794" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-795"><a href="#cb45-795" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"puniform star"</span>,</span>
<span id="cb45-796"><a href="#cb45-796" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-797"><a href="#cb45-797" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb45-798"><a href="#cb45-798" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-799"><a href="#cb45-799" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(puniform_star_res<span class="sc">$</span>est), <span class="dv">3</span>), </span>
<span id="cb45-800"><a href="#cb45-800" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-801"><a href="#cb45-801" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(puniform_star_res<span class="sc">$</span>ci.lb, <span class="dv">3</span>),</span>
<span id="cb45-802"><a href="#cb45-802" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-803"><a href="#cb45-803" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(puniform_star_res<span class="sc">$</span>ci.ub, <span class="dv">3</span>),</span>
<span id="cb45-804"><a href="#cb45-804" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-805"><a href="#cb45-805" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-806"><a href="#cb45-806" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> puniform_star_res<span class="sc">$</span>pval<span class="fl">.0</span>,</span>
<span id="cb45-807"><a href="#cb45-807" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(puniform_star_res<span class="sc">$</span>tau2), <span class="dv">3</span>),</span>
<span id="cb45-808"><a href="#cb45-808" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-809"><a href="#cb45-809" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau,</span>
<span id="cb45-810"><a href="#cb45-810" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-811"><a href="#cb45-811" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb45-812"><a href="#cb45-812" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-813"><a href="#cb45-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-814"><a href="#cb45-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-815"><a href="#cb45-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-816"><a href="#cb45-816" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-817"><a href="#cb45-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-818"><a href="#cb45-818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-819"><a href="#cb45-819" aria-hidden="true" tabindex="-1"></a><span class="fu">### Worst-case meta-analysis</span></span>
<span id="cb45-820"><a href="#cb45-820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-823"><a href="#cb45-823" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb45-824"><a href="#cb45-824" aria-hidden="true" tabindex="-1"></a>worst_dat_reint <span class="ot">&lt;-</span> </span>
<span id="cb45-825"><a href="#cb45-825" aria-hidden="true" tabindex="-1"></a>  reint_ma_dat <span class="sc">|&gt;</span>  </span>
<span id="cb45-826"><a href="#cb45-826" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-827"><a href="#cb45-827" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="dv">2</span> <span class="sc">*</span> ( <span class="dv">1</span> <span class="sc">-</span> <span class="fu">pnorm</span>( <span class="fu">abs</span>(gt_pop) <span class="sc">/</span> <span class="fu">sqrt</span>(vgt_pop) ) ),</span>
<span id="cb45-828"><a href="#cb45-828" aria-hidden="true" tabindex="-1"></a>    <span class="at">affirmativity =</span> <span class="fu">if_else</span>(pval <span class="sc">&lt;</span> .<span class="dv">05</span> <span class="sc">&amp;</span> gt_pop <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"affirmative"</span>, <span class="st">"nonaffirmative"</span>)</span>
<span id="cb45-829"><a href="#cb45-829" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-830"><a href="#cb45-830" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb45-831"><a href="#cb45-831" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(affirmativity <span class="sc">==</span> <span class="st">"nonaffirmative"</span>)</span>
<span id="cb45-832"><a href="#cb45-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-833"><a href="#cb45-833" aria-hidden="true" tabindex="-1"></a>wc_prereg_studies <span class="ot">&lt;-</span> </span>
<span id="cb45-834"><a href="#cb45-834" aria-hidden="true" tabindex="-1"></a>  worst_dat_reint <span class="sc">|&gt;</span> </span>
<span id="cb45-835"><a href="#cb45-835" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-836"><a href="#cb45-836" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb45-837"><a href="#cb45-837" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(prereg_chr, study)</span>
<span id="cb45-838"><a href="#cb45-838" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-839"><a href="#cb45-839" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-840"><a href="#cb45-840" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_studies =</span> <span class="fu">n</span>(),</span>
<span id="cb45-841"><a href="#cb45-841" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb45-842"><a href="#cb45-842" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-843"><a href="#cb45-843" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr)</span>
<span id="cb45-844"><a href="#cb45-844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-845"><a href="#cb45-845" aria-hidden="true" tabindex="-1"></a>wc_prereg_es <span class="ot">&lt;-</span> </span>
<span id="cb45-846"><a href="#cb45-846" aria-hidden="true" tabindex="-1"></a>  worst_dat_reint <span class="sc">|&gt;</span> </span>
<span id="cb45-847"><a href="#cb45-847" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_effects =</span> <span class="fu">n</span>(), <span class="at">.by =</span> prereg_chr) <span class="sc">|&gt;</span> </span>
<span id="cb45-848"><a href="#cb45-848" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr) </span>
<span id="cb45-849"><a href="#cb45-849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-850"><a href="#cb45-850" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome</span></span>
<span id="cb45-851"><a href="#cb45-851" aria-hidden="true" tabindex="-1"></a>wc_outcome_studies <span class="ot">&lt;-</span> </span>
<span id="cb45-852"><a href="#cb45-852" aria-hidden="true" tabindex="-1"></a>  worst_dat_reint <span class="sc">|&gt;</span> </span>
<span id="cb45-853"><a href="#cb45-853" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-854"><a href="#cb45-854" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb45-855"><a href="#cb45-855" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(outcome_type, study)</span>
<span id="cb45-856"><a href="#cb45-856" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-857"><a href="#cb45-857" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-858"><a href="#cb45-858" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_studies =</span> <span class="fu">n</span>(),</span>
<span id="cb45-859"><a href="#cb45-859" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> outcome_type</span>
<span id="cb45-860"><a href="#cb45-860" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-861"><a href="#cb45-861" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(outcome_type)</span>
<span id="cb45-862"><a href="#cb45-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-863"><a href="#cb45-863" aria-hidden="true" tabindex="-1"></a>wc_outcome_es <span class="ot">&lt;-</span> </span>
<span id="cb45-864"><a href="#cb45-864" aria-hidden="true" tabindex="-1"></a>  worst_dat_reint <span class="sc">|&gt;</span> </span>
<span id="cb45-865"><a href="#cb45-865" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_effects =</span> <span class="fu">n</span>(), <span class="at">.by =</span> outcome_type) <span class="sc">|&gt;</span> </span>
<span id="cb45-866"><a href="#cb45-866" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(outcome_type) </span>
<span id="cb45-867"><a href="#cb45-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-868"><a href="#cb45-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-869"><a href="#cb45-869" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-870"><a href="#cb45-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-873"><a href="#cb45-873" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb45-874"><a href="#cb45-874" aria-hidden="true" tabindex="-1"></a>res_PubBias <span class="ot">&lt;-</span> </span>
<span id="cb45-875"><a href="#cb45-875" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pubbias_svalue</span>(</span>
<span id="cb45-876"><a href="#cb45-876" aria-hidden="true" tabindex="-1"></a>  <span class="at">yi =</span> reint_ma_dat<span class="sc">$</span>gt_pop,</span>
<span id="cb45-877"><a href="#cb45-877" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> reint_ma_dat<span class="sc">$</span>Wgt_pop,</span>
<span id="cb45-878"><a href="#cb45-878" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> reint_ma_dat<span class="sc">$</span>study,</span>
<span id="cb45-879"><a href="#cb45-879" aria-hidden="true" tabindex="-1"></a>  <span class="at">q =</span> <span class="dv">0</span>,</span>
<span id="cb45-880"><a href="#cb45-880" aria-hidden="true" tabindex="-1"></a>  <span class="at">model_type =</span> <span class="st">"robust"</span>,</span>
<span id="cb45-881"><a href="#cb45-881" aria-hidden="true" tabindex="-1"></a>  <span class="at">favor_positive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb45-882"><a href="#cb45-882" aria-hidden="true" tabindex="-1"></a>  <span class="at">return_worst_meta =</span> <span class="cn">TRUE</span></span>
<span id="cb45-883"><a href="#cb45-883" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-884"><a href="#cb45-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-885"><a href="#cb45-885" aria-hidden="true" tabindex="-1"></a>res_PubBias<span class="sc">$</span>stats</span>
<span id="cb45-886"><a href="#cb45-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-887"><a href="#cb45-887" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb45-888"><a href="#cb45-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-889"><a href="#cb45-889" aria-hidden="true" tabindex="-1"></a>pubbias_plot <span class="ot">&lt;-</span> </span>
<span id="cb45-890"><a href="#cb45-890" aria-hidden="true" tabindex="-1"></a>  PublicationBias<span class="sc">::</span><span class="fu">significance_funnel</span>(</span>
<span id="cb45-891"><a href="#cb45-891" aria-hidden="true" tabindex="-1"></a>  <span class="at">yi =</span> reint_ma_dat<span class="sc">$</span>gt_pop,</span>
<span id="cb45-892"><a href="#cb45-892" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> reint_ma_dat<span class="sc">$</span>Wgt_pop,</span>
<span id="cb45-893"><a href="#cb45-893" aria-hidden="true" tabindex="-1"></a>  <span class="at">favor_positive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb45-894"><a href="#cb45-894" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha_select =</span> <span class="fl">0.05</span></span>
<span id="cb45-895"><a href="#cb45-895" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-896"><a href="#cb45-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-897"><a href="#cb45-897" aria-hidden="true" tabindex="-1"></a>pubbias_plot</span>
<span id="cb45-898"><a href="#cb45-898" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-899"><a href="#cb45-899" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-900"><a href="#cb45-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-903"><a href="#cb45-903" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb45-904"><a href="#cb45-904" aria-hidden="true" tabindex="-1"></a><span class="co">#wc = worst_case</span></span>
<span id="cb45-905"><a href="#cb45-905" aria-hidden="true" tabindex="-1"></a>V_mat_wc <span class="ot">&lt;-</span> </span>
<span id="cb45-906"><a href="#cb45-906" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-907"><a href="#cb45-907" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb45-908"><a href="#cb45-908" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-909"><a href="#cb45-909" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-910"><a href="#cb45-910" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-911"><a href="#cb45-911" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-912"><a href="#cb45-912" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-913"><a href="#cb45-913" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-914"><a href="#cb45-914" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-915"><a href="#cb45-915" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-916"><a href="#cb45-916" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-917"><a href="#cb45-917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-918"><a href="#cb45-918" aria-hidden="true" tabindex="-1"></a><span class="do">#############</span></span>
<span id="cb45-919"><a href="#cb45-919" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall res</span></span>
<span id="cb45-920"><a href="#cb45-920" aria-hidden="true" tabindex="-1"></a><span class="do">#############</span></span>
<span id="cb45-921"><a href="#cb45-921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-922"><a href="#cb45-922" aria-hidden="true" tabindex="-1"></a>wc_overall<span class="ot">&lt;-</span> </span>
<span id="cb45-923"><a href="#cb45-923" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-924"><a href="#cb45-924" aria-hidden="true" tabindex="-1"></a>    gt_pop,</span>
<span id="cb45-925"><a href="#cb45-925" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc, </span>
<span id="cb45-926"><a href="#cb45-926" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-927"><a href="#cb45-927" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb45-928"><a href="#cb45-928" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-929"><a href="#cb45-929" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-930"><a href="#cb45-930" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-931"><a href="#cb45-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-932"><a href="#cb45-932" aria-hidden="true" tabindex="-1"></a>wc_overall</span>
<span id="cb45-933"><a href="#cb45-933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-934"><a href="#cb45-934" aria-hidden="true" tabindex="-1"></a>wc_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb45-935"><a href="#cb45-935" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.pubbias_overall_tab</span>(<span class="at">rma_obj =</span> wc_overall, <span class="at">test =</span> <span class="st">"Worst case"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-936"><a href="#cb45-936" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-937"><a href="#cb45-937" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(worst_dat_reint<span class="sc">$</span>study),</span>
<span id="cb45-938"><a href="#cb45-938" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(worst_dat_reint)</span>
<span id="cb45-939"><a href="#cb45-939" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-940"><a href="#cb45-940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-941"><a href="#cb45-941" aria-hidden="true" tabindex="-1"></a><span class="do">###########</span></span>
<span id="cb45-942"><a href="#cb45-942" aria-hidden="true" tabindex="-1"></a><span class="co"># Pregreg</span></span>
<span id="cb45-943"><a href="#cb45-943" aria-hidden="true" tabindex="-1"></a><span class="do">###########</span></span>
<span id="cb45-944"><a href="#cb45-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-945"><a href="#cb45-945" aria-hidden="true" tabindex="-1"></a>wc_prereg_raw <span class="ot">&lt;-</span> </span>
<span id="cb45-946"><a href="#cb45-946" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-947"><a href="#cb45-947" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-948"><a href="#cb45-948" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc, </span>
<span id="cb45-949"><a href="#cb45-949" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-950"><a href="#cb45-950" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb45-951"><a href="#cb45-951" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-952"><a href="#cb45-952" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-953"><a href="#cb45-953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-954"><a href="#cb45-954" aria-hidden="true" tabindex="-1"></a>wc_prereg <span class="ot">&lt;-</span> </span>
<span id="cb45-955"><a href="#cb45-955" aria-hidden="true" tabindex="-1"></a>  wc_prereg_raw <span class="sc">|&gt;</span> </span>
<span id="cb45-956"><a href="#cb45-956" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-957"><a href="#cb45-957" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-958"><a href="#cb45-958" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-959"><a href="#cb45-959" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession)</span></span>
<span id="cb45-960"><a href="#cb45-960" aria-hidden="true" tabindex="-1"></a><span class="co">#wc_prereg_cwb &lt;- </span></span>
<span id="cb45-961"><a href="#cb45-961" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-962"><a href="#cb45-962" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = wc_prereg_raw,</span></span>
<span id="cb45-963"><a href="#cb45-963" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb45-964"><a href="#cb45-964" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-965"><a href="#cb45-965" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-966"><a href="#cb45-966" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-967"><a href="#cb45-967" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-968"><a href="#cb45-968" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-969"><a href="#cb45-969" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(wc_prereg_cwb, "Bootstrap results/wc_prereg_cwb.rds")</span></span>
<span id="cb45-970"><a href="#cb45-970" aria-hidden="true" tabindex="-1"></a>wc_prereg_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/wc_prereg_cwb.rds"</span>)</span>
<span id="cb45-971"><a href="#cb45-971" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-972"><a href="#cb45-972" aria-hidden="true" tabindex="-1"></a>wc_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-973"><a href="#cb45-973" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tibble</span>(</span>
<span id="cb45-974"><a href="#cb45-974" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-975"><a href="#cb45-975" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb45-976"><a href="#cb45-976" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-977"><a href="#cb45-977" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-978"><a href="#cb45-978" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-979"><a href="#cb45-979" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-980"><a href="#cb45-980" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(wc_prereg<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb45-981"><a href="#cb45-981" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-982"><a href="#cb45-982" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_prereg<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-983"><a href="#cb45-983" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-984"><a href="#cb45-984" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_prereg<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-985"><a href="#cb45-985" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-986"><a href="#cb45-986" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-987"><a href="#cb45-987" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(wc_prereg_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb45-988"><a href="#cb45-988" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-989"><a href="#cb45-989" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-990"><a href="#cb45-990" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_prereg<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-991"><a href="#cb45-991" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_prereg<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-992"><a href="#cb45-992" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(wc_prereg<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-993"><a href="#cb45-993" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(worst_dat_reint<span class="sc">$</span>study)),</span>
<span id="cb45-994"><a href="#cb45-994" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(worst_dat_reint))</span>
<span id="cb45-995"><a href="#cb45-995" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-996"><a href="#cb45-996" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-997"><a href="#cb45-997" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"worstcase"</span></span>
<span id="cb45-998"><a href="#cb45-998" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-999"><a href="#cb45-999" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1000"><a href="#cb45-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1001"><a href="#cb45-1001" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis of prereg using the PESCE+ model. </span></span>
<span id="cb45-1002"><a href="#cb45-1002" aria-hidden="true" tabindex="-1"></a>V_mat_wc_prereg <span class="ot">&lt;-</span> </span>
<span id="cb45-1003"><a href="#cb45-1003" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-1004"><a href="#cb45-1004" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb45-1005"><a href="#cb45-1005" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-1006"><a href="#cb45-1006" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-1007"><a href="#cb45-1007" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> prereg_chr,</span>
<span id="cb45-1008"><a href="#cb45-1008" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-1009"><a href="#cb45-1009" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-1010"><a href="#cb45-1010" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-1011"><a href="#cb45-1011" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-1012"><a href="#cb45-1012" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-1013"><a href="#cb45-1013" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-1014"><a href="#cb45-1014" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1015"><a href="#cb45-1015" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1016"><a href="#cb45-1016" aria-hidden="true" tabindex="-1"></a>wc_prereg_raw_sensi <span class="ot">&lt;-</span> </span>
<span id="cb45-1017"><a href="#cb45-1017" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1018"><a href="#cb45-1018" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-1019"><a href="#cb45-1019" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_prereg, </span>
<span id="cb45-1020"><a href="#cb45-1020" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> prereg_chr <span class="sc">|</span> study, <span class="sc">~</span> prereg_chr <span class="sc">|</span> esid),</span>
<span id="cb45-1021"><a href="#cb45-1021" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb45-1022"><a href="#cb45-1022" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb45-1023"><a href="#cb45-1023" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1024"><a href="#cb45-1024" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-1025"><a href="#cb45-1025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1026"><a href="#cb45-1026" aria-hidden="true" tabindex="-1"></a>wc_prereg_sensi <span class="ot">&lt;-</span> </span>
<span id="cb45-1027"><a href="#cb45-1027" aria-hidden="true" tabindex="-1"></a>  wc_prereg_raw_sensi <span class="sc">|&gt;</span> </span>
<span id="cb45-1028"><a href="#cb45-1028" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1029"><a href="#cb45-1029" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1030"><a href="#cb45-1030" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb45-1031"><a href="#cb45-1031" aria-hidden="true" tabindex="-1"></a><span class="co"># wc outcome</span></span>
<span id="cb45-1032"><a href="#cb45-1032" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb45-1033"><a href="#cb45-1033" aria-hidden="true" tabindex="-1"></a>wc_outcome_raw <span class="ot">&lt;-</span> </span>
<span id="cb45-1034"><a href="#cb45-1034" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1035"><a href="#cb45-1035" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-1036"><a href="#cb45-1036" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc, </span>
<span id="cb45-1037"><a href="#cb45-1037" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1038"><a href="#cb45-1038" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb45-1039"><a href="#cb45-1039" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1040"><a href="#cb45-1040" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-1041"><a href="#cb45-1041" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1042"><a href="#cb45-1042" aria-hidden="true" tabindex="-1"></a>wc_outcome <span class="ot">&lt;-</span> </span>
<span id="cb45-1043"><a href="#cb45-1043" aria-hidden="true" tabindex="-1"></a>  wc_outcome_raw <span class="sc">|&gt;</span> </span>
<span id="cb45-1044"><a href="#cb45-1044" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1045"><a href="#cb45-1045" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1046"><a href="#cb45-1046" aria-hidden="true" tabindex="-1"></a><span class="co"># CWB</span></span>
<span id="cb45-1047"><a href="#cb45-1047" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-1048"><a href="#cb45-1048" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-1049"><a href="#cb45-1049" aria-hidden="true" tabindex="-1"></a><span class="co">#wc_outcome_cwb &lt;- </span></span>
<span id="cb45-1050"><a href="#cb45-1050" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-1051"><a href="#cb45-1051" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = wc_outcome_raw,</span></span>
<span id="cb45-1052"><a href="#cb45-1052" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:7),</span></span>
<span id="cb45-1053"><a href="#cb45-1053" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1054"><a href="#cb45-1054" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1055"><a href="#cb45-1055" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1056"><a href="#cb45-1056" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-1057"><a href="#cb45-1057" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1058"><a href="#cb45-1058" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(wc_outcome_cwb, "Bootstrap results/wc_outcome_cwb.rds")</span></span>
<span id="cb45-1059"><a href="#cb45-1059" aria-hidden="true" tabindex="-1"></a>wc_outcome_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/wc_outcome_cwb.rds"</span>)</span>
<span id="cb45-1060"><a href="#cb45-1060" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1061"><a href="#cb45-1061" aria-hidden="true" tabindex="-1"></a>wc_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1062"><a href="#cb45-1062" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1063"><a href="#cb45-1063" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1064"><a href="#cb45-1064" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb45-1065"><a href="#cb45-1065" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1066"><a href="#cb45-1066" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1067"><a href="#cb45-1067" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1068"><a href="#cb45-1068" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1069"><a href="#cb45-1069" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(wc_outcome<span class="sc">$</span>b[<span class="sc">-</span><span class="dv">8</span>]), <span class="dv">3</span>), </span>
<span id="cb45-1070"><a href="#cb45-1070" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1071"><a href="#cb45-1071" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_outcome<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="dv">8</span>], <span class="dv">3</span>),</span>
<span id="cb45-1072"><a href="#cb45-1072" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1073"><a href="#cb45-1073" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_outcome<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="dv">8</span>], <span class="dv">3</span>),</span>
<span id="cb45-1074"><a href="#cb45-1074" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1075"><a href="#cb45-1075" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1076"><a href="#cb45-1076" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(wc_outcome_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb45-1077"><a href="#cb45-1077" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1078"><a href="#cb45-1078" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1079"><a href="#cb45-1079" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_outcome<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1080"><a href="#cb45-1080" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_outcome<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1081"><a href="#cb45-1081" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(wc_outcome<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-1082"><a href="#cb45-1082" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(worst_dat_reint<span class="sc">$</span>study)),</span>
<span id="cb45-1083"><a href="#cb45-1083" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(worst_dat_reint))</span>
<span id="cb45-1084"><a href="#cb45-1084" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1085"><a href="#cb45-1085" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1086"><a href="#cb45-1086" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"worstcase"</span></span>
<span id="cb45-1087"><a href="#cb45-1087" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1088"><a href="#cb45-1088" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1089"><a href="#cb45-1089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1090"><a href="#cb45-1090" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analyses using the PESCE+ model</span></span>
<span id="cb45-1091"><a href="#cb45-1091" aria-hidden="true" tabindex="-1"></a>V_mat_wc_outcome <span class="ot">&lt;-</span> </span>
<span id="cb45-1092"><a href="#cb45-1092" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-1093"><a href="#cb45-1093" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb45-1094"><a href="#cb45-1094" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-1095"><a href="#cb45-1095" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-1096"><a href="#cb45-1096" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> outcome_type,</span>
<span id="cb45-1097"><a href="#cb45-1097" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-1098"><a href="#cb45-1098" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-1099"><a href="#cb45-1099" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-1100"><a href="#cb45-1100" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-1101"><a href="#cb45-1101" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-1102"><a href="#cb45-1102" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-1103"><a href="#cb45-1103" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1104"><a href="#cb45-1104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1105"><a href="#cb45-1105" aria-hidden="true" tabindex="-1"></a>wc_outcome_raw_sensi <span class="ot">&lt;-</span> </span>
<span id="cb45-1106"><a href="#cb45-1106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1107"><a href="#cb45-1107" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-1108"><a href="#cb45-1108" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc, </span>
<span id="cb45-1109"><a href="#cb45-1109" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> outcome_type <span class="sc">|</span> study, <span class="sc">~</span> outcome_type <span class="sc">|</span> esid),</span>
<span id="cb45-1110"><a href="#cb45-1110" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb45-1111"><a href="#cb45-1111" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_reint,</span>
<span id="cb45-1112"><a href="#cb45-1112" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1113"><a href="#cb45-1113" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-1114"><a href="#cb45-1114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1115"><a href="#cb45-1115" aria-hidden="true" tabindex="-1"></a>wc_outcome_sensi <span class="ot">&lt;-</span> </span>
<span id="cb45-1116"><a href="#cb45-1116" aria-hidden="true" tabindex="-1"></a>  wc_outcome_raw_sensi <span class="sc">|&gt;</span> </span>
<span id="cb45-1117"><a href="#cb45-1117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1118"><a href="#cb45-1118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1119"><a href="#cb45-1119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1120"><a href="#cb45-1120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1121"><a href="#cb45-1121" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-1122"><a href="#cb45-1122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1123"><a href="#cb45-1123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1124"><a href="#cb45-1124" aria-hidden="true" tabindex="-1"></a><span class="fu">### CHE-ISCW </span></span>
<span id="cb45-1125"><a href="#cb45-1125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1126"><a href="#cb45-1126" aria-hidden="true" tabindex="-1"></a><span class="in">```{r che-iscw}</span></span>
<span id="cb45-1127"><a href="#cb45-1127" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb45-1128"><a href="#cb45-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1129"><a href="#cb45-1129" aria-hidden="true" tabindex="-1"></a>V_mat_mod <span class="ot">&lt;-</span> metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-1130"><a href="#cb45-1130" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-1131"><a href="#cb45-1131" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-1132"><a href="#cb45-1132" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> study,</span>
<span id="cb45-1133"><a href="#cb45-1133" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> outcome_time, </span>
<span id="cb45-1134"><a href="#cb45-1134" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-1135"><a href="#cb45-1135" aria-hidden="true" tabindex="-1"></a>  <span class="at">w1 =</span> N_t, </span>
<span id="cb45-1136"><a href="#cb45-1136" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp2 =</span> control,</span>
<span id="cb45-1137"><a href="#cb45-1137" aria-hidden="true" tabindex="-1"></a>  <span class="at">w2 =</span> N_c, </span>
<span id="cb45-1138"><a href="#cb45-1138" aria-hidden="true" tabindex="-1"></a>  <span class="at">rho =</span> rho</span>
<span id="cb45-1139"><a href="#cb45-1139" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-1140"><a href="#cb45-1140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1141"><a href="#cb45-1141" aria-hidden="true" tabindex="-1"></a>W <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_mod)</span>
<span id="cb45-1142"><a href="#cb45-1142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1143"><a href="#cb45-1143" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW</span></span>
<span id="cb45-1144"><a href="#cb45-1144" aria-hidden="true" tabindex="-1"></a><span class="do">## Overall</span></span>
<span id="cb45-1145"><a href="#cb45-1145" aria-hidden="true" tabindex="-1"></a>che_iscw <span class="ot">&lt;-</span> </span>
<span id="cb45-1146"><a href="#cb45-1146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1147"><a href="#cb45-1147" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1148"><a href="#cb45-1148" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-1149"><a href="#cb45-1149" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb45-1150"><a href="#cb45-1150" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1151"><a href="#cb45-1151" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-1152"><a href="#cb45-1152" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1153"><a href="#cb45-1153" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-1154"><a href="#cb45-1154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1155"><a href="#cb45-1155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1156"><a href="#cb45-1156" aria-hidden="true" tabindex="-1"></a>iscw_tab_res <span class="ot">&lt;-</span> <span class="fu">.pubbias_overall_tab</span>(<span class="at">rma_obj =</span> che_iscw, <span class="at">test =</span> <span class="st">"CHE-ISCW"</span>)</span>
<span id="cb45-1157"><a href="#cb45-1157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1158"><a href="#cb45-1158" aria-hidden="true" tabindex="-1"></a><span class="do">## Preregistration</span></span>
<span id="cb45-1159"><a href="#cb45-1159" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_raw <span class="ot">&lt;-</span> </span>
<span id="cb45-1160"><a href="#cb45-1160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1161"><a href="#cb45-1161" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1162"><a href="#cb45-1162" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-1163"><a href="#cb45-1163" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb45-1164"><a href="#cb45-1164" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-1165"><a href="#cb45-1165" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1166"><a href="#cb45-1166" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-1167"><a href="#cb45-1167" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1168"><a href="#cb45-1168" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-1169"><a href="#cb45-1169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1170"><a href="#cb45-1170" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg <span class="ot">&lt;-</span> </span>
<span id="cb45-1171"><a href="#cb45-1171" aria-hidden="true" tabindex="-1"></a>  che_iscw_prereg_raw <span class="sc">|&gt;</span> </span>
<span id="cb45-1172"><a href="#cb45-1172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1173"><a href="#cb45-1173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1174"><a href="#cb45-1174" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-1175"><a href="#cb45-1175" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-1176"><a href="#cb45-1176" aria-hidden="true" tabindex="-1"></a><span class="co">#che_iscw_prereg_cwb &lt;- </span></span>
<span id="cb45-1177"><a href="#cb45-1177" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-1178"><a href="#cb45-1178" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_iscw_prereg_raw,</span></span>
<span id="cb45-1179"><a href="#cb45-1179" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb45-1180"><a href="#cb45-1180" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1181"><a href="#cb45-1181" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1182"><a href="#cb45-1182" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1183"><a href="#cb45-1183" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-1184"><a href="#cb45-1184" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1185"><a href="#cb45-1185" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_iscw_prereg_cwb, "Bootstrap results/che_iscw_prereg_cwb.rds")</span></span>
<span id="cb45-1186"><a href="#cb45-1186" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_iscw_prereg_cwb.rds"</span>)</span>
<span id="cb45-1187"><a href="#cb45-1187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1188"><a href="#cb45-1188" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1189"><a href="#cb45-1189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1190"><a href="#cb45-1190" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1191"><a href="#cb45-1191" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb45-1192"><a href="#cb45-1192" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1193"><a href="#cb45-1193" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1194"><a href="#cb45-1194" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1195"><a href="#cb45-1195" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1196"><a href="#cb45-1196" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_iscw_prereg<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb45-1197"><a href="#cb45-1197" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1198"><a href="#cb45-1198" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_prereg<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-1199"><a href="#cb45-1199" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1200"><a href="#cb45-1200" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_prereg<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-1201"><a href="#cb45-1201" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1202"><a href="#cb45-1202" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1203"><a href="#cb45-1203" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_iscw_prereg_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb45-1204"><a href="#cb45-1204" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1205"><a href="#cb45-1205" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1206"><a href="#cb45-1206" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_prereg<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1207"><a href="#cb45-1207" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_prereg<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1208"><a href="#cb45-1208" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_iscw_prereg<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-1209"><a href="#cb45-1209" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-1210"><a href="#cb45-1210" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-1211"><a href="#cb45-1211" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1212"><a href="#cb45-1212" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1213"><a href="#cb45-1213" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"iscw"</span></span>
<span id="cb45-1214"><a href="#cb45-1214" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1215"><a href="#cb45-1215" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1216"><a href="#cb45-1216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1217"><a href="#cb45-1217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1218"><a href="#cb45-1218" aria-hidden="true" tabindex="-1"></a><span class="do">## Outcome</span></span>
<span id="cb45-1219"><a href="#cb45-1219" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_raw <span class="ot">&lt;-</span> </span>
<span id="cb45-1220"><a href="#cb45-1220" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1221"><a href="#cb45-1221" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1222"><a href="#cb45-1222" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-1223"><a href="#cb45-1223" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb45-1224"><a href="#cb45-1224" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-1225"><a href="#cb45-1225" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1226"><a href="#cb45-1226" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-1227"><a href="#cb45-1227" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1228"><a href="#cb45-1228" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-1229"><a href="#cb45-1229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1230"><a href="#cb45-1230" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome <span class="ot">&lt;-</span> </span>
<span id="cb45-1231"><a href="#cb45-1231" aria-hidden="true" tabindex="-1"></a>  che_iscw_outcome_raw <span class="sc">|&gt;</span> </span>
<span id="cb45-1232"><a href="#cb45-1232" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1233"><a href="#cb45-1233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1234"><a href="#cb45-1234" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-1235"><a href="#cb45-1235" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-1236"><a href="#cb45-1236" aria-hidden="true" tabindex="-1"></a><span class="co">#che_iscw_outcome_cwb &lt;- </span></span>
<span id="cb45-1237"><a href="#cb45-1237" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-1238"><a href="#cb45-1238" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_iscw_outcome_raw,</span></span>
<span id="cb45-1239"><a href="#cb45-1239" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:7),</span></span>
<span id="cb45-1240"><a href="#cb45-1240" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1241"><a href="#cb45-1241" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1242"><a href="#cb45-1242" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1243"><a href="#cb45-1243" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-1244"><a href="#cb45-1244" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1245"><a href="#cb45-1245" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_iscw_outcome_cwb, "Bootstrap results/che_iscw_outcome_cwb.rds")</span></span>
<span id="cb45-1246"><a href="#cb45-1246" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_iscw_outcome_cwb.rds"</span>)</span>
<span id="cb45-1247"><a href="#cb45-1247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1248"><a href="#cb45-1248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1249"><a href="#cb45-1249" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1250"><a href="#cb45-1250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1251"><a href="#cb45-1251" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1252"><a href="#cb45-1252" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb45-1253"><a href="#cb45-1253" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1254"><a href="#cb45-1254" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1255"><a href="#cb45-1255" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1256"><a href="#cb45-1256" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1257"><a href="#cb45-1257" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_iscw_outcome<span class="sc">$</span>b[<span class="sc">-</span><span class="dv">8</span>]), <span class="dv">3</span>), </span>
<span id="cb45-1258"><a href="#cb45-1258" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1259"><a href="#cb45-1259" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_outcome<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="dv">8</span>], <span class="dv">3</span>),</span>
<span id="cb45-1260"><a href="#cb45-1260" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1261"><a href="#cb45-1261" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_outcome<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="dv">8</span>], <span class="dv">3</span>),</span>
<span id="cb45-1262"><a href="#cb45-1262" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1263"><a href="#cb45-1263" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1264"><a href="#cb45-1264" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_iscw_outcome_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)), </span>
<span id="cb45-1265"><a href="#cb45-1265" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1266"><a href="#cb45-1266" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1267"><a href="#cb45-1267" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_outcome<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1268"><a href="#cb45-1268" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_outcome<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1269"><a href="#cb45-1269" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_iscw_outcome<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-1270"><a href="#cb45-1270" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-1271"><a href="#cb45-1271" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-1272"><a href="#cb45-1272" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1273"><a href="#cb45-1273" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1274"><a href="#cb45-1274" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"iscw"</span></span>
<span id="cb45-1275"><a href="#cb45-1275" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1276"><a href="#cb45-1276" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1277"><a href="#cb45-1277" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-1278"><a href="#cb45-1278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1279"><a href="#cb45-1279" aria-hidden="true" tabindex="-1"></a><span class="fu">### PET/PEESE</span></span>
<span id="cb45-1280"><a href="#cb45-1280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1281"><a href="#cb45-1281" aria-hidden="true" tabindex="-1"></a><span class="in">```{r petpesse}</span></span>
<span id="cb45-1282"><a href="#cb45-1282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1283"><a href="#cb45-1283" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE overall</span></span>
<span id="cb45-1284"><a href="#cb45-1284" aria-hidden="true" tabindex="-1"></a>che_pet <span class="ot">&lt;-</span> </span>
<span id="cb45-1285"><a href="#cb45-1285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1286"><a href="#cb45-1286" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1287"><a href="#cb45-1287" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-1288"><a href="#cb45-1288" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb45-1289"><a href="#cb45-1289" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop <span class="sc">+</span> prereg_c,</span>
<span id="cb45-1290"><a href="#cb45-1290" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1291"><a href="#cb45-1291" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-1292"><a href="#cb45-1292" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1293"><a href="#cb45-1293" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-1294"><a href="#cb45-1294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1295"><a href="#cb45-1295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1296"><a href="#cb45-1296" aria-hidden="true" tabindex="-1"></a>che_peese <span class="ot">&lt;-</span> </span>
<span id="cb45-1297"><a href="#cb45-1297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1298"><a href="#cb45-1298" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1299"><a href="#cb45-1299" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-1300"><a href="#cb45-1300" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb45-1301"><a href="#cb45-1301" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wgt_pop <span class="sc">+</span> prereg_c,</span>
<span id="cb45-1302"><a href="#cb45-1302" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1303"><a href="#cb45-1303" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-1304"><a href="#cb45-1304" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1305"><a href="#cb45-1305" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-1306"><a href="#cb45-1306" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1307"><a href="#cb45-1307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1308"><a href="#cb45-1308" aria-hidden="true" tabindex="-1"></a>pet_peese <span class="ot">&lt;-</span> <span class="cf">if</span> (che_pet<span class="sc">$</span>pval[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.1</span> <span class="sc">&amp;</span> <span class="fu">as.numeric</span>(che_pet<span class="sc">$</span>b[<span class="dv">1</span>]) <span class="sc">&gt;</span> <span class="dv">0</span>) che_peese <span class="cf">else</span> che_pet</span>
<span id="cb45-1309"><a href="#cb45-1309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1310"><a href="#cb45-1310" aria-hidden="true" tabindex="-1"></a>pet_peese_tab_res <span class="ot">&lt;-</span> <span class="fu">.pubbias_overall_tab</span>(<span class="at">rma_obj =</span> pet_peese, <span class="at">test =</span> <span class="st">"PET/PEESE"</span>)</span>
<span id="cb45-1311"><a href="#cb45-1311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1312"><a href="#cb45-1312" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE preregistration</span></span>
<span id="cb45-1313"><a href="#cb45-1313" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_raw <span class="ot">&lt;-</span> </span>
<span id="cb45-1314"><a href="#cb45-1314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1315"><a href="#cb45-1315" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1316"><a href="#cb45-1316" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-1317"><a href="#cb45-1317" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb45-1318"><a href="#cb45-1318" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">+</span> Wse_pop <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-1319"><a href="#cb45-1319" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1320"><a href="#cb45-1320" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-1321"><a href="#cb45-1321" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1322"><a href="#cb45-1322" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-1323"><a href="#cb45-1323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1324"><a href="#cb45-1324" aria-hidden="true" tabindex="-1"></a>che_pet_prereg <span class="ot">&lt;-</span> </span>
<span id="cb45-1325"><a href="#cb45-1325" aria-hidden="true" tabindex="-1"></a>  che_pet_prereg_raw <span class="sc">|&gt;</span> </span>
<span id="cb45-1326"><a href="#cb45-1326" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1327"><a href="#cb45-1327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1328"><a href="#cb45-1328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1329"><a href="#cb45-1329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1330"><a href="#cb45-1330" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-1331"><a href="#cb45-1331" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-1332"><a href="#cb45-1332" aria-hidden="true" tabindex="-1"></a><span class="co">#che_pet_prereg_cwb &lt;- </span></span>
<span id="cb45-1333"><a href="#cb45-1333" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-1334"><a href="#cb45-1334" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_pet_prereg_raw,</span></span>
<span id="cb45-1335"><a href="#cb45-1335" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb45-1336"><a href="#cb45-1336" aria-hidden="true" tabindex="-1"></a><span class="co">#    R  = 1999</span></span>
<span id="cb45-1337"><a href="#cb45-1337" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1338"><a href="#cb45-1338" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1339"><a href="#cb45-1339" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-1340"><a href="#cb45-1340" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1341"><a href="#cb45-1341" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_pet_prereg_cwb, "Bootstrap results/che_pet_prereg_cwb.rds")</span></span>
<span id="cb45-1342"><a href="#cb45-1342" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_pet_prereg_cwb.rds"</span>)</span>
<span id="cb45-1343"><a href="#cb45-1343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1344"><a href="#cb45-1344" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1345"><a href="#cb45-1345" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1346"><a href="#cb45-1346" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1347"><a href="#cb45-1347" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>,</span>
<span id="cb45-1348"><a href="#cb45-1348" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1349"><a href="#cb45-1349" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1350"><a href="#cb45-1350" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1351"><a href="#cb45-1351" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1352"><a href="#cb45-1352" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_pet_prereg<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb45-1353"><a href="#cb45-1353" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1354"><a href="#cb45-1354" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_prereg<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-1355"><a href="#cb45-1355" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1356"><a href="#cb45-1356" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_prereg<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-1357"><a href="#cb45-1357" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1358"><a href="#cb45-1358" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1359"><a href="#cb45-1359" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_pet_prereg_cwb<span class="sc">$</span>p_val,<span class="dv">3</span>)),</span>
<span id="cb45-1360"><a href="#cb45-1360" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1361"><a href="#cb45-1361" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1362"><a href="#cb45-1362" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_prereg<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1363"><a href="#cb45-1363" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_prereg<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1364"><a href="#cb45-1364" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_pet_prereg<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-1365"><a href="#cb45-1365" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-1366"><a href="#cb45-1366" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-1367"><a href="#cb45-1367" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1368"><a href="#cb45-1368" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1369"><a href="#cb45-1369" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"petpesse"</span></span>
<span id="cb45-1370"><a href="#cb45-1370" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1371"><a href="#cb45-1371" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1372"><a href="#cb45-1372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1373"><a href="#cb45-1373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1374"><a href="#cb45-1374" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE outcome</span></span>
<span id="cb45-1375"><a href="#cb45-1375" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_raw <span class="ot">&lt;-</span> </span>
<span id="cb45-1376"><a href="#cb45-1376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1377"><a href="#cb45-1377" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1378"><a href="#cb45-1378" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod,</span>
<span id="cb45-1379"><a href="#cb45-1379" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W,</span>
<span id="cb45-1380"><a href="#cb45-1380" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> outcome_type <span class="sc">+</span> Wse_pop <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-1381"><a href="#cb45-1381" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1382"><a href="#cb45-1382" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> reint_ma_dat,</span>
<span id="cb45-1383"><a href="#cb45-1383" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1384"><a href="#cb45-1384" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-1385"><a href="#cb45-1385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1386"><a href="#cb45-1386" aria-hidden="true" tabindex="-1"></a>che_pet_outcome <span class="ot">&lt;-</span> </span>
<span id="cb45-1387"><a href="#cb45-1387" aria-hidden="true" tabindex="-1"></a>  che_pet_outcome_raw <span class="sc">|&gt;</span> </span>
<span id="cb45-1388"><a href="#cb45-1388" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1389"><a href="#cb45-1389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1390"><a href="#cb45-1390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1391"><a href="#cb45-1391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1392"><a href="#cb45-1392" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-1393"><a href="#cb45-1393" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-1394"><a href="#cb45-1394" aria-hidden="true" tabindex="-1"></a><span class="co">#che_pet_outcome_cwb &lt;- </span></span>
<span id="cb45-1395"><a href="#cb45-1395" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-1396"><a href="#cb45-1396" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_pet_outcome_raw,</span></span>
<span id="cb45-1397"><a href="#cb45-1397" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:7),</span></span>
<span id="cb45-1398"><a href="#cb45-1398" aria-hidden="true" tabindex="-1"></a><span class="co">#    R  = 1999</span></span>
<span id="cb45-1399"><a href="#cb45-1399" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1400"><a href="#cb45-1400" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1401"><a href="#cb45-1401" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-1402"><a href="#cb45-1402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1403"><a href="#cb45-1403" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_pet_outcome_cwb, "Bootstrap results/che_pet_outcome_cwb.rds")</span></span>
<span id="cb45-1404"><a href="#cb45-1404" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_cwb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_pet_outcome_cwb.rds"</span>)</span>
<span id="cb45-1405"><a href="#cb45-1405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1406"><a href="#cb45-1406" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1407"><a href="#cb45-1407" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1408"><a href="#cb45-1408" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1409"><a href="#cb45-1409" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb45-1410"><a href="#cb45-1410" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1411"><a href="#cb45-1411" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1412"><a href="#cb45-1412" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1413"><a href="#cb45-1413" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1414"><a href="#cb45-1414" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_pet_outcome<span class="sc">$</span>b[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">8</span><span class="sc">:</span><span class="dv">9</span>)]), <span class="dv">3</span>), </span>
<span id="cb45-1415"><a href="#cb45-1415" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1416"><a href="#cb45-1416" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_outcome<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">8</span><span class="sc">:</span><span class="dv">9</span>)], <span class="dv">3</span>),</span>
<span id="cb45-1417"><a href="#cb45-1417" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1418"><a href="#cb45-1418" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_outcome<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">8</span><span class="sc">:</span><span class="dv">9</span>)], <span class="dv">3</span>),</span>
<span id="cb45-1419"><a href="#cb45-1419" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1420"><a href="#cb45-1420" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1421"><a href="#cb45-1421" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_pet_outcome_cwb<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb45-1422"><a href="#cb45-1422" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1423"><a href="#cb45-1423" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1424"><a href="#cb45-1424" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_outcome<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1425"><a href="#cb45-1425" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_outcome<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1426"><a href="#cb45-1426" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_pet_outcome<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-1427"><a href="#cb45-1427" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-1428"><a href="#cb45-1428" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-1429"><a href="#cb45-1429" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1430"><a href="#cb45-1430" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1431"><a href="#cb45-1431" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"petpesse"</span></span>
<span id="cb45-1432"><a href="#cb45-1432" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1433"><a href="#cb45-1433" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1434"><a href="#cb45-1434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1435"><a href="#cb45-1435" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-1436"><a href="#cb45-1436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1437"><a href="#cb45-1437" aria-hidden="true" tabindex="-1"></a><span class="fu">### Selection models</span></span>
<span id="cb45-1438"><a href="#cb45-1438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1439"><a href="#cb45-1439" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, selmodel}</span></span>
<span id="cb45-1440"><a href="#cb45-1440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1441"><a href="#cb45-1441" aria-hidden="true" tabindex="-1"></a><span class="co">#set.seed(29092025)</span></span>
<span id="cb45-1442"><a href="#cb45-1442" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1443"><a href="#cb45-1443" aria-hidden="true" tabindex="-1"></a><span class="co">#library(future)</span></span>
<span id="cb45-1444"><a href="#cb45-1444" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1445"><a href="#cb45-1445" aria-hidden="true" tabindex="-1"></a><span class="co">#cores &lt;- parallel::detectCores() - 1</span></span>
<span id="cb45-1446"><a href="#cb45-1446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1447"><a href="#cb45-1447" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall reintegration</span></span>
<span id="cb45-1448"><a href="#cb45-1448" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-1449"><a href="#cb45-1449" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1450"><a href="#cb45-1450" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_overall &lt;- </span></span>
<span id="cb45-1451"><a href="#cb45-1451" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-1452"><a href="#cb45-1452" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb45-1453"><a href="#cb45-1453" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-1454"><a href="#cb45-1454" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-1455"><a href="#cb45-1455" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-1456"><a href="#cb45-1456" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-1457"><a href="#cb45-1457" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb45-1458"><a href="#cb45-1458" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-1459"><a href="#cb45-1459" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-1460"><a href="#cb45-1460" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-1461"><a href="#cb45-1461" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-1462"><a href="#cb45-1462" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1463"><a href="#cb45-1463" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1464"><a href="#cb45-1464" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1465"><a href="#cb45-1465" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1466"><a href="#cb45-1466" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_overall, "Bootstrap results/mod_3PSM_overall.rds")</span></span>
<span id="cb45-1467"><a href="#cb45-1467" aria-hidden="true" tabindex="-1"></a>mod_3PSM_overall <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_overall.rds"</span>)</span>
<span id="cb45-1468"><a href="#cb45-1468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1469"><a href="#cb45-1469" aria-hidden="true" tabindex="-1"></a><span class="co">#selection_plot(mod_3PSM_overall)</span></span>
<span id="cb45-1470"><a href="#cb45-1470" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1471"><a href="#cb45-1471" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-1472"><a href="#cb45-1472" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1473"><a href="#cb45-1473" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_overall &lt;- </span></span>
<span id="cb45-1474"><a href="#cb45-1474" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-1475"><a href="#cb45-1475" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb45-1476"><a href="#cb45-1476" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-1477"><a href="#cb45-1477" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-1478"><a href="#cb45-1478" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-1479"><a href="#cb45-1479" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-1480"><a href="#cb45-1480" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb45-1481"><a href="#cb45-1481" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-1482"><a href="#cb45-1482" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-1483"><a href="#cb45-1483" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-1484"><a href="#cb45-1484" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-1485"><a href="#cb45-1485" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1486"><a href="#cb45-1486" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1487"><a href="#cb45-1487" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1488"><a href="#cb45-1488" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1489"><a href="#cb45-1489" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_overall, "Bootstrap results/mod_4PSM_overall.rds")</span></span>
<span id="cb45-1490"><a href="#cb45-1490" aria-hidden="true" tabindex="-1"></a>mod_4PSM_overall <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_overall.rds"</span>)</span>
<span id="cb45-1491"><a href="#cb45-1491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1492"><a href="#cb45-1492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1493"><a href="#cb45-1493" aria-hidden="true" tabindex="-1"></a><span class="co">#save(</span></span>
<span id="cb45-1494"><a href="#cb45-1494" aria-hidden="true" tabindex="-1"></a><span class="co">#  mod_3PSM_overall,</span></span>
<span id="cb45-1495"><a href="#cb45-1495" aria-hidden="true" tabindex="-1"></a><span class="co">#  mod_4PSM_overall,</span></span>
<span id="cb45-1496"><a href="#cb45-1496" aria-hidden="true" tabindex="-1"></a><span class="co">#  file = "selmodel_res.RData"</span></span>
<span id="cb45-1497"><a href="#cb45-1497" aria-hidden="true" tabindex="-1"></a><span class="co">#)</span></span>
<span id="cb45-1498"><a href="#cb45-1498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1499"><a href="#cb45-1499" aria-hidden="true" tabindex="-1"></a><span class="do">##############################</span></span>
<span id="cb45-1500"><a href="#cb45-1500" aria-hidden="true" tabindex="-1"></a><span class="co"># Across type of registration</span></span>
<span id="cb45-1501"><a href="#cb45-1501" aria-hidden="true" tabindex="-1"></a><span class="do">##############################</span></span>
<span id="cb45-1502"><a href="#cb45-1502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1503"><a href="#cb45-1503" aria-hidden="true" tabindex="-1"></a><span class="do">## Only not preregistered outcome</span></span>
<span id="cb45-1504"><a href="#cb45-1504" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-1505"><a href="#cb45-1505" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1506"><a href="#cb45-1506" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1507"><a href="#cb45-1507" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_not_prereg &lt;- </span></span>
<span id="cb45-1508"><a href="#cb45-1508" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-1509"><a href="#cb45-1509" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb45-1510"><a href="#cb45-1510" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-1511"><a href="#cb45-1511" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-1512"><a href="#cb45-1512" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-1513"><a href="#cb45-1513" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-1514"><a href="#cb45-1514" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb45-1515"><a href="#cb45-1515" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-1516"><a href="#cb45-1516" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-1517"><a href="#cb45-1517" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-1518"><a href="#cb45-1518" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-1519"><a href="#cb45-1519" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999,</span></span>
<span id="cb45-1520"><a href="#cb45-1520" aria-hidden="true" tabindex="-1"></a><span class="co">#    subset = conventional == 0</span></span>
<span id="cb45-1521"><a href="#cb45-1521" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1522"><a href="#cb45-1522" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1523"><a href="#cb45-1523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1524"><a href="#cb45-1524" aria-hidden="true" tabindex="-1"></a><span class="do">## Prereg_chr as subgroup factor</span></span>
<span id="cb45-1525"><a href="#cb45-1525" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-1526"><a href="#cb45-1526" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-1527"><a href="#cb45-1527" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1528"><a href="#cb45-1528" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_prereg &lt;- </span></span>
<span id="cb45-1529"><a href="#cb45-1529" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-1530"><a href="#cb45-1530" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb45-1531"><a href="#cb45-1531" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-1532"><a href="#cb45-1532" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-1533"><a href="#cb45-1533" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-1534"><a href="#cb45-1534" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-1535"><a href="#cb45-1535" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb45-1536"><a href="#cb45-1536" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-1537"><a href="#cb45-1537" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-1538"><a href="#cb45-1538" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-1539"><a href="#cb45-1539" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-1540"><a href="#cb45-1540" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ prereg_chr - 1,</span></span>
<span id="cb45-1541"><a href="#cb45-1541" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1542"><a href="#cb45-1542" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1543"><a href="#cb45-1543" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1544"><a href="#cb45-1544" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1545"><a href="#cb45-1545" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_prereg, "Bootstrap results/mod_3PSM_prereg.rds")</span></span>
<span id="cb45-1546"><a href="#cb45-1546" aria-hidden="true" tabindex="-1"></a>mod_3PSM_prereg <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_prereg.rds"</span>)</span>
<span id="cb45-1547"><a href="#cb45-1547" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-1548"><a href="#cb45-1548" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-1549"><a href="#cb45-1549" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-1550"><a href="#cb45-1550" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1551"><a href="#cb45-1551" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_prereg &lt;- </span></span>
<span id="cb45-1552"><a href="#cb45-1552" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-1553"><a href="#cb45-1553" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb45-1554"><a href="#cb45-1554" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-1555"><a href="#cb45-1555" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-1556"><a href="#cb45-1556" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-1557"><a href="#cb45-1557" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-1558"><a href="#cb45-1558" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb45-1559"><a href="#cb45-1559" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-1560"><a href="#cb45-1560" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-1561"><a href="#cb45-1561" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-1562"><a href="#cb45-1562" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-1563"><a href="#cb45-1563" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ prereg_chr - 1,</span></span>
<span id="cb45-1564"><a href="#cb45-1564" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1565"><a href="#cb45-1565" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1566"><a href="#cb45-1566" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1567"><a href="#cb45-1567" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1568"><a href="#cb45-1568" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_prereg, "Bootstrap results/mod_4PSM_prereg.rds")</span></span>
<span id="cb45-1569"><a href="#cb45-1569" aria-hidden="true" tabindex="-1"></a>mod_4PSM_prereg <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_prereg.rds"</span>)</span>
<span id="cb45-1570"><a href="#cb45-1570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1571"><a href="#cb45-1571" aria-hidden="true" tabindex="-1"></a><span class="do">###################</span></span>
<span id="cb45-1572"><a href="#cb45-1572" aria-hidden="true" tabindex="-1"></a><span class="co"># Across outcomes</span></span>
<span id="cb45-1573"><a href="#cb45-1573" aria-hidden="true" tabindex="-1"></a><span class="do">###################</span></span>
<span id="cb45-1574"><a href="#cb45-1574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1575"><a href="#cb45-1575" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-1576"><a href="#cb45-1576" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1577"><a href="#cb45-1577" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_outcome &lt;- </span></span>
<span id="cb45-1578"><a href="#cb45-1578" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-1579"><a href="#cb45-1579" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb45-1580"><a href="#cb45-1580" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-1581"><a href="#cb45-1581" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-1582"><a href="#cb45-1582" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-1583"><a href="#cb45-1583" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-1584"><a href="#cb45-1584" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb45-1585"><a href="#cb45-1585" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-1586"><a href="#cb45-1586" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-1587"><a href="#cb45-1587" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-1588"><a href="#cb45-1588" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-1589"><a href="#cb45-1589" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ outcome_type + prereg_c - 1,</span></span>
<span id="cb45-1590"><a href="#cb45-1590" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1591"><a href="#cb45-1591" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1592"><a href="#cb45-1592" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1593"><a href="#cb45-1593" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1594"><a href="#cb45-1594" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_outcome, "Bootstrap results/mod_3PSM_outcome.rds")</span></span>
<span id="cb45-1595"><a href="#cb45-1595" aria-hidden="true" tabindex="-1"></a>mod_3PSM_outcome <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_outcome.rds"</span>)</span>
<span id="cb45-1596"><a href="#cb45-1596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1597"><a href="#cb45-1597" aria-hidden="true" tabindex="-1"></a><span class="co">#selection_plot(mod_3PSM_overall)</span></span>
<span id="cb45-1598"><a href="#cb45-1598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1599"><a href="#cb45-1599" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-1600"><a href="#cb45-1600" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1601"><a href="#cb45-1601" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_outcome &lt;- </span></span>
<span id="cb45-1602"><a href="#cb45-1602" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-1603"><a href="#cb45-1603" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = reint_ma_dat, </span></span>
<span id="cb45-1604"><a href="#cb45-1604" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-1605"><a href="#cb45-1605" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-1606"><a href="#cb45-1606" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-1607"><a href="#cb45-1607" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-1608"><a href="#cb45-1608" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb45-1609"><a href="#cb45-1609" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-1610"><a href="#cb45-1610" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-1611"><a href="#cb45-1611" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-1612"><a href="#cb45-1612" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-1613"><a href="#cb45-1613" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ outcome_type + prereg_c - 1,</span></span>
<span id="cb45-1614"><a href="#cb45-1614" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-1615"><a href="#cb45-1615" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1616"><a href="#cb45-1616" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-1617"><a href="#cb45-1617" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1618"><a href="#cb45-1618" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_outcome, "Bootstrap results/mod_4PSM_outcome.rds")</span></span>
<span id="cb45-1619"><a href="#cb45-1619" aria-hidden="true" tabindex="-1"></a>mod_4PSM_outcome <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_outcome.rds"</span>)</span>
<span id="cb45-1620"><a href="#cb45-1620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1621"><a href="#cb45-1621" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-1622"><a href="#cb45-1622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1623"><a href="#cb45-1623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1624"><a href="#cb45-1624" aria-hidden="true" tabindex="-1"></a><span class="in">```{r tab-metaselection}</span></span>
<span id="cb45-1625"><a href="#cb45-1625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1626"><a href="#cb45-1626" aria-hidden="true" tabindex="-1"></a>PSM3_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb45-1627"><a href="#cb45-1627" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1628"><a href="#cb45-1628" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Cluster selmodel (3PSM)"</span>,</span>
<span id="cb45-1629"><a href="#cb45-1629" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-1630"><a href="#cb45-1630" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb45-1631"><a href="#cb45-1631" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-1632"><a href="#cb45-1632" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(mod_3PSM_overall<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb45-1633"><a href="#cb45-1633" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-1634"><a href="#cb45-1634" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_3PSM_overall<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-1635"><a href="#cb45-1635" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-1636"><a href="#cb45-1636" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_3PSM_overall<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-1637"><a href="#cb45-1637" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-1638"><a href="#cb45-1638" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1639"><a href="#cb45-1639" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-1640"><a href="#cb45-1640" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb45-1641"><a href="#cb45-1641" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-1642"><a href="#cb45-1642" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">sqrt</span>(mod_3PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>tausq),</span>
<span id="cb45-1643"><a href="#cb45-1643" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-1644"><a href="#cb45-1644" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau</span>
<span id="cb45-1645"><a href="#cb45-1645" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1646"><a href="#cb45-1646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1647"><a href="#cb45-1647" aria-hidden="true" tabindex="-1"></a>PSM4_tab_res <span class="ot">&lt;-</span> </span>
<span id="cb45-1648"><a href="#cb45-1648" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1649"><a href="#cb45-1649" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Cluster selmodel (4PSM)"</span>,</span>
<span id="cb45-1650"><a href="#cb45-1650" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-1651"><a href="#cb45-1651" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(reint_ma_dat),</span>
<span id="cb45-1652"><a href="#cb45-1652" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-1653"><a href="#cb45-1653" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(mod_4PSM_overall<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb45-1654"><a href="#cb45-1654" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-1655"><a href="#cb45-1655" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_4PSM_overall<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-1656"><a href="#cb45-1656" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-1657"><a href="#cb45-1657" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_4PSM_overall<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-1658"><a href="#cb45-1658" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-1659"><a href="#cb45-1659" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1660"><a href="#cb45-1660" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-1661"><a href="#cb45-1661" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb45-1662"><a href="#cb45-1662" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>),</span>
<span id="cb45-1663"><a href="#cb45-1663" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">sqrt</span>(mod_4PSM_overall<span class="sc">$</span>predictions<span class="sc">$</span>tausq),</span>
<span id="cb45-1664"><a href="#cb45-1664" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-1665"><a href="#cb45-1665" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau</span>
<span id="cb45-1666"><a href="#cb45-1666" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1667"><a href="#cb45-1667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1668"><a href="#cb45-1668" aria-hidden="true" tabindex="-1"></a><span class="co"># Prereg</span></span>
<span id="cb45-1669"><a href="#cb45-1669" aria-hidden="true" tabindex="-1"></a>PSM3_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1670"><a href="#cb45-1670" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1671"><a href="#cb45-1671" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1672"><a href="#cb45-1672" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb45-1673"><a href="#cb45-1673" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1674"><a href="#cb45-1674" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1675"><a href="#cb45-1675" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1676"><a href="#cb45-1676" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1677"><a href="#cb45-1677" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>), </span>
<span id="cb45-1678"><a href="#cb45-1678" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1679"><a href="#cb45-1679" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-1680"><a href="#cb45-1680" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1681"><a href="#cb45-1681" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-1682"><a href="#cb45-1682" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1683"><a href="#cb45-1683" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1684"><a href="#cb45-1684" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1685"><a href="#cb45-1685" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1686"><a href="#cb45-1686" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1687"><a href="#cb45-1687" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-1688"><a href="#cb45-1688" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1689"><a href="#cb45-1689" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-1690"><a href="#cb45-1690" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-1691"><a href="#cb45-1691" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-1692"><a href="#cb45-1692" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1693"><a href="#cb45-1693" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1694"><a href="#cb45-1694" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM3"</span></span>
<span id="cb45-1695"><a href="#cb45-1695" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1696"><a href="#cb45-1696" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1697"><a href="#cb45-1697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1698"><a href="#cb45-1698" aria-hidden="true" tabindex="-1"></a>PSM4_prereg_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1699"><a href="#cb45-1699" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1700"><a href="#cb45-1700" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1701"><a href="#cb45-1701" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb45-1702"><a href="#cb45-1702" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1703"><a href="#cb45-1703" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1704"><a href="#cb45-1704" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1705"><a href="#cb45-1705" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1706"><a href="#cb45-1706" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>), </span>
<span id="cb45-1707"><a href="#cb45-1707" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1708"><a href="#cb45-1708" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-1709"><a href="#cb45-1709" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1710"><a href="#cb45-1710" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-1711"><a href="#cb45-1711" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1712"><a href="#cb45-1712" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1713"><a href="#cb45-1713" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1714"><a href="#cb45-1714" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1715"><a href="#cb45-1715" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1716"><a href="#cb45-1716" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-1717"><a href="#cb45-1717" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1718"><a href="#cb45-1718" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_prereg<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-1719"><a href="#cb45-1719" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-1720"><a href="#cb45-1720" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-1721"><a href="#cb45-1721" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1722"><a href="#cb45-1722" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1723"><a href="#cb45-1723" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM4"</span></span>
<span id="cb45-1724"><a href="#cb45-1724" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1725"><a href="#cb45-1725" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1726"><a href="#cb45-1726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1727"><a href="#cb45-1727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1728"><a href="#cb45-1728" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome</span></span>
<span id="cb45-1729"><a href="#cb45-1729" aria-hidden="true" tabindex="-1"></a>PSM3_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1730"><a href="#cb45-1730" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1731"><a href="#cb45-1731" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1732"><a href="#cb45-1732" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb45-1733"><a href="#cb45-1733" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1734"><a href="#cb45-1734" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1735"><a href="#cb45-1735" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1736"><a href="#cb45-1736" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1737"><a href="#cb45-1737" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>), </span>
<span id="cb45-1738"><a href="#cb45-1738" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1739"><a href="#cb45-1739" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>),</span>
<span id="cb45-1740"><a href="#cb45-1740" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1741"><a href="#cb45-1741" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>),</span>
<span id="cb45-1742"><a href="#cb45-1742" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1743"><a href="#cb45-1743" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1744"><a href="#cb45-1744" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1745"><a href="#cb45-1745" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1746"><a href="#cb45-1746" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1747"><a href="#cb45-1747" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-1748"><a href="#cb45-1748" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1749"><a href="#cb45-1749" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-1750"><a href="#cb45-1750" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-1751"><a href="#cb45-1751" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-1752"><a href="#cb45-1752" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1753"><a href="#cb45-1753" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1754"><a href="#cb45-1754" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM3"</span></span>
<span id="cb45-1755"><a href="#cb45-1755" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1756"><a href="#cb45-1756" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1757"><a href="#cb45-1757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1758"><a href="#cb45-1758" aria-hidden="true" tabindex="-1"></a>PSM4_outcome_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-1759"><a href="#cb45-1759" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-1760"><a href="#cb45-1760" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-1761"><a href="#cb45-1761" aria-hidden="true" tabindex="-1"></a>      hyema_outcome<span class="sc">$</span>Parameter, </span>
<span id="cb45-1762"><a href="#cb45-1762" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-1763"><a href="#cb45-1763" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1764"><a href="#cb45-1764" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-1765"><a href="#cb45-1765" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-1766"><a href="#cb45-1766" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>), </span>
<span id="cb45-1767"><a href="#cb45-1767" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-1768"><a href="#cb45-1768" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>),</span>
<span id="cb45-1769"><a href="#cb45-1769" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-1770"><a href="#cb45-1770" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>], <span class="dv">3</span>),</span>
<span id="cb45-1771"><a href="#cb45-1771" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-1772"><a href="#cb45-1772" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-1773"><a href="#cb45-1773" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1774"><a href="#cb45-1774" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1775"><a href="#cb45-1775" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-1776"><a href="#cb45-1776" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-1777"><a href="#cb45-1777" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-1778"><a href="#cb45-1778" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_outcome<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-1779"><a href="#cb45-1779" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(reint_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-1780"><a href="#cb45-1780" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(reint_ma_dat))</span>
<span id="cb45-1781"><a href="#cb45-1781" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-1782"><a href="#cb45-1782" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1783"><a href="#cb45-1783" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM4"</span></span>
<span id="cb45-1784"><a href="#cb45-1784" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-1785"><a href="#cb45-1785" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1786"><a href="#cb45-1786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1787"><a href="#cb45-1787" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-1788"><a href="#cb45-1788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1789"><a href="#cb45-1789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1790"><a href="#cb45-1790" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Mental health**</span></span>
<span id="cb45-1791"><a href="#cb45-1791" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data</span></span>
<span id="cb45-1792"><a href="#cb45-1792" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load-data-mental}</span></span>
<span id="cb45-1793"><a href="#cb45-1793" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb45-1794"><a href="#cb45-1794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1795"><a href="#cb45-1795" aria-hidden="true" tabindex="-1"></a>mental_ma_dat <span class="ot">&lt;-</span> </span>
<span id="cb45-1796"><a href="#cb45-1796" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readRDS</span>(<span class="st">"mental_ma_dat.rds"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-1797"><a href="#cb45-1797" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-1798"><a href="#cb45-1798" aria-hidden="true" tabindex="-1"></a>    <span class="at">esid =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>(),</span>
<span id="cb45-1799"><a href="#cb45-1799" aria-hidden="true" tabindex="-1"></a>    <span class="at">se_gt_pop =</span> <span class="fu">sqrt</span>(vgt_pop), </span>
<span id="cb45-1800"><a href="#cb45-1800" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">sqrt</span>(Wgt_pop),</span>
<span id="cb45-1801"><a href="#cb45-1801" aria-hidden="true" tabindex="-1"></a>    <span class="at">t_i =</span> gt_pop<span class="sc">/</span><span class="fu">sqrt</span>(Wgt) <span class="co"># Following Chen and Pustejovsky (2025)</span></span>
<span id="cb45-1802"><a href="#cb45-1802" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1803"><a href="#cb45-1803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1804"><a href="#cb45-1804" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-1805"><a href="#cb45-1805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1806"><a href="#cb45-1806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1807"><a href="#cb45-1807" aria-hidden="true" tabindex="-1"></a><span class="fu">## Funnel plots</span></span>
<span id="cb45-1808"><a href="#cb45-1808" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, main-res-mental}</span></span>
<span id="cb45-1809"><a href="#cb45-1809" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb45-1810"><a href="#cb45-1810" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb45-1811"><a href="#cb45-1811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1812"><a href="#cb45-1812" aria-hidden="true" tabindex="-1"></a>V_mat_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-1813"><a href="#cb45-1813" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-1814"><a href="#cb45-1814" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-1815"><a href="#cb45-1815" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-1816"><a href="#cb45-1816" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-1817"><a href="#cb45-1817" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-1818"><a href="#cb45-1818" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-1819"><a href="#cb45-1819" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-1820"><a href="#cb45-1820" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-1821"><a href="#cb45-1821" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-1822"><a href="#cb45-1822" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-1823"><a href="#cb45-1823" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1824"><a href="#cb45-1824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1825"><a href="#cb45-1825" aria-hidden="true" tabindex="-1"></a>overall_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-1826"><a href="#cb45-1826" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">rma.mv</span>(</span>
<span id="cb45-1827"><a href="#cb45-1827" aria-hidden="true" tabindex="-1"></a>    gt_pop,</span>
<span id="cb45-1828"><a href="#cb45-1828" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mental, </span>
<span id="cb45-1829"><a href="#cb45-1829" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1830"><a href="#cb45-1830" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-1831"><a href="#cb45-1831" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1832"><a href="#cb45-1832" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-1833"><a href="#cb45-1833" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1834"><a href="#cb45-1834" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1835"><a href="#cb45-1835" aria-hidden="true" tabindex="-1"></a>overall_res_mental</span>
<span id="cb45-1836"><a href="#cb45-1836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1837"><a href="#cb45-1837" aria-hidden="true" tabindex="-1"></a>V_mat_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-1838"><a href="#cb45-1838" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-1839"><a href="#cb45-1839" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-1840"><a href="#cb45-1840" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-1841"><a href="#cb45-1841" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-1842"><a href="#cb45-1842" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> outcome_type,</span>
<span id="cb45-1843"><a href="#cb45-1843" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-1844"><a href="#cb45-1844" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-1845"><a href="#cb45-1845" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-1846"><a href="#cb45-1846" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-1847"><a href="#cb45-1847" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-1848"><a href="#cb45-1848" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-1849"><a href="#cb45-1849" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1850"><a href="#cb45-1850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1851"><a href="#cb45-1851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1852"><a href="#cb45-1852" aria-hidden="true" tabindex="-1"></a>sub_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-1853"><a href="#cb45-1853" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1854"><a href="#cb45-1854" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-1855"><a href="#cb45-1855" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_outcome_mental, </span>
<span id="cb45-1856"><a href="#cb45-1856" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> outcome_type <span class="sc">|</span> study, <span class="sc">~</span> outcome_type <span class="sc">|</span> esid),</span>
<span id="cb45-1857"><a href="#cb45-1857" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb45-1858"><a href="#cb45-1858" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-1859"><a href="#cb45-1859" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1860"><a href="#cb45-1860" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-1861"><a href="#cb45-1861" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1862"><a href="#cb45-1862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1863"><a href="#cb45-1863" aria-hidden="true" tabindex="-1"></a>sub_res_mental</span>
<span id="cb45-1864"><a href="#cb45-1864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1865"><a href="#cb45-1865" aria-hidden="true" tabindex="-1"></a><span class="co"># Mental health</span></span>
<span id="cb45-1866"><a href="#cb45-1866" aria-hidden="true" tabindex="-1"></a><span class="co"># MHV: Conduct these tests, when the main analyses has been made</span></span>
<span id="cb45-1867"><a href="#cb45-1867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1868"><a href="#cb45-1868" aria-hidden="true" tabindex="-1"></a><span class="co">#V_mat_mental &lt;- metafor::vcalc(</span></span>
<span id="cb45-1869"><a href="#cb45-1869" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb45-1870"><a href="#cb45-1870" aria-hidden="true" tabindex="-1"></a><span class="co">#    vi = vgt_pop, </span></span>
<span id="cb45-1871"><a href="#cb45-1871" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-1872"><a href="#cb45-1872" aria-hidden="true" tabindex="-1"></a><span class="co">#    type = outcome_time, </span></span>
<span id="cb45-1873"><a href="#cb45-1873" aria-hidden="true" tabindex="-1"></a><span class="co">#    grp1 = trt_name,</span></span>
<span id="cb45-1874"><a href="#cb45-1874" aria-hidden="true" tabindex="-1"></a><span class="co">#    w1 = N_t, </span></span>
<span id="cb45-1875"><a href="#cb45-1875" aria-hidden="true" tabindex="-1"></a><span class="co">#    grp2 = control,</span></span>
<span id="cb45-1876"><a href="#cb45-1876" aria-hidden="true" tabindex="-1"></a><span class="co">#    w2 = N_c, </span></span>
<span id="cb45-1877"><a href="#cb45-1877" aria-hidden="true" tabindex="-1"></a><span class="co">#    rho = rho</span></span>
<span id="cb45-1878"><a href="#cb45-1878" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1879"><a href="#cb45-1879" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1880"><a href="#cb45-1880" aria-hidden="true" tabindex="-1"></a><span class="co">#overall_res_mental &lt;- </span></span>
<span id="cb45-1881"><a href="#cb45-1881" aria-hidden="true" tabindex="-1"></a><span class="co">#  rma.mv(</span></span>
<span id="cb45-1882"><a href="#cb45-1882" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt_pop ~ + 1,</span></span>
<span id="cb45-1883"><a href="#cb45-1883" aria-hidden="true" tabindex="-1"></a><span class="co">#    V = V_mat_mental, </span></span>
<span id="cb45-1884"><a href="#cb45-1884" aria-hidden="true" tabindex="-1"></a><span class="co">#    random = ~ 1 | study / esid,</span></span>
<span id="cb45-1885"><a href="#cb45-1885" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb45-1886"><a href="#cb45-1886" aria-hidden="true" tabindex="-1"></a><span class="co">#    sparse = TRUE</span></span>
<span id="cb45-1887"><a href="#cb45-1887" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb45-1888"><a href="#cb45-1888" aria-hidden="true" tabindex="-1"></a><span class="co">#  robust(cluster = study, clubSandwich = TRUE)</span></span>
<span id="cb45-1889"><a href="#cb45-1889" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1890"><a href="#cb45-1890" aria-hidden="true" tabindex="-1"></a><span class="co">#overall_res_mental</span></span>
<span id="cb45-1891"><a href="#cb45-1891" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1892"><a href="#cb45-1892" aria-hidden="true" tabindex="-1"></a><span class="co">#sub_res_mental &lt;- </span></span>
<span id="cb45-1893"><a href="#cb45-1893" aria-hidden="true" tabindex="-1"></a><span class="co">#  rma.mv(</span></span>
<span id="cb45-1894"><a href="#cb45-1894" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt_pop ~ -1 + analysis_plan,</span></span>
<span id="cb45-1895"><a href="#cb45-1895" aria-hidden="true" tabindex="-1"></a><span class="co">#    V = V_mat_mental, </span></span>
<span id="cb45-1896"><a href="#cb45-1896" aria-hidden="true" tabindex="-1"></a><span class="co">#    random = list(~ analysis_plan | study, ~ analysis_plan | esid),</span></span>
<span id="cb45-1897"><a href="#cb45-1897" aria-hidden="true" tabindex="-1"></a><span class="co">#    struct = c("DIAG", "DIAG"),</span></span>
<span id="cb45-1898"><a href="#cb45-1898" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_health_dat,</span></span>
<span id="cb45-1899"><a href="#cb45-1899" aria-hidden="true" tabindex="-1"></a><span class="co">#    sparse = TRUE</span></span>
<span id="cb45-1900"><a href="#cb45-1900" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-1901"><a href="#cb45-1901" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-1902"><a href="#cb45-1902" aria-hidden="true" tabindex="-1"></a><span class="co">#sub_res_mental</span></span>
<span id="cb45-1903"><a href="#cb45-1903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1904"><a href="#cb45-1904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1905"><a href="#cb45-1905" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-1906"><a href="#cb45-1906" aria-hidden="true" tabindex="-1"></a><span class="fu">### Overall </span></span>
<span id="cb45-1907"><a href="#cb45-1907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1908"><a href="#cb45-1908" aria-hidden="true" tabindex="-1"></a><span class="in">```{r mental-overall-fp}</span></span>
<span id="cb45-1909"><a href="#cb45-1909" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-mental-overall-fp</span></span>
<span id="cb45-1910"><a href="#cb45-1910" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Funnel plot across all mental health outcomes"</span></span>
<span id="cb45-1911"><a href="#cb45-1911" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb45-1912"><a href="#cb45-1912" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb45-1913"><a href="#cb45-1913" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb45-1914"><a href="#cb45-1914" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb45-1915"><a href="#cb45-1915" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1916"><a href="#cb45-1916" aria-hidden="true" tabindex="-1"></a><span class="do">## Overall average effect</span></span>
<span id="cb45-1917"><a href="#cb45-1917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1918"><a href="#cb45-1918" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb45-1919"><a href="#cb45-1919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1920"><a href="#cb45-1920" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW</span></span>
<span id="cb45-1921"><a href="#cb45-1921" aria-hidden="true" tabindex="-1"></a>V_mat_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-1922"><a href="#cb45-1922" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-1923"><a href="#cb45-1923" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-1924"><a href="#cb45-1924" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-1925"><a href="#cb45-1925" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-1926"><a href="#cb45-1926" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-1927"><a href="#cb45-1927" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-1928"><a href="#cb45-1928" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-1929"><a href="#cb45-1929" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-1930"><a href="#cb45-1930" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-1931"><a href="#cb45-1931" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-1932"><a href="#cb45-1932" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-1933"><a href="#cb45-1933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1934"><a href="#cb45-1934" aria-hidden="true" tabindex="-1"></a><span class="fu">blsplit</span>(V_mat_mental, mental_ma_dat<span class="sc">$</span>study) <span class="sc">|&gt;</span> </span>
<span id="cb45-1935"><a href="#cb45-1935" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lapply</span>(cov2cor) <span class="sc">|&gt;</span> </span>
<span id="cb45-1936"><a href="#cb45-1936" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">2</span>))</span>
<span id="cb45-1937"><a href="#cb45-1937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1938"><a href="#cb45-1938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1939"><a href="#cb45-1939" aria-hidden="true" tabindex="-1"></a>W_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb45-1940"><a href="#cb45-1940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1941"><a href="#cb45-1941" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE</span></span>
<span id="cb45-1942"><a href="#cb45-1942" aria-hidden="true" tabindex="-1"></a>che_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-1943"><a href="#cb45-1943" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1944"><a href="#cb45-1944" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1945"><a href="#cb45-1945" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mental,</span>
<span id="cb45-1946"><a href="#cb45-1946" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1947"><a href="#cb45-1947" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-1948"><a href="#cb45-1948" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1949"><a href="#cb45-1949" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-1950"><a href="#cb45-1950" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1951"><a href="#cb45-1951" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1952"><a href="#cb45-1952" aria-hidden="true" tabindex="-1"></a><span class="co"># ISCW</span></span>
<span id="cb45-1953"><a href="#cb45-1953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1954"><a href="#cb45-1954" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW-RVE</span></span>
<span id="cb45-1955"><a href="#cb45-1955" aria-hidden="true" tabindex="-1"></a>che_iscw_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-1956"><a href="#cb45-1956" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1957"><a href="#cb45-1957" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1958"><a href="#cb45-1958" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mental,</span>
<span id="cb45-1959"><a href="#cb45-1959" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb45-1960"><a href="#cb45-1960" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1961"><a href="#cb45-1961" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-1962"><a href="#cb45-1962" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1963"><a href="#cb45-1963" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-1964"><a href="#cb45-1964" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1965"><a href="#cb45-1965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1966"><a href="#cb45-1966" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1967"><a href="#cb45-1967" aria-hidden="true" tabindex="-1"></a><span class="do">## Preregistered vs. not preregistered </span></span>
<span id="cb45-1968"><a href="#cb45-1968" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1969"><a href="#cb45-1969" aria-hidden="true" tabindex="-1"></a>prereg_dat_mental <span class="ot">&lt;-</span>  </span>
<span id="cb45-1970"><a href="#cb45-1970" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-1971"><a href="#cb45-1971" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb45-1972"><a href="#cb45-1972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1973"><a href="#cb45-1973" aria-hidden="true" tabindex="-1"></a>V_mat_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-1974"><a href="#cb45-1974" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-1975"><a href="#cb45-1975" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_mental,</span>
<span id="cb45-1976"><a href="#cb45-1976" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-1977"><a href="#cb45-1977" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-1978"><a href="#cb45-1978" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-1979"><a href="#cb45-1979" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-1980"><a href="#cb45-1980" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-1981"><a href="#cb45-1981" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-1982"><a href="#cb45-1982" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-1983"><a href="#cb45-1983" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-1984"><a href="#cb45-1984" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-1985"><a href="#cb45-1985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1986"><a href="#cb45-1986" aria-hidden="true" tabindex="-1"></a>W_prereg_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_prereg_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb45-1987"><a href="#cb45-1987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-1988"><a href="#cb45-1988" aria-hidden="true" tabindex="-1"></a>egg_prereg_mental <span class="ot">&lt;-</span></span>
<span id="cb45-1989"><a href="#cb45-1989" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-1990"><a href="#cb45-1990" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-1991"><a href="#cb45-1991" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_prereg_mental,</span>
<span id="cb45-1992"><a href="#cb45-1992" aria-hidden="true" tabindex="-1"></a>    <span class="co">#W = W_prereg_mental,</span></span>
<span id="cb45-1993"><a href="#cb45-1993" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop,</span>
<span id="cb45-1994"><a href="#cb45-1994" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-1995"><a href="#cb45-1995" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_mental,</span>
<span id="cb45-1996"><a href="#cb45-1996" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-1997"><a href="#cb45-1997" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-1998"><a href="#cb45-1998" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-1999"><a href="#cb45-1999" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2000"><a href="#cb45-2000" aria-hidden="true" tabindex="-1"></a>egg_prereg_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2001"><a href="#cb45-2001" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2002"><a href="#cb45-2002" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb45-2003"><a href="#cb45-2003" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_mental<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-2004"><a href="#cb45-2004" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_mental<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-2005"><a href="#cb45-2005" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2006"><a href="#cb45-2006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2007"><a href="#cb45-2007" aria-hidden="true" tabindex="-1"></a>notprereg_dat_mental <span class="ot">&lt;-</span>  </span>
<span id="cb45-2008"><a href="#cb45-2008" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-2009"><a href="#cb45-2009" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb45-2010"><a href="#cb45-2010" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2011"><a href="#cb45-2011" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2012"><a href="#cb45-2012" aria-hidden="true" tabindex="-1"></a>V_mat_notprereg_mental <span class="ot">&lt;-</span>  </span>
<span id="cb45-2013"><a href="#cb45-2013" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-2014"><a href="#cb45-2014" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> notprereg_dat_mental,</span>
<span id="cb45-2015"><a href="#cb45-2015" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-2016"><a href="#cb45-2016" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-2017"><a href="#cb45-2017" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-2018"><a href="#cb45-2018" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-2019"><a href="#cb45-2019" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-2020"><a href="#cb45-2020" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-2021"><a href="#cb45-2021" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-2022"><a href="#cb45-2022" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-2023"><a href="#cb45-2023" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2024"><a href="#cb45-2024" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2025"><a href="#cb45-2025" aria-hidden="true" tabindex="-1"></a>W_notprereg_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_notprereg_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb45-2026"><a href="#cb45-2026" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2027"><a href="#cb45-2027" aria-hidden="true" tabindex="-1"></a>egg_notprereg_mental <span class="ot">&lt;-</span></span>
<span id="cb45-2028"><a href="#cb45-2028" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2029"><a href="#cb45-2029" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-2030"><a href="#cb45-2030" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_notprereg_mental,</span>
<span id="cb45-2031"><a href="#cb45-2031" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_notprereg_mental,</span>
<span id="cb45-2032"><a href="#cb45-2032" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop,</span>
<span id="cb45-2033"><a href="#cb45-2033" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2034"><a href="#cb45-2034" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> notprereg_dat_mental,</span>
<span id="cb45-2035"><a href="#cb45-2035" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2036"><a href="#cb45-2036" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2037"><a href="#cb45-2037" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2038"><a href="#cb45-2038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2039"><a href="#cb45-2039" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2040"><a href="#cb45-2040" aria-hidden="true" tabindex="-1"></a>egg_notprereg_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2041"><a href="#cb45-2041" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2042"><a href="#cb45-2042" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Not preregistered"</span>,</span>
<span id="cb45-2043"><a href="#cb45-2043" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_notprereg_mental<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-2044"><a href="#cb45-2044" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_notprereg_mental<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-2045"><a href="#cb45-2045" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2046"><a href="#cb45-2046" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2047"><a href="#cb45-2047" aria-hidden="true" tabindex="-1"></a>egg_res_subgrouped_mental <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(egg_prereg_res_mental, egg_notprereg_res_mental)</span>
<span id="cb45-2048"><a href="#cb45-2048" aria-hidden="true" tabindex="-1"></a>egg_res_subgrouped_mental</span>
<span id="cb45-2049"><a href="#cb45-2049" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2050"><a href="#cb45-2050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2051"><a href="#cb45-2051" aria-hidden="true" tabindex="-1"></a><span class="co"># PESCE+ model</span></span>
<span id="cb45-2052"><a href="#cb45-2052" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2053"><a href="#cb45-2053" aria-hidden="true" tabindex="-1"></a>prereg_arg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2054"><a href="#cb45-2054" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.rma_arg_tbl</span>(</span>
<span id="cb45-2055"><a href="#cb45-2055" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> <span class="st">"gt_pop"</span>, </span>
<span id="cb45-2056"><a href="#cb45-2056" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> <span class="st">"vgt_pop"</span>, </span>
<span id="cb45-2057"><a href="#cb45-2057" aria-hidden="true" tabindex="-1"></a>    <span class="at">covars =</span> <span class="st">"prereg_chr"</span>,</span>
<span id="cb45-2058"><a href="#cb45-2058" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"SCEp"</span>,</span>
<span id="cb45-2059"><a href="#cb45-2059" aria-hidden="true" tabindex="-1"></a>    <span class="at">r =</span> <span class="fl">0.8</span>, </span>
<span id="cb45-2060"><a href="#cb45-2060" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-2061"><a href="#cb45-2061" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"categorical"</span></span>
<span id="cb45-2062"><a href="#cb45-2062" aria-hidden="true" tabindex="-1"></a>  ); prereg_arg_mental</span>
<span id="cb45-2063"><a href="#cb45-2063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2064"><a href="#cb45-2064" aria-hidden="true" tabindex="-1"></a><span class="co"># PESCEp+ </span></span>
<span id="cb45-2065"><a href="#cb45-2065" aria-hidden="true" tabindex="-1"></a>subgroup_means_mental <span class="ot">&lt;-</span> <span class="fu">pmap</span>(<span class="at">.l =</span> prereg_arg_mental, <span class="at">.f =</span> .PESCE_RVE) <span class="sc">|&gt;</span> <span class="fu">list_rbind</span>()</span>
<span id="cb45-2066"><a href="#cb45-2066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2067"><a href="#cb45-2067" aria-hidden="true" tabindex="-1"></a><span class="co">#subgroup_means &lt;- .SCEp(mod = prereg_chr, data = reint_ma_dat)</span></span>
<span id="cb45-2068"><a href="#cb45-2068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2069"><a href="#cb45-2069" aria-hidden="true" tabindex="-1"></a>subgroup_dat_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2070"><a href="#cb45-2070" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-2071"><a href="#cb45-2071" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-2072"><a href="#cb45-2072" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb45-2073"><a href="#cb45-2073" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb45-2074"><a href="#cb45-2074" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb45-2075"><a href="#cb45-2075" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb45-2076"><a href="#cb45-2076" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2077"><a href="#cb45-2077" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means_mental[<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">18</span>)], egg_res_subgrouped_mental) <span class="sc">|&gt;</span> </span>
<span id="cb45-2078"><a href="#cb45-2078" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-2079"><a href="#cb45-2079" aria-hidden="true" tabindex="-1"></a>    <span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), </span>
<span id="cb45-2080"><a href="#cb45-2080" aria-hidden="true" tabindex="-1"></a>    <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>), </span>
<span id="cb45-2081"><a href="#cb45-2081" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="st">"Effect size level"</span></span>
<span id="cb45-2082"><a href="#cb45-2082" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-2083"><a href="#cb45-2083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2084"><a href="#cb45-2084" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2085"><a href="#cb45-2085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2086"><a href="#cb45-2086" aria-hidden="true" tabindex="-1"></a>y_lim_exp1_mental <span class="ot">&lt;-</span> <span class="fu">max</span>(mental_ma_dat<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb45-2087"><a href="#cb45-2087" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2088"><a href="#cb45-2088" aria-hidden="true" tabindex="-1"></a>funnel_exp1_mental <span class="ot">&lt;-</span>  </span>
<span id="cb45-2089"><a href="#cb45-2089" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tribble</span>(</span>
<span id="cb45-2090"><a href="#cb45-2090" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb45-2091"><a href="#cb45-2091" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb45-2092"><a href="#cb45-2092" aria-hidden="true" tabindex="-1"></a>    <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp1_mental, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp1_mental, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp1_mental, y_lim_exp1_mental,</span>
<span id="cb45-2093"><a href="#cb45-2093" aria-hidden="true" tabindex="-1"></a>    <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp1_mental, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp1_mental, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp1_mental, y_lim_exp1_mental,</span>
<span id="cb45-2094"><a href="#cb45-2094" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb45-2095"><a href="#cb45-2095" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-2096"><a href="#cb45-2096" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2097"><a href="#cb45-2097" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2098"><a href="#cb45-2098" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2099"><a href="#cb45-2099" aria-hidden="true" tabindex="-1"></a>alpha_line <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb45-2100"><a href="#cb45-2100" aria-hidden="true" tabindex="-1"></a>polygon_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"grey10"</span>, <span class="st">"lightcyan"</span>)</span>
<span id="cb45-2101"><a href="#cb45-2101" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb45-2102"><a href="#cb45-2102" aria-hidden="true" tabindex="-1"></a>reg_test <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb45-2103"><a href="#cb45-2103" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> <span class="st">"longdash"</span></span>
<span id="cb45-2104"><a href="#cb45-2104" aria-hidden="true" tabindex="-1"></a>reg_color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb45-2105"><a href="#cb45-2105" aria-hidden="true" tabindex="-1"></a>breaks_y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>)</span>
<span id="cb45-2106"><a href="#cb45-2106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2107"><a href="#cb45-2107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2108"><a href="#cb45-2108" aria-hidden="true" tabindex="-1"></a>es_level_fp_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2109"><a href="#cb45-2109" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-2110"><a href="#cb45-2110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-2111"><a href="#cb45-2111" aria-hidden="true" tabindex="-1"></a>    <span class="at">level =</span> <span class="st">"Effect size level"</span>,</span>
<span id="cb45-2112"><a href="#cb45-2112" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_bias =</span> <span class="fu">case_when</span>(</span>
<span id="cb45-2113"><a href="#cb45-2113" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> D5 <span class="sc">==</span> <span class="st">"Low"</span> <span class="sc">~</span> <span class="st">"Low"</span>,</span>
<span id="cb45-2114"><a href="#cb45-2114" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(D5, <span class="st">"Some"</span>) <span class="sc">~</span> <span class="st">"Moderate"</span>,</span>
<span id="cb45-2115"><a href="#cb45-2115" aria-hidden="true" tabindex="-1"></a>      rob_tool <span class="sc">==</span> <span class="st">"RoB2"</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(D5, <span class="st">"High"</span>) <span class="sc">~</span> <span class="st">"Serious"</span>,</span>
<span id="cb45-2116"><a href="#cb45-2116" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> D7</span>
<span id="cb45-2117"><a href="#cb45-2117" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-2118"><a href="#cb45-2118" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2119"><a href="#cb45-2119" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_bias =</span> <span class="fu">factor</span>(report_bias, <span class="at">levels =</span>  <span class="fu">c</span>(<span class="st">"Low"</span>, <span class="st">"Moderate"</span>, <span class="st">"Serious"</span>)),</span>
<span id="cb45-2120"><a href="#cb45-2120" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2121"><a href="#cb45-2121" aria-hidden="true" tabindex="-1"></a>    <span class="at">large_sample =</span> <span class="fu">if_else</span>(N_total <span class="sc">&gt;</span> <span class="dv">100</span>, <span class="st">"Sample above 100"</span>, <span class="st">"Sample below 100"</span>)</span>
<span id="cb45-2122"><a href="#cb45-2122" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2123"><a href="#cb45-2123" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2124"><a href="#cb45-2124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb45-2125"><a href="#cb45-2125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-2126"><a href="#cb45-2126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-2127"><a href="#cb45-2127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp1_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb45-2128"><a href="#cb45-2128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-2129"><a href="#cb45-2129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_mental, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb45-2130"><a href="#cb45-2130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-2131"><a href="#cb45-2131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_mental, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb45-2132"><a href="#cb45-2132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop, <span class="at">color =</span> overall_rob), <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb45-2133"><a href="#cb45-2133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb45-2134"><a href="#cb45-2134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(level<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb45-2135"><a href="#cb45-2135" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp1_mental, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb45-2136"><a href="#cb45-2136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb45-2137"><a href="#cb45-2137" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb45-2138"><a href="#cb45-2138" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Low"</span> <span class="ot">=</span> <span class="st">"green3"</span>, <span class="st">"Some concerns/Moderate"</span> <span class="ot">=</span> <span class="st">"yellow2"</span>, <span class="st">"Serious/High"</span> <span class="ot">=</span> <span class="st">"red"</span>)</span>
<span id="cb45-2139"><a href="#cb45-2139" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb45-2140"><a href="#cb45-2140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb45-2141"><a href="#cb45-2141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Modified standard error"</span>, </span>
<span id="cb45-2142"><a href="#cb45-2142" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Standardized mean difference (Hedges' g)"</span>, </span>
<span id="cb45-2143"><a href="#cb45-2143" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb45-2144"><a href="#cb45-2144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb45-2145"><a href="#cb45-2145" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb45-2146"><a href="#cb45-2146" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb45-2147"><a href="#cb45-2147" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb45-2148"><a href="#cb45-2148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Overall risk of bias"</span>) <span class="sc">+</span></span>
<span id="cb45-2149"><a href="#cb45-2149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb45-2150"><a href="#cb45-2150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2151"><a href="#cb45-2151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2152"><a href="#cb45-2152" aria-hidden="true" tabindex="-1"></a><span class="co"># Make aggregate plot</span></span>
<span id="cb45-2153"><a href="#cb45-2153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2154"><a href="#cb45-2154" aria-hidden="true" tabindex="-1"></a>mental_dat_agg <span class="ot">&lt;-</span> </span>
<span id="cb45-2155"><a href="#cb45-2155" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-2156"><a href="#cb45-2156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">escalc</span>(<span class="at">measure =</span> <span class="st">"SMD"</span>, <span class="at">yi =</span> gt_pop, <span class="at">vi =</span> Wgt_pop, <span class="at">data =</span> _) <span class="sc">|&gt;</span> </span>
<span id="cb45-2157"><a href="#cb45-2157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aggregate.escalc</span>(<span class="at">cluster =</span> study, <span class="at">rho =</span> <span class="fl">0.8</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-2158"><a href="#cb45-2158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-2159"><a href="#cb45-2159" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">sqrt</span>(vi)</span>
<span id="cb45-2160"><a href="#cb45-2160" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2161"><a href="#cb45-2161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2162"><a href="#cb45-2162" aria-hidden="true" tabindex="-1"></a>prereg_dat_agg_mental <span class="ot">&lt;-</span>  </span>
<span id="cb45-2163"><a href="#cb45-2163" aria-hidden="true" tabindex="-1"></a>  mental_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb45-2164"><a href="#cb45-2164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-2165"><a href="#cb45-2165" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb45-2166"><a href="#cb45-2166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2167"><a href="#cb45-2167" aria-hidden="true" tabindex="-1"></a>egg_prereg_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2168"><a href="#cb45-2168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(<span class="at">yi =</span> yi, <span class="at">vi =</span> vi, <span class="at">data =</span> prereg_dat_agg_mental, <span class="at">control=</span><span class="fu">list</span>(<span class="at">stepadj=</span><span class="fl">0.5</span>, <span class="at">maxiter=</span><span class="dv">1000</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb45-2169"><a href="#cb45-2169" aria-hidden="true" tabindex="-1"></a>  <span class="fu">regtest</span>()</span>
<span id="cb45-2170"><a href="#cb45-2170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2171"><a href="#cb45-2171" aria-hidden="true" tabindex="-1"></a>egg_prereg_agg_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2172"><a href="#cb45-2172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2173"><a href="#cb45-2173" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb45-2174"><a href="#cb45-2174" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_agg_mental<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-2175"><a href="#cb45-2175" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_agg_mental<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-2176"><a href="#cb45-2176" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2177"><a href="#cb45-2177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2178"><a href="#cb45-2178" aria-hidden="true" tabindex="-1"></a>notprereg_dat_agg_mental <span class="ot">&lt;-</span>  </span>
<span id="cb45-2179"><a href="#cb45-2179" aria-hidden="true" tabindex="-1"></a>  mental_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb45-2180"><a href="#cb45-2180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-2181"><a href="#cb45-2181" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb45-2182"><a href="#cb45-2182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2183"><a href="#cb45-2183" aria-hidden="true" tabindex="-1"></a>egg_notprereg_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2184"><a href="#cb45-2184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(<span class="at">yi =</span> yi, <span class="at">vi =</span> vi, <span class="at">data =</span> notprereg_dat_agg_mental) <span class="sc">|&gt;</span> </span>
<span id="cb45-2185"><a href="#cb45-2185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">regtest</span>()</span>
<span id="cb45-2186"><a href="#cb45-2186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2187"><a href="#cb45-2187" aria-hidden="true" tabindex="-1"></a>egg_notprereg_agg_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2188"><a href="#cb45-2188" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2189"><a href="#cb45-2189" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Not preregistered"</span>,</span>
<span id="cb45-2190"><a href="#cb45-2190" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_notprereg_agg_mental<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-2191"><a href="#cb45-2191" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_notprereg_agg_mental<span class="sc">$</span>fit<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-2192"><a href="#cb45-2192" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2193"><a href="#cb45-2193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2194"><a href="#cb45-2194" aria-hidden="true" tabindex="-1"></a>egg_res_agg_subgrouped_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2195"><a href="#cb45-2195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb45-2196"><a href="#cb45-2196" aria-hidden="true" tabindex="-1"></a>    egg_notprereg_agg_res_mental, </span>
<span id="cb45-2197"><a href="#cb45-2197" aria-hidden="true" tabindex="-1"></a>    egg_prereg_agg_res_mental</span>
<span id="cb45-2198"><a href="#cb45-2198" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2199"><a href="#cb45-2199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2200"><a href="#cb45-2200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2201"><a href="#cb45-2201" aria-hidden="true" tabindex="-1"></a>means_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2202"><a href="#cb45-2202" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma</span>(yi, vi, <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>, <span class="at">data =</span> mental_dat_agg) <span class="sc">|&gt;</span> </span>
<span id="cb45-2203"><a href="#cb45-2203" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2204"><a href="#cb45-2204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2205"><a href="#cb45-2205" aria-hidden="true" tabindex="-1"></a>subgroup_means_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2206"><a href="#cb45-2206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2207"><a href="#cb45-2207" aria-hidden="true" tabindex="-1"></a>    <span class="at">Moderator =</span> <span class="fu">c</span>(<span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>),</span>
<span id="cb45-2208"><a href="#cb45-2208" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_effect =</span> <span class="fu">as.numeric</span>(means_agg_mental<span class="sc">$</span>b), </span>
<span id="cb45-2209"><a href="#cb45-2209" aria-hidden="true" tabindex="-1"></a>    <span class="at">LL =</span> <span class="fu">as.numeric</span>(means_agg_mental<span class="sc">$</span>ci.lb), </span>
<span id="cb45-2210"><a href="#cb45-2210" aria-hidden="true" tabindex="-1"></a>    <span class="at">UL =</span> <span class="fu">as.numeric</span>(means_agg_mental<span class="sc">$</span>ci.ub)</span>
<span id="cb45-2211"><a href="#cb45-2211" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2212"><a href="#cb45-2212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2213"><a href="#cb45-2213" aria-hidden="true" tabindex="-1"></a>subgroup_dat_agg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2214"><a href="#cb45-2214" aria-hidden="true" tabindex="-1"></a>  mental_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb45-2215"><a href="#cb45-2215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-2216"><a href="#cb45-2216" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb45-2217"><a href="#cb45-2217" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse_pop =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb45-2218"><a href="#cb45-2218" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb45-2219"><a href="#cb45-2219" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb45-2220"><a href="#cb45-2220" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2221"><a href="#cb45-2221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr) <span class="sc">|&gt;</span> </span>
<span id="cb45-2222"><a href="#cb45-2222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means_agg_mental, egg_res_agg_subgrouped_mental) <span class="sc">|&gt;</span> </span>
<span id="cb45-2223"><a href="#cb45-2223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>), <span class="at">level =</span> <span class="st">"Study level"</span>) </span>
<span id="cb45-2224"><a href="#cb45-2224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2225"><a href="#cb45-2225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2226"><a href="#cb45-2226" aria-hidden="true" tabindex="-1"></a><span class="co">#subgroup_dat &lt;- </span></span>
<span id="cb45-2227"><a href="#cb45-2227" aria-hidden="true" tabindex="-1"></a><span class="co">#  reintergation_dat |&gt; </span></span>
<span id="cb45-2228"><a href="#cb45-2228" aria-hidden="true" tabindex="-1"></a><span class="co">#  summarise(</span></span>
<span id="cb45-2229"><a href="#cb45-2229" aria-hidden="true" tabindex="-1"></a><span class="co">#    gt = mean(gt),</span></span>
<span id="cb45-2230"><a href="#cb45-2230" aria-hidden="true" tabindex="-1"></a><span class="co">#    Wse = mean(Wse),</span></span>
<span id="cb45-2231"><a href="#cb45-2231" aria-hidden="true" tabindex="-1"></a><span class="co">#    analysis_plan = analysis_plan[1],</span></span>
<span id="cb45-2232"><a href="#cb45-2232" aria-hidden="true" tabindex="-1"></a><span class="co">#    .by = prereg_chr</span></span>
<span id="cb45-2233"><a href="#cb45-2233" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb45-2234"><a href="#cb45-2234" aria-hidden="true" tabindex="-1"></a><span class="co">#  bind_cols(subgroup_means[2:3,], egg_res_subgrouped) |&gt; </span></span>
<span id="cb45-2235"><a href="#cb45-2235" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(slope_low = qnorm(0.025), slope_high = qnorm(0.975), level = "Effect size level") </span></span>
<span id="cb45-2236"><a href="#cb45-2236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2237"><a href="#cb45-2237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2238"><a href="#cb45-2238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2239"><a href="#cb45-2239" aria-hidden="true" tabindex="-1"></a>y_lim_exp2_mental <span class="ot">&lt;-</span> <span class="fu">max</span>(mental_dat_agg<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb45-2240"><a href="#cb45-2240" aria-hidden="true" tabindex="-1"></a>y_lim_exp2_mental  </span>
<span id="cb45-2241"><a href="#cb45-2241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2242"><a href="#cb45-2242" aria-hidden="true" tabindex="-1"></a>funnel_exp2_mental <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb45-2243"><a href="#cb45-2243" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb45-2244"><a href="#cb45-2244" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb45-2245"><a href="#cb45-2245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp2_mental, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp2_mental, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp2_mental, y_lim_exp2_mental,</span>
<span id="cb45-2246"><a href="#cb45-2246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp2_mental, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp2_mental, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp2_mental, y_lim_exp2_mental,</span>
<span id="cb45-2247"><a href="#cb45-2247" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb45-2248"><a href="#cb45-2248" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb45-2249"><a href="#cb45-2249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2250"><a href="#cb45-2250" aria-hidden="true" tabindex="-1"></a>study_level_fp_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2251"><a href="#cb45-2251" aria-hidden="true" tabindex="-1"></a>  mental_dat_agg <span class="sc">|&gt;</span> </span>
<span id="cb45-2252"><a href="#cb45-2252" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">level =</span> <span class="st">"Study level"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-2253"><a href="#cb45-2253" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb45-2254"><a href="#cb45-2254" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-2255"><a href="#cb45-2255" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-2256"><a href="#cb45-2256" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp2_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb45-2257"><a href="#cb45-2257" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-2258"><a href="#cb45-2258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_agg_mental, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb45-2259"><a href="#cb45-2259" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-2260"><a href="#cb45-2260" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_agg_mental, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb45-2261"><a href="#cb45-2261" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop), <span class="at">alpha =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb45-2262"><a href="#cb45-2262" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb45-2263"><a href="#cb45-2263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb45-2264"><a href="#cb45-2264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(level<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb45-2265"><a href="#cb45-2265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp2_mental, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb45-2266"><a href="#cb45-2266" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb45-2267"><a href="#cb45-2267" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb45-2268"><a href="#cb45-2268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb45-2269"><a href="#cb45-2269" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb45-2270"><a href="#cb45-2270" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2271"><a href="#cb45-2271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2272"><a href="#cb45-2272" aria-hidden="true" tabindex="-1"></a>ylab_mental <span class="ot">&lt;-</span> es_level_fp_mental<span class="sc">$</span>labels<span class="sc">$</span>x</span>
<span id="cb45-2273"><a href="#cb45-2273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2274"><a href="#cb45-2274" aria-hidden="true" tabindex="-1"></a>study_level_fp_mental<span class="sc">$</span>labels<span class="sc">$</span>x <span class="ot">&lt;-</span> es_level_fp_mental<span class="sc">$</span>labels<span class="sc">$</span>x <span class="ot">&lt;-</span> <span class="st">""</span> </span>
<span id="cb45-2275"><a href="#cb45-2275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2276"><a href="#cb45-2276" aria-hidden="true" tabindex="-1"></a><span class="co">#png("plots/funnel plots (overall effect) across type of mental health.png", width = 6.5, height = 5, res = 300, unit = "in")</span></span>
<span id="cb45-2277"><a href="#cb45-2277" aria-hidden="true" tabindex="-1"></a>study_level_fp_mental <span class="sc">/</span> es_level_fp_mental</span>
<span id="cb45-2278"><a href="#cb45-2278" aria-hidden="true" tabindex="-1"></a>grid<span class="sc">::</span><span class="fu">grid.draw</span>(grid<span class="sc">::</span><span class="fu">textGrob</span>(ylab_mental, <span class="at">y =</span> <span class="fl">0.6</span>, <span class="at">x =</span> <span class="fl">0.02</span>, <span class="at">rot =</span> <span class="dv">90</span>))</span>
<span id="cb45-2279"><a href="#cb45-2279" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off()</span></span>
<span id="cb45-2280"><a href="#cb45-2280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2281"><a href="#cb45-2281" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-2282"><a href="#cb45-2282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2283"><a href="#cb45-2283" aria-hidden="true" tabindex="-1"></a><span class="fu">### Investigating the impact of Cano-Vindel et al.</span></span>
<span id="cb45-2284"><a href="#cb45-2284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2285"><a href="#cb45-2285" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reint-overall-fp-cano-mental}</span></span>
<span id="cb45-2286"><a href="#cb45-2286" aria-hidden="true" tabindex="-1"></a>prereg_dat_cano_mental <span class="ot">&lt;-</span>  </span>
<span id="cb45-2287"><a href="#cb45-2287" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span> </span>
<span id="cb45-2288"><a href="#cb45-2288" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(conventional <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-2289"><a href="#cb45-2289" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-2290"><a href="#cb45-2290" aria-hidden="true" tabindex="-1"></a>    <span class="at">cano_vindel =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(study, <span class="st">"Cano"</span>), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb45-2291"><a href="#cb45-2291" aria-hidden="true" tabindex="-1"></a>    <span class="at">cano_vindel =</span> <span class="fu">factor</span>(cano_vindel)</span>
<span id="cb45-2292"><a href="#cb45-2292" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2293"><a href="#cb45-2293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2294"><a href="#cb45-2294" aria-hidden="true" tabindex="-1"></a>V_mat_prereg_cano_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2295"><a href="#cb45-2295" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-2296"><a href="#cb45-2296" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_cano_mental,</span>
<span id="cb45-2297"><a href="#cb45-2297" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-2298"><a href="#cb45-2298" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-2299"><a href="#cb45-2299" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-2300"><a href="#cb45-2300" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-2301"><a href="#cb45-2301" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-2302"><a href="#cb45-2302" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-2303"><a href="#cb45-2303" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-2304"><a href="#cb45-2304" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-2305"><a href="#cb45-2305" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2306"><a href="#cb45-2306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2307"><a href="#cb45-2307" aria-hidden="true" tabindex="-1"></a>W_prereg_cano_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_prereg_cano_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb45-2308"><a href="#cb45-2308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2309"><a href="#cb45-2309" aria-hidden="true" tabindex="-1"></a>egg_prereg_cano_mental <span class="ot">&lt;-</span></span>
<span id="cb45-2310"><a href="#cb45-2310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2311"><a href="#cb45-2311" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-2312"><a href="#cb45-2312" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_prereg_cano_mental,</span>
<span id="cb45-2313"><a href="#cb45-2313" aria-hidden="true" tabindex="-1"></a>    <span class="co">#W = W_prereg_cano_mental,</span></span>
<span id="cb45-2314"><a href="#cb45-2314" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop <span class="sc">+</span> cano_vindel,</span>
<span id="cb45-2315"><a href="#cb45-2315" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2316"><a href="#cb45-2316" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> prereg_dat_cano_mental,</span>
<span id="cb45-2317"><a href="#cb45-2317" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2318"><a href="#cb45-2318" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2319"><a href="#cb45-2319" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2320"><a href="#cb45-2320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2321"><a href="#cb45-2321" aria-hidden="true" tabindex="-1"></a>egg_prereg_res_cano_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2322"><a href="#cb45-2322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2323"><a href="#cb45-2323" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> <span class="st">"Preregistered"</span>,</span>
<span id="cb45-2324"><a href="#cb45-2324" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_intercept =</span> <span class="fu">as.numeric</span>(egg_prereg_cano_mental<span class="sc">$</span>b[<span class="dv">1</span>]),</span>
<span id="cb45-2325"><a href="#cb45-2325" aria-hidden="true" tabindex="-1"></a>    <span class="at">egg_slope =</span> <span class="fu">as.numeric</span>(egg_prereg_cano_mental<span class="sc">$</span>b[<span class="dv">2</span>])</span>
<span id="cb45-2326"><a href="#cb45-2326" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2327"><a href="#cb45-2327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2328"><a href="#cb45-2328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2329"><a href="#cb45-2329" aria-hidden="true" tabindex="-1"></a>subgroup_dat_cano_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2330"><a href="#cb45-2330" aria-hidden="true" tabindex="-1"></a>  prereg_dat_cano_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2331"><a href="#cb45-2331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-2332"><a href="#cb45-2332" aria-hidden="true" tabindex="-1"></a>    <span class="at">gt_pop =</span> <span class="fu">mean</span>(gt_pop),</span>
<span id="cb45-2333"><a href="#cb45-2333" aria-hidden="true" tabindex="-1"></a>    <span class="at">Wse =</span> <span class="fu">mean</span>(Wse_pop),</span>
<span id="cb45-2334"><a href="#cb45-2334" aria-hidden="true" tabindex="-1"></a>    <span class="at">outcome_type =</span> outcome_type[<span class="dv">1</span>],</span>
<span id="cb45-2335"><a href="#cb45-2335" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb45-2336"><a href="#cb45-2336" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2337"><a href="#cb45-2337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_cols</span>(subgroup_means_mental[<span class="dv">3</span>, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">14</span><span class="sc">:</span><span class="dv">18</span>)], egg_prereg_res_cano_mental) <span class="sc">|&gt;</span> </span>
<span id="cb45-2338"><a href="#cb45-2338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope_low =</span> <span class="fu">qnorm</span>(<span class="fl">0.025</span>), <span class="at">slope_high =</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>)) </span>
<span id="cb45-2339"><a href="#cb45-2339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2340"><a href="#cb45-2340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2341"><a href="#cb45-2341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2342"><a href="#cb45-2342" aria-hidden="true" tabindex="-1"></a>y_lim_exp_cano_mental <span class="ot">&lt;-</span> <span class="fu">max</span>(prereg_dat_cano_mental<span class="sc">$</span>Wse_pop) <span class="sc">+</span> <span class="fl">0.02</span> </span>
<span id="cb45-2343"><a href="#cb45-2343" aria-hidden="true" tabindex="-1"></a>y_lim_exp_cano_mental  </span>
<span id="cb45-2344"><a href="#cb45-2344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2345"><a href="#cb45-2345" aria-hidden="true" tabindex="-1"></a>funnel_exp_cano_mental <span class="ot">&lt;-</span>  <span class="fu">tribble</span>(</span>
<span id="cb45-2346"><a href="#cb45-2346" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span> x90, <span class="sc">~</span> x95, <span class="sc">~</span> x99, <span class="sc">~</span> y,</span>
<span id="cb45-2347"><a href="#cb45-2347" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,</span>
<span id="cb45-2348"><a href="#cb45-2348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.05</span>) <span class="sc">*</span> y_lim_exp_cano_mental, <span class="fu">qnorm</span>(<span class="fl">0.025</span>) <span class="sc">*</span> y_lim_exp_cano_mental, <span class="fu">qnorm</span>(<span class="fl">0.005</span>) <span class="sc">*</span> y_lim_exp_cano_mental, y_lim_exp_cano_mental,</span>
<span id="cb45-2349"><a href="#cb45-2349" aria-hidden="true" tabindex="-1"></a>  <span class="fu">qnorm</span>(<span class="fl">0.95</span>) <span class="sc">*</span> y_lim_exp_cano_mental, <span class="fu">qnorm</span>(<span class="fl">0.975</span>) <span class="sc">*</span> y_lim_exp_cano_mental, <span class="fu">qnorm</span>(<span class="fl">0.995</span>) <span class="sc">*</span> y_lim_exp_cano_mental, y_lim_exp_cano_mental,</span>
<span id="cb45-2350"><a href="#cb45-2350" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span>,     <span class="dv">0</span></span>
<span id="cb45-2351"><a href="#cb45-2351" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb45-2352"><a href="#cb45-2352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2353"><a href="#cb45-2353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2354"><a href="#cb45-2354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2355"><a href="#cb45-2355" aria-hidden="true" tabindex="-1"></a>alpha_line <span class="ot">&lt;-</span> <span class="fl">0.5</span></span>
<span id="cb45-2356"><a href="#cb45-2356" aria-hidden="true" tabindex="-1"></a>polygon_fill <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"grey"</span>, <span class="st">"grey10"</span>, <span class="st">"lightcyan"</span>)</span>
<span id="cb45-2357"><a href="#cb45-2357" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="st">"dashed"</span></span>
<span id="cb45-2358"><a href="#cb45-2358" aria-hidden="true" tabindex="-1"></a>reg_test <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb45-2359"><a href="#cb45-2359" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> <span class="st">"longdash"</span></span>
<span id="cb45-2360"><a href="#cb45-2360" aria-hidden="true" tabindex="-1"></a>reg_color <span class="ot">&lt;-</span> <span class="st">"blue"</span></span>
<span id="cb45-2361"><a href="#cb45-2361" aria-hidden="true" tabindex="-1"></a>breaks_y <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.5</span>)</span>
<span id="cb45-2362"><a href="#cb45-2362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2363"><a href="#cb45-2363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2364"><a href="#cb45-2364" aria-hidden="true" tabindex="-1"></a>cano_fp_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2365"><a href="#cb45-2365" aria-hidden="true" tabindex="-1"></a>  prereg_dat_cano_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2366"><a href="#cb45-2366" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">alpha_val =</span> <span class="fu">if_else</span>(cano_vindel <span class="sc">==</span> <span class="dv">1</span>, <span class="fl">0.9</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb45-2367"><a href="#cb45-2367" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb45-2368"><a href="#cb45-2368" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x99), <span class="at">fill =</span> polygon_fill[<span class="dv">1</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-2369"><a href="#cb45-2369" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x95), <span class="at">fill =</span> polygon_fill[<span class="dv">2</span>], <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb45-2370"><a href="#cb45-2370" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> funnel_exp_cano_mental, <span class="fu">aes</span>(<span class="at">x =</span> y, <span class="at">y =</span> x90), <span class="at">fill =</span> polygon_fill[<span class="dv">3</span>], <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb45-2371"><a href="#cb45-2371" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_high, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-2372"><a href="#cb45-2372" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> subgroup_dat_cano_mental, <span class="fu">aes</span>(<span class="at">yintercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span>  </span>
<span id="cb45-2373"><a href="#cb45-2373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano_mental, <span class="fu">aes</span>(<span class="at">slope =</span> slope_low, <span class="at">intercept =</span> avg_effect), <span class="at">linetype =</span> mean_line, <span class="at">alpha =</span> alpha_line) <span class="sc">+</span> </span>
<span id="cb45-2374"><a href="#cb45-2374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">data =</span> subgroup_dat_cano_mental, <span class="fu">aes</span>(<span class="at">slope =</span> <span class="sc">-</span>egg_slope, <span class="at">intercept =</span> egg_intercept), <span class="at">linetype =</span> reg_line, <span class="at">color =</span> reg_color) <span class="sc">+</span></span>
<span id="cb45-2375"><a href="#cb45-2375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(Wse_pop, gt_pop, <span class="at">col =</span> cano_vindel, <span class="at">alpha =</span> alpha_val), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb45-2376"><a href="#cb45-2376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">type =</span> <span class="st">"qual"</span>, <span class="at">palette =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb45-2377"><a href="#cb45-2377" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb45-2378"><a href="#cb45-2378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>prereg_chr) <span class="sc">+</span></span>
<span id="cb45-2379"><a href="#cb45-2379" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(y_lim_exp_cano_mental, <span class="fl">0.0</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb45-2380"><a href="#cb45-2380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> breaks_y) <span class="sc">+</span> </span>
<span id="cb45-2381"><a href="#cb45-2381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb45-2382"><a href="#cb45-2382" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Modified standard error"</span>, </span>
<span id="cb45-2383"><a href="#cb45-2383" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Standardized mean difference (Hedges' g)"</span>, </span>
<span id="cb45-2384"><a href="#cb45-2384" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">""</span>, <span class="at">shape =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb45-2385"><a href="#cb45-2385" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb45-2386"><a href="#cb45-2386" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span></span>
<span id="cb45-2387"><a href="#cb45-2387" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb45-2388"><a href="#cb45-2388" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Cano-vindel"</span>) <span class="sc">+</span></span>
<span id="cb45-2389"><a href="#cb45-2389" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="st">"none"</span>, <span class="at">alpha =</span> <span class="st">"none"</span>)</span>
<span id="cb45-2390"><a href="#cb45-2390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2391"><a href="#cb45-2391" aria-hidden="true" tabindex="-1"></a><span class="co">#png("plots/funnel plots (overall effect) without Cano-Vindel.png", width = 8, height = 5.5, res = 300, unit = "in")</span></span>
<span id="cb45-2392"><a href="#cb45-2392" aria-hidden="true" tabindex="-1"></a>cano_fp_mental</span>
<span id="cb45-2393"><a href="#cb45-2393" aria-hidden="true" tabindex="-1"></a><span class="co">#dev.off()</span></span>
<span id="cb45-2394"><a href="#cb45-2394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2395"><a href="#cb45-2395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2396"><a href="#cb45-2396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2397"><a href="#cb45-2397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2398"><a href="#cb45-2398" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-2399"><a href="#cb45-2399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2400"><a href="#cb45-2400" aria-hidden="true" tabindex="-1"></a><span class="fu">## Publication bias tests (mental health)</span></span>
<span id="cb45-2401"><a href="#cb45-2401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2402"><a href="#cb45-2402" aria-hidden="true" tabindex="-1"></a><span class="fu">### HYEMA</span></span>
<span id="cb45-2403"><a href="#cb45-2403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2404"><a href="#cb45-2404" aria-hidden="true" tabindex="-1"></a><span class="in">```{r hyema-mental}</span></span>
<span id="cb45-2405"><a href="#cb45-2405" aria-hidden="true" tabindex="-1"></a>hyema_overall_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/hyema_overall_mental.rds"</span>)</span>
<span id="cb45-2406"><a href="#cb45-2406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2407"><a href="#cb45-2407" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall res mental health (Robust HYEMA)</span></span>
<span id="cb45-2408"><a href="#cb45-2408" aria-hidden="true" tabindex="-1"></a>hyema_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2409"><a href="#cb45-2409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2410"><a href="#cb45-2410" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Robust HYEMA"</span>,</span>
<span id="cb45-2411"><a href="#cb45-2411" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-2412"><a href="#cb45-2412" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(mental_ma_dat),</span>
<span id="cb45-2413"><a href="#cb45-2413" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-2414"><a href="#cb45-2414" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(hyema_overall_mental<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb45-2415"><a href="#cb45-2415" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-2416"><a href="#cb45-2416" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(hyema_overall_mental<span class="sc">$</span>CIL_bootstrap[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-2417"><a href="#cb45-2417" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-2418"><a href="#cb45-2418" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(hyema_overall_mental<span class="sc">$</span>CIU_bootstrap[<span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-2419"><a href="#cb45-2419" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-2420"><a href="#cb45-2420" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-2421"><a href="#cb45-2421" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-2422"><a href="#cb45-2422" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(hyema_overall_mental<span class="sc">$</span>Est[<span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-2423"><a href="#cb45-2423" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-2424"><a href="#cb45-2424" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> hyema_overall_mental<span class="sc">$</span>Est[<span class="dv">2</span>],</span>
<span id="cb45-2425"><a href="#cb45-2425" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-2426"><a href="#cb45-2426" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb45-2427"><a href="#cb45-2427" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2428"><a href="#cb45-2428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2429"><a href="#cb45-2429" aria-hidden="true" tabindex="-1"></a><span class="co"># HYEMA across outcome</span></span>
<span id="cb45-2430"><a href="#cb45-2430" aria-hidden="true" tabindex="-1"></a>hyema_outcome_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/hyema_overcome_mental.rds"</span>)</span>
<span id="cb45-2431"><a href="#cb45-2431" aria-hidden="true" tabindex="-1"></a>hyema_outcome_f_stat_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/F_boot_pval_outcome_mental.rds"</span>)</span>
<span id="cb45-2432"><a href="#cb45-2432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2433"><a href="#cb45-2433" aria-hidden="true" tabindex="-1"></a><span class="co"># To temporarily get tau</span></span>
<span id="cb45-2434"><a href="#cb45-2434" aria-hidden="true" tabindex="-1"></a><span class="co">#hyema_obj_mental &lt;- </span></span>
<span id="cb45-2435"><a href="#cb45-2435" aria-hidden="true" tabindex="-1"></a><span class="co">#  puniform::hybrid(</span></span>
<span id="cb45-2436"><a href="#cb45-2436" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = mental_ma_dat$gt_pop, </span></span>
<span id="cb45-2437"><a href="#cb45-2437" aria-hidden="true" tabindex="-1"></a><span class="co">#    vi = mental_ma_dat$Wgt_pop, </span></span>
<span id="cb45-2438"><a href="#cb45-2438" aria-hidden="true" tabindex="-1"></a><span class="co">#    conventional = mental_ma_dat$conventional, </span></span>
<span id="cb45-2439"><a href="#cb45-2439" aria-hidden="true" tabindex="-1"></a><span class="co">#    side = "right",</span></span>
<span id="cb45-2440"><a href="#cb45-2440" aria-hidden="true" tabindex="-1"></a><span class="co">#    mods = ~ mental_ma_dat$outcome_type - 1</span></span>
<span id="cb45-2441"><a href="#cb45-2441" aria-hidden="true" tabindex="-1"></a><span class="co">#  ) |&gt; </span></span>
<span id="cb45-2442"><a href="#cb45-2442" aria-hidden="true" tabindex="-1"></a><span class="co">#  suppressWarnings()</span></span>
<span id="cb45-2443"><a href="#cb45-2443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2444"><a href="#cb45-2444" aria-hidden="true" tabindex="-1"></a>hyema_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2445"><a href="#cb45-2445" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2446"><a href="#cb45-2446" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-2447"><a href="#cb45-2447" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb45-2448"><a href="#cb45-2448" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span>),</span>
<span id="cb45-2449"><a href="#cb45-2449" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-2450"><a href="#cb45-2450" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-2451"><a href="#cb45-2451" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(hyema_outcome_mental<span class="sc">$</span>Est[<span class="sc">-</span><span class="dv">5</span>]), <span class="dv">3</span>), </span>
<span id="cb45-2452"><a href="#cb45-2452" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-2453"><a href="#cb45-2453" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(hyema_outcome_mental<span class="sc">$</span>CIL_bootstrap[<span class="sc">-</span><span class="dv">5</span>], <span class="dv">3</span>),</span>
<span id="cb45-2454"><a href="#cb45-2454" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-2455"><a href="#cb45-2455" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(hyema_outcome_mental<span class="sc">$</span>CIU_bootstrap[<span class="sc">-</span><span class="dv">5</span>], <span class="dv">3</span>),</span>
<span id="cb45-2456"><a href="#cb45-2456" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-2457"><a href="#cb45-2457" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2458"><a href="#cb45-2458" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(hyema_outcome_f_stat_mental, <span class="dv">3</span>)),</span>
<span id="cb45-2459"><a href="#cb45-2459" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2460"><a href="#cb45-2460" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2461"><a href="#cb45-2461" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(hyema_outcome_mental<span class="sc">$</span>Est[<span class="dv">5</span>], <span class="dv">3</span>)),</span>
<span id="cb45-2462"><a href="#cb45-2462" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2463"><a href="#cb45-2463" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>( hyema_outcome_mental<span class="sc">$</span>Est[<span class="dv">5</span>], <span class="dv">3</span>)),</span>
<span id="cb45-2464"><a href="#cb45-2464" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-2465"><a href="#cb45-2465" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-2466"><a href="#cb45-2466" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-2467"><a href="#cb45-2467" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2468"><a href="#cb45-2468" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"hyema"</span></span>
<span id="cb45-2469"><a href="#cb45-2469" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2470"><a href="#cb45-2470" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2471"><a href="#cb45-2471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2472"><a href="#cb45-2472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2473"><a href="#cb45-2473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2474"><a href="#cb45-2474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-2475"><a href="#cb45-2475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2476"><a href="#cb45-2476" aria-hidden="true" tabindex="-1"></a><span class="fu">### Puniform*</span></span>
<span id="cb45-2477"><a href="#cb45-2477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2478"><a href="#cb45-2478" aria-hidden="true" tabindex="-1"></a><span class="in">```{r puniform-mental}</span></span>
<span id="cb45-2479"><a href="#cb45-2479" aria-hidden="true" tabindex="-1"></a><span class="co"># Not corrected for clustering as it has showed acceptable performance in</span></span>
<span id="cb45-2480"><a href="#cb45-2480" aria-hidden="true" tabindex="-1"></a><span class="co"># dependent effect size data</span></span>
<span id="cb45-2481"><a href="#cb45-2481" aria-hidden="true" tabindex="-1"></a>puniform_star_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2482"><a href="#cb45-2482" aria-hidden="true" tabindex="-1"></a>  puniform<span class="sc">::</span><span class="fu">puni_star</span>(</span>
<span id="cb45-2483"><a href="#cb45-2483" aria-hidden="true" tabindex="-1"></a>    <span class="at">tobs =</span> mental_ma_dat<span class="sc">$</span>t_i, </span>
<span id="cb45-2484"><a href="#cb45-2484" aria-hidden="true" tabindex="-1"></a>    <span class="at">n1i =</span> mental_ma_dat<span class="sc">$</span>N_t, </span>
<span id="cb45-2485"><a href="#cb45-2485" aria-hidden="true" tabindex="-1"></a>    <span class="at">n2i =</span> mental_ma_dat<span class="sc">$</span>N_c, </span>
<span id="cb45-2486"><a href="#cb45-2486" aria-hidden="true" tabindex="-1"></a>    <span class="at">side =</span> <span class="st">"right"</span></span>
<span id="cb45-2487"><a href="#cb45-2487" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2488"><a href="#cb45-2488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2489"><a href="#cb45-2489" aria-hidden="true" tabindex="-1"></a>puniform_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2490"><a href="#cb45-2490" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2491"><a href="#cb45-2491" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"puniform star"</span>,</span>
<span id="cb45-2492"><a href="#cb45-2492" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-2493"><a href="#cb45-2493" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(mental_ma_dat),</span>
<span id="cb45-2494"><a href="#cb45-2494" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-2495"><a href="#cb45-2495" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(puniform_star_res_mental<span class="sc">$</span>est), <span class="dv">3</span>), </span>
<span id="cb45-2496"><a href="#cb45-2496" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-2497"><a href="#cb45-2497" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(puniform_star_res_mental<span class="sc">$</span>ci.lb, <span class="dv">3</span>),</span>
<span id="cb45-2498"><a href="#cb45-2498" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-2499"><a href="#cb45-2499" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(puniform_star_res_mental<span class="sc">$</span>ci.ub, <span class="dv">3</span>),</span>
<span id="cb45-2500"><a href="#cb45-2500" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-2501"><a href="#cb45-2501" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-2502"><a href="#cb45-2502" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> puniform_star_res_mental<span class="sc">$</span>pval<span class="fl">.0</span>,</span>
<span id="cb45-2503"><a href="#cb45-2503" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">round</span>(<span class="fu">sqrt</span>(puniform_star_res_mental<span class="sc">$</span>tau2), <span class="dv">3</span>),</span>
<span id="cb45-2504"><a href="#cb45-2504" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-2505"><a href="#cb45-2505" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau,</span>
<span id="cb45-2506"><a href="#cb45-2506" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-2507"><a href="#cb45-2507" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb45-2508"><a href="#cb45-2508" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2509"><a href="#cb45-2509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2510"><a href="#cb45-2510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2511"><a href="#cb45-2511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-2512"><a href="#cb45-2512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2513"><a href="#cb45-2513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2514"><a href="#cb45-2514" aria-hidden="true" tabindex="-1"></a><span class="fu">### Worst-case meta-analysis</span></span>
<span id="cb45-2515"><a href="#cb45-2515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2516"><a href="#cb45-2516" aria-hidden="true" tabindex="-1"></a><span class="in">```{r wc-mental}</span></span>
<span id="cb45-2517"><a href="#cb45-2517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2518"><a href="#cb45-2518" aria-hidden="true" tabindex="-1"></a>worst_dat_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2519"><a href="#cb45-2519" aria-hidden="true" tabindex="-1"></a>  mental_ma_dat <span class="sc">|&gt;</span>  </span>
<span id="cb45-2520"><a href="#cb45-2520" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-2521"><a href="#cb45-2521" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="dv">2</span> <span class="sc">*</span> ( <span class="dv">1</span> <span class="sc">-</span> <span class="fu">pnorm</span>( <span class="fu">abs</span>(gt_pop) <span class="sc">/</span> <span class="fu">sqrt</span>(vgt_pop) ) ),</span>
<span id="cb45-2522"><a href="#cb45-2522" aria-hidden="true" tabindex="-1"></a>    <span class="at">affirmativity =</span> <span class="fu">if_else</span>(pval <span class="sc">&lt;</span> .<span class="dv">05</span> <span class="sc">&amp;</span> gt_pop <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"affirmative"</span>, <span class="st">"nonaffirmative"</span>)</span>
<span id="cb45-2523"><a href="#cb45-2523" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2524"><a href="#cb45-2524" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb45-2525"><a href="#cb45-2525" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(affirmativity <span class="sc">==</span> <span class="st">"nonaffirmative"</span>)</span>
<span id="cb45-2526"><a href="#cb45-2526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2527"><a href="#cb45-2527" aria-hidden="true" tabindex="-1"></a>wc_prereg_studies_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2528"><a href="#cb45-2528" aria-hidden="true" tabindex="-1"></a>  worst_dat_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2529"><a href="#cb45-2529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-2530"><a href="#cb45-2530" aria-hidden="true" tabindex="-1"></a>    <span class="at">prereg_chr =</span> <span class="fu">unique</span>(prereg_chr),</span>
<span id="cb45-2531"><a href="#cb45-2531" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> study</span>
<span id="cb45-2532"><a href="#cb45-2532" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2533"><a href="#cb45-2533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-2534"><a href="#cb45-2534" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_studies =</span> <span class="fu">n</span>(),</span>
<span id="cb45-2535"><a href="#cb45-2535" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> prereg_chr</span>
<span id="cb45-2536"><a href="#cb45-2536" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2537"><a href="#cb45-2537" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr)</span>
<span id="cb45-2538"><a href="#cb45-2538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2539"><a href="#cb45-2539" aria-hidden="true" tabindex="-1"></a>wc_prereg_es_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2540"><a href="#cb45-2540" aria-hidden="true" tabindex="-1"></a>  worst_dat_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2541"><a href="#cb45-2541" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_effects =</span> <span class="fu">n</span>(), <span class="at">.by =</span> prereg_chr) <span class="sc">|&gt;</span> </span>
<span id="cb45-2542"><a href="#cb45-2542" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(prereg_chr) </span>
<span id="cb45-2543"><a href="#cb45-2543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2544"><a href="#cb45-2544" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome</span></span>
<span id="cb45-2545"><a href="#cb45-2545" aria-hidden="true" tabindex="-1"></a>wc_outcome_studies_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2546"><a href="#cb45-2546" aria-hidden="true" tabindex="-1"></a>  worst_dat_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2547"><a href="#cb45-2547" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-2548"><a href="#cb45-2548" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(), </span>
<span id="cb45-2549"><a href="#cb45-2549" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> <span class="fu">c</span>(outcome_type, study)</span>
<span id="cb45-2550"><a href="#cb45-2550" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2551"><a href="#cb45-2551" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-2552"><a href="#cb45-2552" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_studies =</span> <span class="fu">n</span>(),</span>
<span id="cb45-2553"><a href="#cb45-2553" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> outcome_type</span>
<span id="cb45-2554"><a href="#cb45-2554" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2555"><a href="#cb45-2555" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(outcome_type)</span>
<span id="cb45-2556"><a href="#cb45-2556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2557"><a href="#cb45-2557" aria-hidden="true" tabindex="-1"></a>wc_outcome_es_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2558"><a href="#cb45-2558" aria-hidden="true" tabindex="-1"></a>  worst_dat_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2559"><a href="#cb45-2559" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_effects =</span> <span class="fu">n</span>(), <span class="at">.by =</span> outcome_type) <span class="sc">|&gt;</span> </span>
<span id="cb45-2560"><a href="#cb45-2560" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(outcome_type) </span>
<span id="cb45-2561"><a href="#cb45-2561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2562"><a href="#cb45-2562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2563"><a href="#cb45-2563" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-2564"><a href="#cb45-2564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2567"><a href="#cb45-2567" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb45-2568"><a href="#cb45-2568" aria-hidden="true" tabindex="-1"></a>res_PubBias_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2569"><a href="#cb45-2569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pubbias_svalue</span>(</span>
<span id="cb45-2570"><a href="#cb45-2570" aria-hidden="true" tabindex="-1"></a>  <span class="at">yi =</span> mental_ma_dat<span class="sc">$</span>gt_pop,</span>
<span id="cb45-2571"><a href="#cb45-2571" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> mental_ma_dat<span class="sc">$</span>Wgt_pop,</span>
<span id="cb45-2572"><a href="#cb45-2572" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> mental_ma_dat<span class="sc">$</span>study,</span>
<span id="cb45-2573"><a href="#cb45-2573" aria-hidden="true" tabindex="-1"></a>  <span class="at">q =</span> <span class="dv">0</span>,</span>
<span id="cb45-2574"><a href="#cb45-2574" aria-hidden="true" tabindex="-1"></a>  <span class="at">model_type =</span> <span class="st">"robust"</span>,</span>
<span id="cb45-2575"><a href="#cb45-2575" aria-hidden="true" tabindex="-1"></a>  <span class="at">favor_positive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb45-2576"><a href="#cb45-2576" aria-hidden="true" tabindex="-1"></a>  <span class="at">return_worst_meta =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2577"><a href="#cb45-2577" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-2578"><a href="#cb45-2578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2579"><a href="#cb45-2579" aria-hidden="true" tabindex="-1"></a>res_PubBias_mental<span class="sc">$</span>stats</span>
<span id="cb45-2580"><a href="#cb45-2580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2581"><a href="#cb45-2581" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb45-2582"><a href="#cb45-2582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2583"><a href="#cb45-2583" aria-hidden="true" tabindex="-1"></a>pubbias_plot_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2584"><a href="#cb45-2584" aria-hidden="true" tabindex="-1"></a>  PublicationBias<span class="sc">::</span><span class="fu">significance_funnel</span>(</span>
<span id="cb45-2585"><a href="#cb45-2585" aria-hidden="true" tabindex="-1"></a>  <span class="at">yi =</span> mental_ma_dat<span class="sc">$</span>gt_pop,</span>
<span id="cb45-2586"><a href="#cb45-2586" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> mental_ma_dat<span class="sc">$</span>Wgt_pop,</span>
<span id="cb45-2587"><a href="#cb45-2587" aria-hidden="true" tabindex="-1"></a>  <span class="at">favor_positive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb45-2588"><a href="#cb45-2588" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha_select =</span> <span class="fl">0.05</span></span>
<span id="cb45-2589"><a href="#cb45-2589" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-2590"><a href="#cb45-2590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2591"><a href="#cb45-2591" aria-hidden="true" tabindex="-1"></a>pubbias_plot_mental</span>
<span id="cb45-2592"><a href="#cb45-2592" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-2593"><a href="#cb45-2593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2594"><a href="#cb45-2594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2597"><a href="#cb45-2597" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb45-2598"><a href="#cb45-2598" aria-hidden="true" tabindex="-1"></a><span class="co">#wc = worst_case</span></span>
<span id="cb45-2599"><a href="#cb45-2599" aria-hidden="true" tabindex="-1"></a>V_mat_wc_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2600"><a href="#cb45-2600" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-2601"><a href="#cb45-2601" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb45-2602"><a href="#cb45-2602" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-2603"><a href="#cb45-2603" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-2604"><a href="#cb45-2604" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-2605"><a href="#cb45-2605" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-2606"><a href="#cb45-2606" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-2607"><a href="#cb45-2607" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-2608"><a href="#cb45-2608" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-2609"><a href="#cb45-2609" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-2610"><a href="#cb45-2610" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2611"><a href="#cb45-2611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2612"><a href="#cb45-2612" aria-hidden="true" tabindex="-1"></a><span class="do">#############</span></span>
<span id="cb45-2613"><a href="#cb45-2613" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall res</span></span>
<span id="cb45-2614"><a href="#cb45-2614" aria-hidden="true" tabindex="-1"></a><span class="do">#############</span></span>
<span id="cb45-2615"><a href="#cb45-2615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2616"><a href="#cb45-2616" aria-hidden="true" tabindex="-1"></a>wc_overall_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2617"><a href="#cb45-2617" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2618"><a href="#cb45-2618" aria-hidden="true" tabindex="-1"></a>    gt_pop,</span>
<span id="cb45-2619"><a href="#cb45-2619" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_mental, </span>
<span id="cb45-2620"><a href="#cb45-2620" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2621"><a href="#cb45-2621" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb45-2622"><a href="#cb45-2622" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2623"><a href="#cb45-2623" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2624"><a href="#cb45-2624" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2625"><a href="#cb45-2625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2626"><a href="#cb45-2626" aria-hidden="true" tabindex="-1"></a>wc_overall_mental</span>
<span id="cb45-2627"><a href="#cb45-2627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2628"><a href="#cb45-2628" aria-hidden="true" tabindex="-1"></a>wc_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2629"><a href="#cb45-2629" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.pubbias_overall_tab</span>(</span>
<span id="cb45-2630"><a href="#cb45-2630" aria-hidden="true" tabindex="-1"></a>    <span class="at">rma_obj =</span> wc_overall_mental, </span>
<span id="cb45-2631"><a href="#cb45-2631" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Worst case"</span>,</span>
<span id="cb45-2632"><a href="#cb45-2632" aria-hidden="true" tabindex="-1"></a>    <span class="at">studies =</span> <span class="fu">n_distinct</span>(worst_dat_mental<span class="sc">$</span>study),</span>
<span id="cb45-2633"><a href="#cb45-2633" aria-hidden="true" tabindex="-1"></a>    <span class="at">effects =</span> <span class="fu">nrow</span>(worst_dat_mental)</span>
<span id="cb45-2634"><a href="#cb45-2634" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb45-2635"><a href="#cb45-2635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2636"><a href="#cb45-2636" aria-hidden="true" tabindex="-1"></a><span class="do">###########</span></span>
<span id="cb45-2637"><a href="#cb45-2637" aria-hidden="true" tabindex="-1"></a><span class="co"># Pregreg</span></span>
<span id="cb45-2638"><a href="#cb45-2638" aria-hidden="true" tabindex="-1"></a><span class="do">###########</span></span>
<span id="cb45-2639"><a href="#cb45-2639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2640"><a href="#cb45-2640" aria-hidden="true" tabindex="-1"></a>wc_prereg_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2641"><a href="#cb45-2641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2642"><a href="#cb45-2642" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-2643"><a href="#cb45-2643" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_mental, </span>
<span id="cb45-2644"><a href="#cb45-2644" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2645"><a href="#cb45-2645" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb45-2646"><a href="#cb45-2646" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2647"><a href="#cb45-2647" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-2648"><a href="#cb45-2648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2649"><a href="#cb45-2649" aria-hidden="true" tabindex="-1"></a>wc_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2650"><a href="#cb45-2650" aria-hidden="true" tabindex="-1"></a>  wc_prereg_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2651"><a href="#cb45-2651" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2652"><a href="#cb45-2652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2653"><a href="#cb45-2653" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-2654"><a href="#cb45-2654" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession)</span></span>
<span id="cb45-2655"><a href="#cb45-2655" aria-hidden="true" tabindex="-1"></a><span class="co">#wc_prereg_cwb_mental &lt;- </span></span>
<span id="cb45-2656"><a href="#cb45-2656" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-2657"><a href="#cb45-2657" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = wc_prereg_raw_mental,</span></span>
<span id="cb45-2658"><a href="#cb45-2658" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb45-2659"><a href="#cb45-2659" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-2660"><a href="#cb45-2660" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-2661"><a href="#cb45-2661" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-2662"><a href="#cb45-2662" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-2663"><a href="#cb45-2663" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-2664"><a href="#cb45-2664" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(wc_prereg_cwb_mental, "Bootstrap results/wc_prereg_cwb_mental.rds")</span></span>
<span id="cb45-2665"><a href="#cb45-2665" aria-hidden="true" tabindex="-1"></a>wc_prereg_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/wc_prereg_cwb_mental.rds"</span>)</span>
<span id="cb45-2666"><a href="#cb45-2666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2667"><a href="#cb45-2667" aria-hidden="true" tabindex="-1"></a>wc_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2668"><a href="#cb45-2668" aria-hidden="true" tabindex="-1"></a>   <span class="fu">tibble</span>(</span>
<span id="cb45-2669"><a href="#cb45-2669" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-2670"><a href="#cb45-2670" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb45-2671"><a href="#cb45-2671" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-2672"><a href="#cb45-2672" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2673"><a href="#cb45-2673" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-2674"><a href="#cb45-2674" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-2675"><a href="#cb45-2675" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(wc_prereg_mental<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb45-2676"><a href="#cb45-2676" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-2677"><a href="#cb45-2677" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_prereg_mental<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-2678"><a href="#cb45-2678" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-2679"><a href="#cb45-2679" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_prereg_mental<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-2680"><a href="#cb45-2680" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-2681"><a href="#cb45-2681" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2682"><a href="#cb45-2682" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(wc_prereg_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb45-2683"><a href="#cb45-2683" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2684"><a href="#cb45-2684" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2685"><a href="#cb45-2685" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-2686"><a href="#cb45-2686" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-2687"><a href="#cb45-2687" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(wc_prereg_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-2688"><a href="#cb45-2688" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(worst_dat_mental<span class="sc">$</span>study)),</span>
<span id="cb45-2689"><a href="#cb45-2689" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(worst_dat_mental))</span>
<span id="cb45-2690"><a href="#cb45-2690" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-2691"><a href="#cb45-2691" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2692"><a href="#cb45-2692" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"worstcase"</span></span>
<span id="cb45-2693"><a href="#cb45-2693" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2694"><a href="#cb45-2694" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2695"><a href="#cb45-2695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2696"><a href="#cb45-2696" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analysis of prereg using the PESCE+ model. </span></span>
<span id="cb45-2697"><a href="#cb45-2697" aria-hidden="true" tabindex="-1"></a>V_mat_wc_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2698"><a href="#cb45-2698" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-2699"><a href="#cb45-2699" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb45-2700"><a href="#cb45-2700" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-2701"><a href="#cb45-2701" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-2702"><a href="#cb45-2702" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> prereg_chr,</span>
<span id="cb45-2703"><a href="#cb45-2703" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-2704"><a href="#cb45-2704" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-2705"><a href="#cb45-2705" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-2706"><a href="#cb45-2706" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-2707"><a href="#cb45-2707" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-2708"><a href="#cb45-2708" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-2709"><a href="#cb45-2709" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2710"><a href="#cb45-2710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2711"><a href="#cb45-2711" aria-hidden="true" tabindex="-1"></a>wc_prereg_raw_sensi_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2712"><a href="#cb45-2712" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2713"><a href="#cb45-2713" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-2714"><a href="#cb45-2714" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_prereg_mental, </span>
<span id="cb45-2715"><a href="#cb45-2715" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> prereg_chr <span class="sc">|</span> study, <span class="sc">~</span> prereg_chr <span class="sc">|</span> esid),</span>
<span id="cb45-2716"><a href="#cb45-2716" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb45-2717"><a href="#cb45-2717" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb45-2718"><a href="#cb45-2718" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2719"><a href="#cb45-2719" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-2720"><a href="#cb45-2720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2721"><a href="#cb45-2721" aria-hidden="true" tabindex="-1"></a>wc_prereg_sensi_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2722"><a href="#cb45-2722" aria-hidden="true" tabindex="-1"></a>  wc_prereg_raw_sensi_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2723"><a href="#cb45-2723" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2724"><a href="#cb45-2724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2725"><a href="#cb45-2725" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb45-2726"><a href="#cb45-2726" aria-hidden="true" tabindex="-1"></a><span class="co"># wc outcome</span></span>
<span id="cb45-2727"><a href="#cb45-2727" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb45-2728"><a href="#cb45-2728" aria-hidden="true" tabindex="-1"></a>wc_outcome_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2729"><a href="#cb45-2729" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2730"><a href="#cb45-2730" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-2731"><a href="#cb45-2731" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_mental, </span>
<span id="cb45-2732"><a href="#cb45-2732" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2733"><a href="#cb45-2733" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb45-2734"><a href="#cb45-2734" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2735"><a href="#cb45-2735" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-2736"><a href="#cb45-2736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2737"><a href="#cb45-2737" aria-hidden="true" tabindex="-1"></a>wc_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2738"><a href="#cb45-2738" aria-hidden="true" tabindex="-1"></a>  wc_outcome_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2739"><a href="#cb45-2739" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2740"><a href="#cb45-2740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2741"><a href="#cb45-2741" aria-hidden="true" tabindex="-1"></a><span class="co"># CWB</span></span>
<span id="cb45-2742"><a href="#cb45-2742" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-2743"><a href="#cb45-2743" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-2744"><a href="#cb45-2744" aria-hidden="true" tabindex="-1"></a><span class="co">#wc_outcome_cwb_mental &lt;- </span></span>
<span id="cb45-2745"><a href="#cb45-2745" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-2746"><a href="#cb45-2746" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = wc_outcome_raw_mental,</span></span>
<span id="cb45-2747"><a href="#cb45-2747" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:4),</span></span>
<span id="cb45-2748"><a href="#cb45-2748" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-2749"><a href="#cb45-2749" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-2750"><a href="#cb45-2750" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-2751"><a href="#cb45-2751" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-2752"><a href="#cb45-2752" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-2753"><a href="#cb45-2753" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(wc_outcome_cwb_mental, "Bootstrap results/wc_outcome_cwb_mental.rds")</span></span>
<span id="cb45-2754"><a href="#cb45-2754" aria-hidden="true" tabindex="-1"></a>wc_outcome_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/wc_outcome_cwb_mental.rds"</span>)</span>
<span id="cb45-2755"><a href="#cb45-2755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2756"><a href="#cb45-2756" aria-hidden="true" tabindex="-1"></a>wc_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2757"><a href="#cb45-2757" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2758"><a href="#cb45-2758" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-2759"><a href="#cb45-2759" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb45-2760"><a href="#cb45-2760" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-2761"><a href="#cb45-2761" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2762"><a href="#cb45-2762" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-2763"><a href="#cb45-2763" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-2764"><a href="#cb45-2764" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(wc_outcome_mental<span class="sc">$</span>b[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)]), <span class="dv">3</span>), </span>
<span id="cb45-2765"><a href="#cb45-2765" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-2766"><a href="#cb45-2766" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_outcome_mental<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)], <span class="dv">3</span>),</span>
<span id="cb45-2767"><a href="#cb45-2767" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-2768"><a href="#cb45-2768" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(wc_outcome_mental<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)], <span class="dv">3</span>),</span>
<span id="cb45-2769"><a href="#cb45-2769" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-2770"><a href="#cb45-2770" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2771"><a href="#cb45-2771" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(wc_outcome_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb45-2772"><a href="#cb45-2772" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2773"><a href="#cb45-2773" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2774"><a href="#cb45-2774" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-2775"><a href="#cb45-2775" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(wc_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-2776"><a href="#cb45-2776" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(wc_outcome_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-2777"><a href="#cb45-2777" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(worst_dat_mental<span class="sc">$</span>study)),</span>
<span id="cb45-2778"><a href="#cb45-2778" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(worst_dat_mental))</span>
<span id="cb45-2779"><a href="#cb45-2779" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-2780"><a href="#cb45-2780" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2781"><a href="#cb45-2781" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"worstcase"</span></span>
<span id="cb45-2782"><a href="#cb45-2782" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2783"><a href="#cb45-2783" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2784"><a href="#cb45-2784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2785"><a href="#cb45-2785" aria-hidden="true" tabindex="-1"></a><span class="co"># Sensitivity analyses using the PESCE+ model</span></span>
<span id="cb45-2786"><a href="#cb45-2786" aria-hidden="true" tabindex="-1"></a>V_mat_wc_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2787"><a href="#cb45-2787" aria-hidden="true" tabindex="-1"></a>  metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-2788"><a href="#cb45-2788" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb45-2789"><a href="#cb45-2789" aria-hidden="true" tabindex="-1"></a>    <span class="at">vi =</span> vgt_pop, </span>
<span id="cb45-2790"><a href="#cb45-2790" aria-hidden="true" tabindex="-1"></a>    <span class="at">cluster =</span> study,</span>
<span id="cb45-2791"><a href="#cb45-2791" aria-hidden="true" tabindex="-1"></a>    <span class="at">subgroup =</span> outcome_type,</span>
<span id="cb45-2792"><a href="#cb45-2792" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> outcome_time, </span>
<span id="cb45-2793"><a href="#cb45-2793" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-2794"><a href="#cb45-2794" aria-hidden="true" tabindex="-1"></a>    <span class="at">w1 =</span> N_t, </span>
<span id="cb45-2795"><a href="#cb45-2795" aria-hidden="true" tabindex="-1"></a>    <span class="at">grp2 =</span> control,</span>
<span id="cb45-2796"><a href="#cb45-2796" aria-hidden="true" tabindex="-1"></a>    <span class="at">w2 =</span> N_c, </span>
<span id="cb45-2797"><a href="#cb45-2797" aria-hidden="true" tabindex="-1"></a>    <span class="at">rho =</span> rho</span>
<span id="cb45-2798"><a href="#cb45-2798" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2799"><a href="#cb45-2799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2800"><a href="#cb45-2800" aria-hidden="true" tabindex="-1"></a>wc_outcome_raw_sensi_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2801"><a href="#cb45-2801" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2802"><a href="#cb45-2802" aria-hidden="true" tabindex="-1"></a>    gt_pop <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-2803"><a href="#cb45-2803" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_wc_mental, </span>
<span id="cb45-2804"><a href="#cb45-2804" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> outcome_type <span class="sc">|</span> study, <span class="sc">~</span> outcome_type <span class="sc">|</span> esid),</span>
<span id="cb45-2805"><a href="#cb45-2805" aria-hidden="true" tabindex="-1"></a>    <span class="at">struct =</span> <span class="fu">c</span>(<span class="st">"DIAG"</span>, <span class="st">"DIAG"</span>),</span>
<span id="cb45-2806"><a href="#cb45-2806" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> worst_dat_mental,</span>
<span id="cb45-2807"><a href="#cb45-2807" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2808"><a href="#cb45-2808" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-2809"><a href="#cb45-2809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2810"><a href="#cb45-2810" aria-hidden="true" tabindex="-1"></a>wc_outcome_sensi_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2811"><a href="#cb45-2811" aria-hidden="true" tabindex="-1"></a>  wc_outcome_raw_sensi_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2812"><a href="#cb45-2812" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2813"><a href="#cb45-2813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2814"><a href="#cb45-2814" aria-hidden="true" tabindex="-1"></a>clubSandwich<span class="sc">::</span><span class="fu">Wald_test</span>(</span>
<span id="cb45-2815"><a href="#cb45-2815" aria-hidden="true" tabindex="-1"></a>  wc_outcome_sensi_mental, </span>
<span id="cb45-2816"><a href="#cb45-2816" aria-hidden="true" tabindex="-1"></a>  <span class="at">constraints =</span> <span class="fu">constrain_equal</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), </span>
<span id="cb45-2817"><a href="#cb45-2817" aria-hidden="true" tabindex="-1"></a>  <span class="at">vcov =</span> <span class="st">"CR2"</span></span>
<span id="cb45-2818"><a href="#cb45-2818" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-2819"><a href="#cb45-2819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2820"><a href="#cb45-2820" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-2821"><a href="#cb45-2821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2822"><a href="#cb45-2822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2823"><a href="#cb45-2823" aria-hidden="true" tabindex="-1"></a><span class="fu">### CHE-ISCW </span></span>
<span id="cb45-2824"><a href="#cb45-2824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2825"><a href="#cb45-2825" aria-hidden="true" tabindex="-1"></a><span class="in">```{r che-iscw-mental}</span></span>
<span id="cb45-2826"><a href="#cb45-2826" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.8</span></span>
<span id="cb45-2827"><a href="#cb45-2827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2828"><a href="#cb45-2828" aria-hidden="true" tabindex="-1"></a>V_mat_mod_mental <span class="ot">&lt;-</span> metafor<span class="sc">::</span><span class="fu">vcalc</span>(</span>
<span id="cb45-2829"><a href="#cb45-2829" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-2830"><a href="#cb45-2830" aria-hidden="true" tabindex="-1"></a>  <span class="at">vi =</span> Wgt_pop, </span>
<span id="cb45-2831"><a href="#cb45-2831" aria-hidden="true" tabindex="-1"></a>  <span class="at">cluster =</span> study,</span>
<span id="cb45-2832"><a href="#cb45-2832" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> outcome_time, </span>
<span id="cb45-2833"><a href="#cb45-2833" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp1 =</span> trt_name,</span>
<span id="cb45-2834"><a href="#cb45-2834" aria-hidden="true" tabindex="-1"></a>  <span class="at">w1 =</span> N_t, </span>
<span id="cb45-2835"><a href="#cb45-2835" aria-hidden="true" tabindex="-1"></a>  <span class="at">grp2 =</span> control,</span>
<span id="cb45-2836"><a href="#cb45-2836" aria-hidden="true" tabindex="-1"></a>  <span class="at">w2 =</span> N_c, </span>
<span id="cb45-2837"><a href="#cb45-2837" aria-hidden="true" tabindex="-1"></a>  <span class="at">rho =</span> rho</span>
<span id="cb45-2838"><a href="#cb45-2838" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-2839"><a href="#cb45-2839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2840"><a href="#cb45-2840" aria-hidden="true" tabindex="-1"></a>W_mental <span class="ot">&lt;-</span> <span class="fu">solve</span>(V_mat_mod_mental) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">3</span>)</span>
<span id="cb45-2841"><a href="#cb45-2841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2842"><a href="#cb45-2842" aria-hidden="true" tabindex="-1"></a><span class="co"># CHE-ISCW</span></span>
<span id="cb45-2843"><a href="#cb45-2843" aria-hidden="true" tabindex="-1"></a><span class="do">## Overall</span></span>
<span id="cb45-2844"><a href="#cb45-2844" aria-hidden="true" tabindex="-1"></a>che_iscw_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2845"><a href="#cb45-2845" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2846"><a href="#cb45-2846" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-2847"><a href="#cb45-2847" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb45-2848"><a href="#cb45-2848" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb45-2849"><a href="#cb45-2849" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2850"><a href="#cb45-2850" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-2851"><a href="#cb45-2851" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2852"><a href="#cb45-2852" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2853"><a href="#cb45-2853" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2854"><a href="#cb45-2854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2855"><a href="#cb45-2855" aria-hidden="true" tabindex="-1"></a>iscw_tab_res_mental <span class="ot">&lt;-</span> <span class="fu">.pubbias_overall_tab</span>(</span>
<span id="cb45-2856"><a href="#cb45-2856" aria-hidden="true" tabindex="-1"></a>  <span class="at">rma_obj =</span> che_iscw_mental, </span>
<span id="cb45-2857"><a href="#cb45-2857" aria-hidden="true" tabindex="-1"></a>  <span class="at">test =</span> <span class="st">"CHE-ISCW"</span>,</span>
<span id="cb45-2858"><a href="#cb45-2858" aria-hidden="true" tabindex="-1"></a>  <span class="at">studies =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-2859"><a href="#cb45-2859" aria-hidden="true" tabindex="-1"></a>  <span class="at">effects =</span> <span class="fu">nrow</span>(mental_ma_dat)</span>
<span id="cb45-2860"><a href="#cb45-2860" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2861"><a href="#cb45-2861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2862"><a href="#cb45-2862" aria-hidden="true" tabindex="-1"></a><span class="do">## Preregistration</span></span>
<span id="cb45-2863"><a href="#cb45-2863" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2864"><a href="#cb45-2864" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2865"><a href="#cb45-2865" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-2866"><a href="#cb45-2866" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb45-2867"><a href="#cb45-2867" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb45-2868"><a href="#cb45-2868" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-2869"><a href="#cb45-2869" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2870"><a href="#cb45-2870" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-2871"><a href="#cb45-2871" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2872"><a href="#cb45-2872" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-2873"><a href="#cb45-2873" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2874"><a href="#cb45-2874" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2875"><a href="#cb45-2875" aria-hidden="true" tabindex="-1"></a>  che_iscw_prereg_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2876"><a href="#cb45-2876" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2877"><a href="#cb45-2877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2878"><a href="#cb45-2878" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-2879"><a href="#cb45-2879" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-2880"><a href="#cb45-2880" aria-hidden="true" tabindex="-1"></a><span class="co">#che_iscw_prereg_cwb_mental &lt;- </span></span>
<span id="cb45-2881"><a href="#cb45-2881" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-2882"><a href="#cb45-2882" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_iscw_prereg_raw_mental,</span></span>
<span id="cb45-2883"><a href="#cb45-2883" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb45-2884"><a href="#cb45-2884" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-2885"><a href="#cb45-2885" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-2886"><a href="#cb45-2886" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-2887"><a href="#cb45-2887" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-2888"><a href="#cb45-2888" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-2889"><a href="#cb45-2889" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_iscw_prereg_cwb_mental, "Bootstrap results/che_iscw_prereg_cwb_mental.rds")</span></span>
<span id="cb45-2890"><a href="#cb45-2890" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_iscw_prereg_cwb_mental.rds"</span>)</span>
<span id="cb45-2891"><a href="#cb45-2891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2892"><a href="#cb45-2892" aria-hidden="true" tabindex="-1"></a>che_iscw_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2893"><a href="#cb45-2893" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2894"><a href="#cb45-2894" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-2895"><a href="#cb45-2895" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb45-2896"><a href="#cb45-2896" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-2897"><a href="#cb45-2897" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2898"><a href="#cb45-2898" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-2899"><a href="#cb45-2899" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-2900"><a href="#cb45-2900" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_iscw_prereg_mental<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb45-2901"><a href="#cb45-2901" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-2902"><a href="#cb45-2902" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_prereg_mental<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-2903"><a href="#cb45-2903" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-2904"><a href="#cb45-2904" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_prereg_mental<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-2905"><a href="#cb45-2905" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-2906"><a href="#cb45-2906" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2907"><a href="#cb45-2907" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_iscw_prereg_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb45-2908"><a href="#cb45-2908" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2909"><a href="#cb45-2909" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2910"><a href="#cb45-2910" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-2911"><a href="#cb45-2911" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-2912"><a href="#cb45-2912" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_iscw_prereg_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-2913"><a href="#cb45-2913" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-2914"><a href="#cb45-2914" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-2915"><a href="#cb45-2915" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-2916"><a href="#cb45-2916" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2917"><a href="#cb45-2917" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"iscw"</span></span>
<span id="cb45-2918"><a href="#cb45-2918" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2919"><a href="#cb45-2919" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2920"><a href="#cb45-2920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2921"><a href="#cb45-2921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2922"><a href="#cb45-2922" aria-hidden="true" tabindex="-1"></a><span class="do">## Outcome</span></span>
<span id="cb45-2923"><a href="#cb45-2923" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2924"><a href="#cb45-2924" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2925"><a href="#cb45-2925" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-2926"><a href="#cb45-2926" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb45-2927"><a href="#cb45-2927" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb45-2928"><a href="#cb45-2928" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> outcome_type <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-2929"><a href="#cb45-2929" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2930"><a href="#cb45-2930" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-2931"><a href="#cb45-2931" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2932"><a href="#cb45-2932" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-2933"><a href="#cb45-2933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2934"><a href="#cb45-2934" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2935"><a href="#cb45-2935" aria-hidden="true" tabindex="-1"></a>  che_iscw_outcome_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-2936"><a href="#cb45-2936" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2937"><a href="#cb45-2937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2938"><a href="#cb45-2938" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-2939"><a href="#cb45-2939" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-2940"><a href="#cb45-2940" aria-hidden="true" tabindex="-1"></a><span class="co">#che_iscw_outcome_cwb_mental &lt;- </span></span>
<span id="cb45-2941"><a href="#cb45-2941" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-2942"><a href="#cb45-2942" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_iscw_outcome_raw_mental,</span></span>
<span id="cb45-2943"><a href="#cb45-2943" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:4),</span></span>
<span id="cb45-2944"><a href="#cb45-2944" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-2945"><a href="#cb45-2945" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-2946"><a href="#cb45-2946" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-2947"><a href="#cb45-2947" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-2948"><a href="#cb45-2948" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-2949"><a href="#cb45-2949" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_iscw_outcome_cwb_mental, "Bootstrap results/che_iscw_outcome_cwb_mental.rds")</span></span>
<span id="cb45-2950"><a href="#cb45-2950" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_iscw_outcome_cwb_mental.rds"</span>)</span>
<span id="cb45-2951"><a href="#cb45-2951" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2952"><a href="#cb45-2952" aria-hidden="true" tabindex="-1"></a>che_iscw_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2953"><a href="#cb45-2953" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-2954"><a href="#cb45-2954" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-2955"><a href="#cb45-2955" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb45-2956"><a href="#cb45-2956" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-2957"><a href="#cb45-2957" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2958"><a href="#cb45-2958" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-2959"><a href="#cb45-2959" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-2960"><a href="#cb45-2960" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_iscw_outcome_mental<span class="sc">$</span>b[<span class="sc">-</span><span class="dv">5</span>]), <span class="dv">3</span>), </span>
<span id="cb45-2961"><a href="#cb45-2961" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-2962"><a href="#cb45-2962" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_outcome_mental<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="dv">5</span>], <span class="dv">3</span>),</span>
<span id="cb45-2963"><a href="#cb45-2963" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-2964"><a href="#cb45-2964" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_iscw_outcome_mental<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="dv">5</span>], <span class="dv">3</span>),</span>
<span id="cb45-2965"><a href="#cb45-2965" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-2966"><a href="#cb45-2966" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-2967"><a href="#cb45-2967" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_iscw_outcome_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)), </span>
<span id="cb45-2968"><a href="#cb45-2968" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2969"><a href="#cb45-2969" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-2970"><a href="#cb45-2970" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-2971"><a href="#cb45-2971" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_iscw_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-2972"><a href="#cb45-2972" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_iscw_outcome_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-2973"><a href="#cb45-2973" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-2974"><a href="#cb45-2974" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-2975"><a href="#cb45-2975" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-2976"><a href="#cb45-2976" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2977"><a href="#cb45-2977" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"iscw"</span></span>
<span id="cb45-2978"><a href="#cb45-2978" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-2979"><a href="#cb45-2979" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-2980"><a href="#cb45-2980" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-2981"><a href="#cb45-2981" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2982"><a href="#cb45-2982" aria-hidden="true" tabindex="-1"></a><span class="fu">### PET/PEESE</span></span>
<span id="cb45-2983"><a href="#cb45-2983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2984"><a href="#cb45-2984" aria-hidden="true" tabindex="-1"></a><span class="in">```{r petpeese-mental}</span></span>
<span id="cb45-2985"><a href="#cb45-2985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2986"><a href="#cb45-2986" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE overall</span></span>
<span id="cb45-2987"><a href="#cb45-2987" aria-hidden="true" tabindex="-1"></a>che_pet_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-2988"><a href="#cb45-2988" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-2989"><a href="#cb45-2989" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-2990"><a href="#cb45-2990" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb45-2991"><a href="#cb45-2991" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb45-2992"><a href="#cb45-2992" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wse_pop <span class="sc">+</span> prereg_c,</span>
<span id="cb45-2993"><a href="#cb45-2993" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-2994"><a href="#cb45-2994" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-2995"><a href="#cb45-2995" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-2996"><a href="#cb45-2996" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-2997"><a href="#cb45-2997" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-2998"><a href="#cb45-2998" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-2999"><a href="#cb45-2999" aria-hidden="true" tabindex="-1"></a>che_peese_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3000"><a href="#cb45-3000" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-3001"><a href="#cb45-3001" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-3002"><a href="#cb45-3002" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb45-3003"><a href="#cb45-3003" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb45-3004"><a href="#cb45-3004" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> Wgt_pop <span class="sc">+</span> prereg_c,</span>
<span id="cb45-3005"><a href="#cb45-3005" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-3006"><a href="#cb45-3006" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-3007"><a href="#cb45-3007" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-3008"><a href="#cb45-3008" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-3009"><a href="#cb45-3009" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-3010"><a href="#cb45-3010" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3011"><a href="#cb45-3011" aria-hidden="true" tabindex="-1"></a>pet_peese_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3012"><a href="#cb45-3012" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (che_pet_mental<span class="sc">$</span>pval[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.1</span> <span class="sc">&amp;</span> <span class="fu">as.numeric</span>(che_pet_mental<span class="sc">$</span>b[<span class="dv">1</span>]) <span class="sc">&gt;</span> <span class="dv">0</span>) che_peese_mental <span class="cf">else</span> che_pet_mental</span>
<span id="cb45-3013"><a href="#cb45-3013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3014"><a href="#cb45-3014" aria-hidden="true" tabindex="-1"></a>pet_peese_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3015"><a href="#cb45-3015" aria-hidden="true" tabindex="-1"></a>  <span class="fu">.pubbias_overall_tab</span>(</span>
<span id="cb45-3016"><a href="#cb45-3016" aria-hidden="true" tabindex="-1"></a>    <span class="at">rma_obj =</span> pet_peese_mental, </span>
<span id="cb45-3017"><a href="#cb45-3017" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"PET/PEESE"</span>,</span>
<span id="cb45-3018"><a href="#cb45-3018" aria-hidden="true" tabindex="-1"></a>    <span class="at">studies =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-3019"><a href="#cb45-3019" aria-hidden="true" tabindex="-1"></a>    <span class="at">effects =</span> <span class="fu">nrow</span>(mental_ma_dat)</span>
<span id="cb45-3020"><a href="#cb45-3020" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb45-3021"><a href="#cb45-3021" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3022"><a href="#cb45-3022" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE preregistration</span></span>
<span id="cb45-3023"><a href="#cb45-3023" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3024"><a href="#cb45-3024" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-3025"><a href="#cb45-3025" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-3026"><a href="#cb45-3026" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb45-3027"><a href="#cb45-3027" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb45-3028"><a href="#cb45-3028" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> prereg_chr <span class="sc">+</span> Wse_pop <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-3029"><a href="#cb45-3029" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-3030"><a href="#cb45-3030" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-3031"><a href="#cb45-3031" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-3032"><a href="#cb45-3032" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-3033"><a href="#cb45-3033" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3034"><a href="#cb45-3034" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3035"><a href="#cb45-3035" aria-hidden="true" tabindex="-1"></a>  che_pet_prereg_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-3036"><a href="#cb45-3036" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-3037"><a href="#cb45-3037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3038"><a href="#cb45-3038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3039"><a href="#cb45-3039" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3040"><a href="#cb45-3040" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-3041"><a href="#cb45-3041" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 7L)</span></span>
<span id="cb45-3042"><a href="#cb45-3042" aria-hidden="true" tabindex="-1"></a><span class="co">#che_pet_prereg_cwb_mental &lt;- </span></span>
<span id="cb45-3043"><a href="#cb45-3043" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-3044"><a href="#cb45-3044" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_pet_prereg_raw_mental,</span></span>
<span id="cb45-3045"><a href="#cb45-3045" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:2),</span></span>
<span id="cb45-3046"><a href="#cb45-3046" aria-hidden="true" tabindex="-1"></a><span class="co">#    R  = 1999</span></span>
<span id="cb45-3047"><a href="#cb45-3047" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3048"><a href="#cb45-3048" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3049"><a href="#cb45-3049" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-3050"><a href="#cb45-3050" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3051"><a href="#cb45-3051" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_pet_prereg_cwb_mental, "Bootstrap results/che_pet_prereg_cwb_mental.rds")</span></span>
<span id="cb45-3052"><a href="#cb45-3052" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_pet_prereg_cwb_mental.rds"</span>)</span>
<span id="cb45-3053"><a href="#cb45-3053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3054"><a href="#cb45-3054" aria-hidden="true" tabindex="-1"></a>che_pet_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3055"><a href="#cb45-3055" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-3056"><a href="#cb45-3056" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-3057"><a href="#cb45-3057" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>,</span>
<span id="cb45-3058"><a href="#cb45-3058" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-3059"><a href="#cb45-3059" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3060"><a href="#cb45-3060" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-3061"><a href="#cb45-3061" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-3062"><a href="#cb45-3062" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_pet_prereg_mental<span class="sc">$</span>b[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">3</span>), </span>
<span id="cb45-3063"><a href="#cb45-3063" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-3064"><a href="#cb45-3064" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_prereg_mental<span class="sc">$</span>ci.lb[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-3065"><a href="#cb45-3065" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-3066"><a href="#cb45-3066" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_prereg_mental<span class="sc">$</span>ci.ub[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-3067"><a href="#cb45-3067" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-3068"><a href="#cb45-3068" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3069"><a href="#cb45-3069" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_pet_prereg_cwb_mental<span class="sc">$</span>p_val,<span class="dv">3</span>)),</span>
<span id="cb45-3070"><a href="#cb45-3070" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3071"><a href="#cb45-3071" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3072"><a href="#cb45-3072" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3073"><a href="#cb45-3073" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_prereg_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3074"><a href="#cb45-3074" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_pet_prereg_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-3075"><a href="#cb45-3075" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-3076"><a href="#cb45-3076" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-3077"><a href="#cb45-3077" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-3078"><a href="#cb45-3078" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3079"><a href="#cb45-3079" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"petpesse"</span></span>
<span id="cb45-3080"><a href="#cb45-3080" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3081"><a href="#cb45-3081" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3082"><a href="#cb45-3082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3083"><a href="#cb45-3083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3084"><a href="#cb45-3084" aria-hidden="true" tabindex="-1"></a><span class="do">## PET/PEESE outcome</span></span>
<span id="cb45-3085"><a href="#cb45-3085" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_raw_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3086"><a href="#cb45-3086" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rma.mv</span>(</span>
<span id="cb45-3087"><a href="#cb45-3087" aria-hidden="true" tabindex="-1"></a>    <span class="at">yi =</span> gt_pop,</span>
<span id="cb45-3088"><a href="#cb45-3088" aria-hidden="true" tabindex="-1"></a>    <span class="at">V =</span> V_mat_mod_mental,</span>
<span id="cb45-3089"><a href="#cb45-3089" aria-hidden="true" tabindex="-1"></a>    <span class="at">W =</span> W_mental,</span>
<span id="cb45-3090"><a href="#cb45-3090" aria-hidden="true" tabindex="-1"></a>    <span class="at">mods =</span> <span class="sc">~</span> outcome_type <span class="sc">+</span> Wse_pop <span class="sc">+</span> prereg_c <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb45-3091"><a href="#cb45-3091" aria-hidden="true" tabindex="-1"></a>    <span class="at">random =</span> <span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> study <span class="sc">/</span> esid,</span>
<span id="cb45-3092"><a href="#cb45-3092" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> mental_ma_dat,</span>
<span id="cb45-3093"><a href="#cb45-3093" aria-hidden="true" tabindex="-1"></a>    <span class="at">sparse =</span> <span class="cn">TRUE</span></span>
<span id="cb45-3094"><a href="#cb45-3094" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb45-3095"><a href="#cb45-3095" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3096"><a href="#cb45-3096" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3097"><a href="#cb45-3097" aria-hidden="true" tabindex="-1"></a>  che_pet_outcome_raw_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-3098"><a href="#cb45-3098" aria-hidden="true" tabindex="-1"></a>  <span class="fu">robust</span>(<span class="at">cluster =</span> study, <span class="at">clubSandwich =</span> <span class="cn">TRUE</span>)</span>
<span id="cb45-3099"><a href="#cb45-3099" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3100"><a href="#cb45-3100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3101"><a href="#cb45-3101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3102"><a href="#cb45-3102" aria-hidden="true" tabindex="-1"></a><span class="co">#tic()</span></span>
<span id="cb45-3103"><a href="#cb45-3103" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = 13L)</span></span>
<span id="cb45-3104"><a href="#cb45-3104" aria-hidden="true" tabindex="-1"></a><span class="co">#che_pet_outcome_cwb_mental &lt;- </span></span>
<span id="cb45-3105"><a href="#cb45-3105" aria-hidden="true" tabindex="-1"></a><span class="co">#  wildmeta::Wald_test_cwb(</span></span>
<span id="cb45-3106"><a href="#cb45-3106" aria-hidden="true" tabindex="-1"></a><span class="co">#    full_model = che_pet_outcome_raw_mental,</span></span>
<span id="cb45-3107"><a href="#cb45-3107" aria-hidden="true" tabindex="-1"></a><span class="co">#    constraints = constrain_equal(1:4),</span></span>
<span id="cb45-3108"><a href="#cb45-3108" aria-hidden="true" tabindex="-1"></a><span class="co">#    R  = 1999</span></span>
<span id="cb45-3109"><a href="#cb45-3109" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3110"><a href="#cb45-3110" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3111"><a href="#cb45-3111" aria-hidden="true" tabindex="-1"></a><span class="co">#toc()</span></span>
<span id="cb45-3112"><a href="#cb45-3112" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3113"><a href="#cb45-3113" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(che_pet_outcome_cwb_mental, "Bootstrap results/che_pet_outcome_cwb_mental.rds")</span></span>
<span id="cb45-3114"><a href="#cb45-3114" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_cwb_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/che_pet_outcome_cwb_mental.rds"</span>)</span>
<span id="cb45-3115"><a href="#cb45-3115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3116"><a href="#cb45-3116" aria-hidden="true" tabindex="-1"></a>che_pet_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3117"><a href="#cb45-3117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-3118"><a href="#cb45-3118" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-3119"><a href="#cb45-3119" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb45-3120"><a href="#cb45-3120" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-3121"><a href="#cb45-3121" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3122"><a href="#cb45-3122" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-3123"><a href="#cb45-3123" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-3124"><a href="#cb45-3124" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(<span class="fu">as.numeric</span>(che_pet_outcome_mental<span class="sc">$</span>b[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)]), <span class="dv">3</span>), </span>
<span id="cb45-3125"><a href="#cb45-3125" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-3126"><a href="#cb45-3126" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_outcome_mental<span class="sc">$</span>ci.lb[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)], <span class="dv">3</span>),</span>
<span id="cb45-3127"><a href="#cb45-3127" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-3128"><a href="#cb45-3128" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(che_pet_outcome_mental<span class="sc">$</span>ci.ub[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)], <span class="dv">3</span>),</span>
<span id="cb45-3129"><a href="#cb45-3129" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-3130"><a href="#cb45-3130" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3131"><a href="#cb45-3131" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(che_pet_outcome_cwb_mental<span class="sc">$</span>p_val, <span class="dv">3</span>)),</span>
<span id="cb45-3132"><a href="#cb45-3132" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3133"><a href="#cb45-3133" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3134"><a href="#cb45-3134" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">1</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3135"><a href="#cb45-3135" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(che_pet_outcome_mental<span class="sc">$</span>sigma2[<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3136"><a href="#cb45-3136" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="fu">sum</span>(che_pet_outcome_mental<span class="sc">$</span>sigma2)), <span class="dv">3</span>)),</span>
<span id="cb45-3137"><a href="#cb45-3137" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-3138"><a href="#cb45-3138" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-3139"><a href="#cb45-3139" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-3140"><a href="#cb45-3140" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3141"><a href="#cb45-3141" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"petpesse"</span></span>
<span id="cb45-3142"><a href="#cb45-3142" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3143"><a href="#cb45-3143" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3144"><a href="#cb45-3144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3145"><a href="#cb45-3145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3146"><a href="#cb45-3146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3147"><a href="#cb45-3147" aria-hidden="true" tabindex="-1"></a><span class="fu">### Selection models</span></span>
<span id="cb45-3148"><a href="#cb45-3148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3149"><a href="#cb45-3149" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, selmodel-mental}</span></span>
<span id="cb45-3150"><a href="#cb45-3150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3151"><a href="#cb45-3151" aria-hidden="true" tabindex="-1"></a><span class="co">#set.seed(29092025)</span></span>
<span id="cb45-3152"><a href="#cb45-3152" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3153"><a href="#cb45-3153" aria-hidden="true" tabindex="-1"></a><span class="co">#library(future)</span></span>
<span id="cb45-3154"><a href="#cb45-3154" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3155"><a href="#cb45-3155" aria-hidden="true" tabindex="-1"></a><span class="co">#cores &lt;- parallel::detectCores() - 1</span></span>
<span id="cb45-3156"><a href="#cb45-3156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3157"><a href="#cb45-3157" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall reintegration</span></span>
<span id="cb45-3158"><a href="#cb45-3158" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-3159"><a href="#cb45-3159" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3160"><a href="#cb45-3160" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_overall_mental &lt;- </span></span>
<span id="cb45-3161"><a href="#cb45-3161" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-3162"><a href="#cb45-3162" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb45-3163"><a href="#cb45-3163" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-3164"><a href="#cb45-3164" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-3165"><a href="#cb45-3165" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-3166"><a href="#cb45-3166" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-3167"><a href="#cb45-3167" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb45-3168"><a href="#cb45-3168" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-3169"><a href="#cb45-3169" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-3170"><a href="#cb45-3170" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-3171"><a href="#cb45-3171" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-3172"><a href="#cb45-3172" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-3173"><a href="#cb45-3173" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3174"><a href="#cb45-3174" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3175"><a href="#cb45-3175" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3176"><a href="#cb45-3176" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_overall_mental, "Bootstrap results/mod_3PSM_overall_mental.rds")</span></span>
<span id="cb45-3177"><a href="#cb45-3177" aria-hidden="true" tabindex="-1"></a>mod_3PSM_overall_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_overall_mental.rds"</span>)</span>
<span id="cb45-3178"><a href="#cb45-3178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3179"><a href="#cb45-3179" aria-hidden="true" tabindex="-1"></a><span class="co">#selection_plot(mod_3PSM_overall)</span></span>
<span id="cb45-3180"><a href="#cb45-3180" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3181"><a href="#cb45-3181" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-3182"><a href="#cb45-3182" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3183"><a href="#cb45-3183" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_overall_mental &lt;- </span></span>
<span id="cb45-3184"><a href="#cb45-3184" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-3185"><a href="#cb45-3185" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb45-3186"><a href="#cb45-3186" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-3187"><a href="#cb45-3187" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-3188"><a href="#cb45-3188" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-3189"><a href="#cb45-3189" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-3190"><a href="#cb45-3190" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb45-3191"><a href="#cb45-3191" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-3192"><a href="#cb45-3192" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-3193"><a href="#cb45-3193" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-3194"><a href="#cb45-3194" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-3195"><a href="#cb45-3195" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-3196"><a href="#cb45-3196" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3197"><a href="#cb45-3197" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3198"><a href="#cb45-3198" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3199"><a href="#cb45-3199" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_overall_mental, "Bootstrap results/mod_4PSM_overall_mental.rds")</span></span>
<span id="cb45-3200"><a href="#cb45-3200" aria-hidden="true" tabindex="-1"></a>mod_4PSM_overall_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_overall_mental.rds"</span>)</span>
<span id="cb45-3201"><a href="#cb45-3201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3202"><a href="#cb45-3202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3203"><a href="#cb45-3203" aria-hidden="true" tabindex="-1"></a><span class="co">#save(</span></span>
<span id="cb45-3204"><a href="#cb45-3204" aria-hidden="true" tabindex="-1"></a><span class="co">#  mod_3PSM_overall,</span></span>
<span id="cb45-3205"><a href="#cb45-3205" aria-hidden="true" tabindex="-1"></a><span class="co">#  mod_4PSM_overall,</span></span>
<span id="cb45-3206"><a href="#cb45-3206" aria-hidden="true" tabindex="-1"></a><span class="co">#  file = "selmodel_res.RData"</span></span>
<span id="cb45-3207"><a href="#cb45-3207" aria-hidden="true" tabindex="-1"></a><span class="co">#)</span></span>
<span id="cb45-3208"><a href="#cb45-3208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3209"><a href="#cb45-3209" aria-hidden="true" tabindex="-1"></a><span class="do">##############################</span></span>
<span id="cb45-3210"><a href="#cb45-3210" aria-hidden="true" tabindex="-1"></a><span class="co"># Across type of registration</span></span>
<span id="cb45-3211"><a href="#cb45-3211" aria-hidden="true" tabindex="-1"></a><span class="do">##############################</span></span>
<span id="cb45-3212"><a href="#cb45-3212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3213"><a href="#cb45-3213" aria-hidden="true" tabindex="-1"></a><span class="do">## Only not preregistered outcome</span></span>
<span id="cb45-3214"><a href="#cb45-3214" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-3215"><a href="#cb45-3215" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3216"><a href="#cb45-3216" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3217"><a href="#cb45-3217" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_not_prereg_mental &lt;- </span></span>
<span id="cb45-3218"><a href="#cb45-3218" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-3219"><a href="#cb45-3219" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb45-3220"><a href="#cb45-3220" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-3221"><a href="#cb45-3221" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-3222"><a href="#cb45-3222" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-3223"><a href="#cb45-3223" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-3224"><a href="#cb45-3224" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb45-3225"><a href="#cb45-3225" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-3226"><a href="#cb45-3226" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-3227"><a href="#cb45-3227" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-3228"><a href="#cb45-3228" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-3229"><a href="#cb45-3229" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999,</span></span>
<span id="cb45-3230"><a href="#cb45-3230" aria-hidden="true" tabindex="-1"></a><span class="co">#    subset = conventional == 0</span></span>
<span id="cb45-3231"><a href="#cb45-3231" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3232"><a href="#cb45-3232" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3233"><a href="#cb45-3233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3234"><a href="#cb45-3234" aria-hidden="true" tabindex="-1"></a><span class="do">## Prereg_chr as subgroup factor</span></span>
<span id="cb45-3235"><a href="#cb45-3235" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-3236"><a href="#cb45-3236" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-3237"><a href="#cb45-3237" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3238"><a href="#cb45-3238" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_prereg_mental &lt;- </span></span>
<span id="cb45-3239"><a href="#cb45-3239" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-3240"><a href="#cb45-3240" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb45-3241"><a href="#cb45-3241" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-3242"><a href="#cb45-3242" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-3243"><a href="#cb45-3243" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-3244"><a href="#cb45-3244" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-3245"><a href="#cb45-3245" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb45-3246"><a href="#cb45-3246" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-3247"><a href="#cb45-3247" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-3248"><a href="#cb45-3248" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-3249"><a href="#cb45-3249" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-3250"><a href="#cb45-3250" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ prereg_chr - 1,</span></span>
<span id="cb45-3251"><a href="#cb45-3251" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-3252"><a href="#cb45-3252" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3253"><a href="#cb45-3253" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3254"><a href="#cb45-3254" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3255"><a href="#cb45-3255" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_prereg_mental, "Bootstrap results/mod_3PSM_prereg_mental.rds")</span></span>
<span id="cb45-3256"><a href="#cb45-3256" aria-hidden="true" tabindex="-1"></a>mod_3PSM_prereg_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_prereg_mental.rds"</span>)</span>
<span id="cb45-3257"><a href="#cb45-3257" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-3258"><a href="#cb45-3258" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-3259"><a href="#cb45-3259" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-3260"><a href="#cb45-3260" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3261"><a href="#cb45-3261" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_prereg_mental &lt;- </span></span>
<span id="cb45-3262"><a href="#cb45-3262" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-3263"><a href="#cb45-3263" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb45-3264"><a href="#cb45-3264" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-3265"><a href="#cb45-3265" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-3266"><a href="#cb45-3266" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-3267"><a href="#cb45-3267" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-3268"><a href="#cb45-3268" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb45-3269"><a href="#cb45-3269" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-3270"><a href="#cb45-3270" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-3271"><a href="#cb45-3271" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-3272"><a href="#cb45-3272" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-3273"><a href="#cb45-3273" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ prereg_chr - 1,</span></span>
<span id="cb45-3274"><a href="#cb45-3274" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-3275"><a href="#cb45-3275" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3276"><a href="#cb45-3276" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3277"><a href="#cb45-3277" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3278"><a href="#cb45-3278" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_prereg_mental, "Bootstrap results/mod_4PSM_prereg_mental.rds")</span></span>
<span id="cb45-3279"><a href="#cb45-3279" aria-hidden="true" tabindex="-1"></a>mod_4PSM_prereg_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_prereg_mental.rds"</span>)</span>
<span id="cb45-3280"><a href="#cb45-3280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3281"><a href="#cb45-3281" aria-hidden="true" tabindex="-1"></a><span class="do">###################</span></span>
<span id="cb45-3282"><a href="#cb45-3282" aria-hidden="true" tabindex="-1"></a><span class="co"># Across outcomes</span></span>
<span id="cb45-3283"><a href="#cb45-3283" aria-hidden="true" tabindex="-1"></a><span class="do">###################</span></span>
<span id="cb45-3284"><a href="#cb45-3284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3285"><a href="#cb45-3285" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-3286"><a href="#cb45-3286" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3287"><a href="#cb45-3287" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_3PSM_outcome_mental &lt;- </span></span>
<span id="cb45-3288"><a href="#cb45-3288" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-3289"><a href="#cb45-3289" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb45-3290"><a href="#cb45-3290" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-3291"><a href="#cb45-3291" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-3292"><a href="#cb45-3292" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-3293"><a href="#cb45-3293" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-3294"><a href="#cb45-3294" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = 0.025,</span></span>
<span id="cb45-3295"><a href="#cb45-3295" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-3296"><a href="#cb45-3296" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-3297"><a href="#cb45-3297" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-3298"><a href="#cb45-3298" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-3299"><a href="#cb45-3299" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ outcome_type + prereg_c - 1,</span></span>
<span id="cb45-3300"><a href="#cb45-3300" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-3301"><a href="#cb45-3301" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3302"><a href="#cb45-3302" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3303"><a href="#cb45-3303" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3304"><a href="#cb45-3304" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_3PSM_outcome_mental, "Bootstrap results/mod_3PSM_outcome_mental.rds")</span></span>
<span id="cb45-3305"><a href="#cb45-3305" aria-hidden="true" tabindex="-1"></a>mod_3PSM_outcome_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_3PSM_outcome_mental.rds"</span>)</span>
<span id="cb45-3306"><a href="#cb45-3306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3307"><a href="#cb45-3307" aria-hidden="true" tabindex="-1"></a><span class="co">#selection_plot(mod_3PSM_overall)</span></span>
<span id="cb45-3308"><a href="#cb45-3308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3309"><a href="#cb45-3309" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(multisession, workers = cores)</span></span>
<span id="cb45-3310"><a href="#cb45-3310" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3311"><a href="#cb45-3311" aria-hidden="true" tabindex="-1"></a><span class="co">#mod_4PSM_outcome_mental &lt;- </span></span>
<span id="cb45-3312"><a href="#cb45-3312" aria-hidden="true" tabindex="-1"></a><span class="co">#  metaselection::selection_model(</span></span>
<span id="cb45-3313"><a href="#cb45-3313" aria-hidden="true" tabindex="-1"></a><span class="co">#    data = mental_ma_dat, </span></span>
<span id="cb45-3314"><a href="#cb45-3314" aria-hidden="true" tabindex="-1"></a><span class="co">#    yi = gt_pop,</span></span>
<span id="cb45-3315"><a href="#cb45-3315" aria-hidden="true" tabindex="-1"></a><span class="co">#    sei = Wse_pop,</span></span>
<span id="cb45-3316"><a href="#cb45-3316" aria-hidden="true" tabindex="-1"></a><span class="co">#    cluster = study,</span></span>
<span id="cb45-3317"><a href="#cb45-3317" aria-hidden="true" tabindex="-1"></a><span class="co">#    selection_type = "step",</span></span>
<span id="cb45-3318"><a href="#cb45-3318" aria-hidden="true" tabindex="-1"></a><span class="co">#    steps = c(0.025, 0.500),</span></span>
<span id="cb45-3319"><a href="#cb45-3319" aria-hidden="true" tabindex="-1"></a><span class="co">#    estimator = "CML",</span></span>
<span id="cb45-3320"><a href="#cb45-3320" aria-hidden="true" tabindex="-1"></a><span class="co">#    vcov_type = "robust",</span></span>
<span id="cb45-3321"><a href="#cb45-3321" aria-hidden="true" tabindex="-1"></a><span class="co">#    CI_type = "percentile",</span></span>
<span id="cb45-3322"><a href="#cb45-3322" aria-hidden="true" tabindex="-1"></a><span class="co">#    bootstrap = "two-stage",</span></span>
<span id="cb45-3323"><a href="#cb45-3323" aria-hidden="true" tabindex="-1"></a><span class="co">#    mean_mods = ~ outcome_type + prereg_c - 1,</span></span>
<span id="cb45-3324"><a href="#cb45-3324" aria-hidden="true" tabindex="-1"></a><span class="co">#    R = 1999</span></span>
<span id="cb45-3325"><a href="#cb45-3325" aria-hidden="true" tabindex="-1"></a><span class="co">#  )</span></span>
<span id="cb45-3326"><a href="#cb45-3326" aria-hidden="true" tabindex="-1"></a><span class="co">#plan(sequential)</span></span>
<span id="cb45-3327"><a href="#cb45-3327" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb45-3328"><a href="#cb45-3328" aria-hidden="true" tabindex="-1"></a><span class="co">#saveRDS(mod_4PSM_outcome_mental, "Bootstrap results/mod_4PSM_outcome_mental.rds")</span></span>
<span id="cb45-3329"><a href="#cb45-3329" aria-hidden="true" tabindex="-1"></a>mod_4PSM_outcome_mental <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"Bootstrap results/mod_4PSM_outcome_mental.rds"</span>)</span>
<span id="cb45-3330"><a href="#cb45-3330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3331"><a href="#cb45-3331" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3332"><a href="#cb45-3332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3333"><a href="#cb45-3333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3334"><a href="#cb45-3334" aria-hidden="true" tabindex="-1"></a><span class="in">```{r tab-metaselection-mental}</span></span>
<span id="cb45-3335"><a href="#cb45-3335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3336"><a href="#cb45-3336" aria-hidden="true" tabindex="-1"></a>PSM3_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3337"><a href="#cb45-3337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-3338"><a href="#cb45-3338" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Cluster selmodel (3PSM)"</span>,</span>
<span id="cb45-3339"><a href="#cb45-3339" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-3340"><a href="#cb45-3340" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(mental_ma_dat),</span>
<span id="cb45-3341"><a href="#cb45-3341" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-3342"><a href="#cb45-3342" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(mod_3PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb45-3343"><a href="#cb45-3343" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-3344"><a href="#cb45-3344" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_3PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-3345"><a href="#cb45-3345" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-3346"><a href="#cb45-3346" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_3PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-3347"><a href="#cb45-3347" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-3348"><a href="#cb45-3348" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-3349"><a href="#cb45-3349" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-3350"><a href="#cb45-3350" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">sqrt</span>(mod_3PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq),</span>
<span id="cb45-3351"><a href="#cb45-3351" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-3352"><a href="#cb45-3352" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau,</span>
<span id="cb45-3353"><a href="#cb45-3353" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb45-3354"><a href="#cb45-3354" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="cn">NA_real_</span></span>
<span id="cb45-3355"><a href="#cb45-3355" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3356"><a href="#cb45-3356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3357"><a href="#cb45-3357" aria-hidden="true" tabindex="-1"></a>PSM4_tab_res_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3358"><a href="#cb45-3358" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-3359"><a href="#cb45-3359" aria-hidden="true" tabindex="-1"></a>    <span class="at">test =</span> <span class="st">"Cluster selmodel (4PSM)"</span>,</span>
<span id="cb45-3360"><a href="#cb45-3360" aria-hidden="true" tabindex="-1"></a>    <span class="at">J =</span> <span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study),</span>
<span id="cb45-3361"><a href="#cb45-3361" aria-hidden="true" tabindex="-1"></a>    <span class="at">K =</span> <span class="fu">nrow</span>(mental_ma_dat),</span>
<span id="cb45-3362"><a href="#cb45-3362" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">paste0</span>(</span>
<span id="cb45-3363"><a href="#cb45-3363" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(<span class="fu">as.numeric</span>(mod_4PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span>]), <span class="dv">3</span>), </span>
<span id="cb45-3364"><a href="#cb45-3364" aria-hidden="true" tabindex="-1"></a>      <span class="st">" ["</span>, </span>
<span id="cb45-3365"><a href="#cb45-3365" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_4PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-3366"><a href="#cb45-3366" aria-hidden="true" tabindex="-1"></a>      <span class="st">", "</span>,</span>
<span id="cb45-3367"><a href="#cb45-3367" aria-hidden="true" tabindex="-1"></a>      <span class="fu">round</span>(mod_4PSM_overall_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span>], <span class="dv">3</span>),</span>
<span id="cb45-3368"><a href="#cb45-3368" aria-hidden="true" tabindex="-1"></a>      <span class="st">"]"</span></span>
<span id="cb45-3369"><a href="#cb45-3369" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-3370"><a href="#cb45-3370" aria-hidden="true" tabindex="-1"></a>    <span class="at">pval =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-3371"><a href="#cb45-3371" aria-hidden="true" tabindex="-1"></a>    <span class="at">tau =</span> <span class="fu">sqrt</span>(mod_4PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq),</span>
<span id="cb45-3372"><a href="#cb45-3372" aria-hidden="true" tabindex="-1"></a>    <span class="at">omega =</span> <span class="cn">NA_real_</span>,</span>
<span id="cb45-3373"><a href="#cb45-3373" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_SD =</span> tau,</span>
<span id="cb45-3374"><a href="#cb45-3374" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda1 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>),</span>
<span id="cb45-3375"><a href="#cb45-3375" aria-hidden="true" tabindex="-1"></a>    <span class="at">lambda2 =</span> <span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_overall_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)</span>
<span id="cb45-3376"><a href="#cb45-3376" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3377"><a href="#cb45-3377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3378"><a href="#cb45-3378" aria-hidden="true" tabindex="-1"></a><span class="co"># Prereg</span></span>
<span id="cb45-3379"><a href="#cb45-3379" aria-hidden="true" tabindex="-1"></a>PSM3_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3380"><a href="#cb45-3380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-3381"><a href="#cb45-3381" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-3382"><a href="#cb45-3382" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb45-3383"><a href="#cb45-3383" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-3384"><a href="#cb45-3384" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3385"><a href="#cb45-3385" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-3386"><a href="#cb45-3386" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-3387"><a href="#cb45-3387" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>), </span>
<span id="cb45-3388"><a href="#cb45-3388" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-3389"><a href="#cb45-3389" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-3390"><a href="#cb45-3390" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-3391"><a href="#cb45-3391" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-3392"><a href="#cb45-3392" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-3393"><a href="#cb45-3393" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3394"><a href="#cb45-3394" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3395"><a href="#cb45-3395" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3396"><a href="#cb45-3396" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3397"><a href="#cb45-3397" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-3398"><a href="#cb45-3398" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3399"><a href="#cb45-3399" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-3400"><a href="#cb45-3400" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-3401"><a href="#cb45-3401" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-3402"><a href="#cb45-3402" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-3403"><a href="#cb45-3403" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3404"><a href="#cb45-3404" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM3"</span></span>
<span id="cb45-3405"><a href="#cb45-3405" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3406"><a href="#cb45-3406" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3407"><a href="#cb45-3407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3408"><a href="#cb45-3408" aria-hidden="true" tabindex="-1"></a>PSM4_prereg_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3409"><a href="#cb45-3409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-3410"><a href="#cb45-3410" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-3411"><a href="#cb45-3411" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Not preregistered"</span>, <span class="st">"Preregistered"</span>, </span>
<span id="cb45-3412"><a href="#cb45-3412" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-3413"><a href="#cb45-3413" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3414"><a href="#cb45-3414" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-3415"><a href="#cb45-3415" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-3416"><a href="#cb45-3416" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>), </span>
<span id="cb45-3417"><a href="#cb45-3417" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-3418"><a href="#cb45-3418" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-3419"><a href="#cb45-3419" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-3420"><a href="#cb45-3420" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_prereg_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="dv">3</span>),</span>
<span id="cb45-3421"><a href="#cb45-3421" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-3422"><a href="#cb45-3422" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3423"><a href="#cb45-3423" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3424"><a href="#cb45-3424" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3425"><a href="#cb45-3425" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3426"><a href="#cb45-3426" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-3427"><a href="#cb45-3427" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3428"><a href="#cb45-3428" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_prereg_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-3429"><a href="#cb45-3429" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-3430"><a href="#cb45-3430" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-3431"><a href="#cb45-3431" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-3432"><a href="#cb45-3432" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3433"><a href="#cb45-3433" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM4"</span></span>
<span id="cb45-3434"><a href="#cb45-3434" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3435"><a href="#cb45-3435" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3436"><a href="#cb45-3436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3437"><a href="#cb45-3437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3438"><a href="#cb45-3438" aria-hidden="true" tabindex="-1"></a><span class="co"># Outcome</span></span>
<span id="cb45-3439"><a href="#cb45-3439" aria-hidden="true" tabindex="-1"></a>PSM3_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3440"><a href="#cb45-3440" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-3441"><a href="#cb45-3441" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-3442"><a href="#cb45-3442" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb45-3443"><a href="#cb45-3443" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-3444"><a href="#cb45-3444" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3445"><a href="#cb45-3445" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-3446"><a href="#cb45-3446" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-3447"><a href="#cb45-3447" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>), </span>
<span id="cb45-3448"><a href="#cb45-3448" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-3449"><a href="#cb45-3449" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>),</span>
<span id="cb45-3450"><a href="#cb45-3450" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-3451"><a href="#cb45-3451" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_3PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>),</span>
<span id="cb45-3452"><a href="#cb45-3452" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-3453"><a href="#cb45-3453" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3454"><a href="#cb45-3454" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3455"><a href="#cb45-3455" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_3PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3456"><a href="#cb45-3456" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3457"><a href="#cb45-3457" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-3458"><a href="#cb45-3458" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3459"><a href="#cb45-3459" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_3PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-3460"><a href="#cb45-3460" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-3461"><a href="#cb45-3461" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-3462"><a href="#cb45-3462" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-3463"><a href="#cb45-3463" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3464"><a href="#cb45-3464" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM3"</span></span>
<span id="cb45-3465"><a href="#cb45-3465" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3466"><a href="#cb45-3466" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3467"><a href="#cb45-3467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3468"><a href="#cb45-3468" aria-hidden="true" tabindex="-1"></a>PSM4_outcome_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3469"><a href="#cb45-3469" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb45-3470"><a href="#cb45-3470" aria-hidden="true" tabindex="-1"></a>    <span class="at">coefficient =</span> <span class="fu">c</span>(</span>
<span id="cb45-3471"><a href="#cb45-3471" aria-hidden="true" tabindex="-1"></a>      hyema_outcome_mental<span class="sc">$</span>Parameter[<span class="sc">-</span><span class="dv">5</span>], </span>
<span id="cb45-3472"><a href="#cb45-3472" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wald test p value"</span>, <span class="st">"lambda1"</span>, <span class="st">"lambda2"</span>, <span class="st">"tau"</span>, <span class="st">"omega"</span>, <span class="st">"Total SD"</span>, <span class="st">"Studies"</span>, <span class="st">"Effects"</span></span>
<span id="cb45-3473"><a href="#cb45-3473" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3474"><a href="#cb45-3474" aria-hidden="true" tabindex="-1"></a>    <span class="at">est_ci =</span> <span class="fu">c</span>(</span>
<span id="cb45-3475"><a href="#cb45-3475" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(</span>
<span id="cb45-3476"><a href="#cb45-3476" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>Est[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>), </span>
<span id="cb45-3477"><a href="#cb45-3477" aria-hidden="true" tabindex="-1"></a>        <span class="st">" ["</span>, </span>
<span id="cb45-3478"><a href="#cb45-3478" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_lower[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>),</span>
<span id="cb45-3479"><a href="#cb45-3479" aria-hidden="true" tabindex="-1"></a>        <span class="st">", "</span>,</span>
<span id="cb45-3480"><a href="#cb45-3480" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(mod_4PSM_outcome_mental<span class="sc">$</span>est<span class="sc">$</span>percentile_upper[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>], <span class="dv">3</span>),</span>
<span id="cb45-3481"><a href="#cb45-3481" aria-hidden="true" tabindex="-1"></a>        <span class="st">"]"</span></span>
<span id="cb45-3482"><a href="#cb45-3482" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb45-3483"><a href="#cb45-3483" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3484"><a href="#cb45-3484" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">2</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3485"><a href="#cb45-3485" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">unique</span>(mod_4PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>lambda_full[,<span class="dv">3</span>]), <span class="dv">3</span>)),</span>
<span id="cb45-3486"><a href="#cb45-3486" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-3487"><a href="#cb45-3487" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_character_</span>,</span>
<span id="cb45-3488"><a href="#cb45-3488" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">round</span>(<span class="fu">sqrt</span>(mod_4PSM_outcome_mental<span class="sc">$</span>predictions<span class="sc">$</span>tausq), <span class="dv">3</span>)),</span>
<span id="cb45-3489"><a href="#cb45-3489" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">n_distinct</span>(mental_ma_dat<span class="sc">$</span>study)),</span>
<span id="cb45-3490"><a href="#cb45-3490" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.character</span>(<span class="fu">nrow</span>(mental_ma_dat))</span>
<span id="cb45-3491"><a href="#cb45-3491" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-3492"><a href="#cb45-3492" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3493"><a href="#cb45-3493" aria-hidden="true" tabindex="-1"></a>    <span class="at">method =</span> <span class="st">"PSM4"</span></span>
<span id="cb45-3494"><a href="#cb45-3494" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-3495"><a href="#cb45-3495" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3496"><a href="#cb45-3496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3497"><a href="#cb45-3497" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3498"><a href="#cb45-3498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3499"><a href="#cb45-3499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3500"><a href="#cb45-3500" aria-hidden="true" tabindex="-1"></a>#Publication and small study bias tests for overall average effects</span>
<span id="cb45-3501"><a href="#cb45-3501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3502"><a href="#cb45-3502" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reintegration</span></span>
<span id="cb45-3503"><a href="#cb45-3503" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-overall-eff-reint}</span></span>
<span id="cb45-3504"><a href="#cb45-3504" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-overall-eff-reint</span></span>
<span id="cb45-3505"><a href="#cb45-3505" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Overall average effect size estimates corrected for publication bias"</span></span>
<span id="cb45-3506"><a href="#cb45-3506" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb45-3507"><a href="#cb45-3507" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb45-3508"><a href="#cb45-3508" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb45-3509"><a href="#cb45-3509" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb45-3510"><a href="#cb45-3510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3511"><a href="#cb45-3511" aria-hidden="true" tabindex="-1"></a>overall_pub_bias_tab <span class="ot">&lt;-</span> </span>
<span id="cb45-3512"><a href="#cb45-3512" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb45-3513"><a href="#cb45-3513" aria-hidden="true" tabindex="-1"></a>    hyema_tab_res,</span>
<span id="cb45-3514"><a href="#cb45-3514" aria-hidden="true" tabindex="-1"></a>    puniform_tab_res,</span>
<span id="cb45-3515"><a href="#cb45-3515" aria-hidden="true" tabindex="-1"></a>    wc_tab_res,</span>
<span id="cb45-3516"><a href="#cb45-3516" aria-hidden="true" tabindex="-1"></a>    iscw_tab_res,</span>
<span id="cb45-3517"><a href="#cb45-3517" aria-hidden="true" tabindex="-1"></a>    pet_peese_tab_res,</span>
<span id="cb45-3518"><a href="#cb45-3518" aria-hidden="true" tabindex="-1"></a>    PSM3_tab_res,</span>
<span id="cb45-3519"><a href="#cb45-3519" aria-hidden="true" tabindex="-1"></a>    PSM4_tab_res</span>
<span id="cb45-3520"><a href="#cb45-3520" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-3521"><a href="#cb45-3521" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3522"><a href="#cb45-3522" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-3523"><a href="#cb45-3523" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(pval<span class="sc">:</span>total_SD, <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>))</span>
<span id="cb45-3524"><a href="#cb45-3524" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3525"><a href="#cb45-3525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3526"><a href="#cb45-3526" aria-hidden="true" tabindex="-1"></a>gt_tab_overall <span class="ot">&lt;-</span> </span>
<span id="cb45-3527"><a href="#cb45-3527" aria-hidden="true" tabindex="-1"></a>  overall_pub_bias_tab <span class="sc">|&gt;</span> </span>
<span id="cb45-3528"><a href="#cb45-3528" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3529"><a href="#cb45-3529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb45-3530"><a href="#cb45-3530" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb45-3531"><a href="#cb45-3531" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb45-3532"><a href="#cb45-3532" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3533"><a href="#cb45-3533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3534"><a href="#cb45-3534" aria-hidden="true" tabindex="-1"></a>gt_tab_overall</span>
<span id="cb45-3535"><a href="#cb45-3535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3536"><a href="#cb45-3536" aria-hidden="true" tabindex="-1"></a><span class="co">#gt_tab_overall |&gt; gtsave("Tables/overall publication bias table.docx")</span></span>
<span id="cb45-3537"><a href="#cb45-3537" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3538"><a href="#cb45-3538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3539"><a href="#cb45-3539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3540"><a href="#cb45-3540" aria-hidden="true" tabindex="-1"></a><span class="fu">## Mental health</span></span>
<span id="cb45-3541"><a href="#cb45-3541" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-overall-eff-mental}</span></span>
<span id="cb45-3542"><a href="#cb45-3542" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-overall-eff-mental</span></span>
<span id="cb45-3543"><a href="#cb45-3543" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Overall average mental health effect size estimates corrected for publication bias"</span></span>
<span id="cb45-3544"><a href="#cb45-3544" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb45-3545"><a href="#cb45-3545" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb45-3546"><a href="#cb45-3546" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb45-3547"><a href="#cb45-3547" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb45-3548"><a href="#cb45-3548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3549"><a href="#cb45-3549" aria-hidden="true" tabindex="-1"></a>overall_pub_bias_tab_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3550"><a href="#cb45-3550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb45-3551"><a href="#cb45-3551" aria-hidden="true" tabindex="-1"></a>    hyema_tab_res_mental,</span>
<span id="cb45-3552"><a href="#cb45-3552" aria-hidden="true" tabindex="-1"></a>    puniform_tab_res_mental,</span>
<span id="cb45-3553"><a href="#cb45-3553" aria-hidden="true" tabindex="-1"></a>    wc_tab_res_mental,</span>
<span id="cb45-3554"><a href="#cb45-3554" aria-hidden="true" tabindex="-1"></a>    iscw_tab_res_mental,</span>
<span id="cb45-3555"><a href="#cb45-3555" aria-hidden="true" tabindex="-1"></a>    pet_peese_tab_res_mental,</span>
<span id="cb45-3556"><a href="#cb45-3556" aria-hidden="true" tabindex="-1"></a>    PSM3_tab_res_mental,</span>
<span id="cb45-3557"><a href="#cb45-3557" aria-hidden="true" tabindex="-1"></a>    PSM4_tab_res_mental</span>
<span id="cb45-3558"><a href="#cb45-3558" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb45-3559"><a href="#cb45-3559" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3560"><a href="#cb45-3560" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-3561"><a href="#cb45-3561" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(pval<span class="sc">:</span>total_SD, <span class="sc">~</span> <span class="fu">round</span>(.x, <span class="dv">3</span>))</span>
<span id="cb45-3562"><a href="#cb45-3562" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3563"><a href="#cb45-3563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3564"><a href="#cb45-3564" aria-hidden="true" tabindex="-1"></a>gt_tab_overall_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3565"><a href="#cb45-3565" aria-hidden="true" tabindex="-1"></a>  overall_pub_bias_tab_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-3566"><a href="#cb45-3566" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3567"><a href="#cb45-3567" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb45-3568"><a href="#cb45-3568" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb45-3569"><a href="#cb45-3569" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb45-3570"><a href="#cb45-3570" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3571"><a href="#cb45-3571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3572"><a href="#cb45-3572" aria-hidden="true" tabindex="-1"></a>gt_tab_overall_mental</span>
<span id="cb45-3573"><a href="#cb45-3573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3574"><a href="#cb45-3574" aria-hidden="true" tabindex="-1"></a><span class="co">#gt_tab_overall_mental |&gt; gtsave("Tables/overall publication bias table mental.docx")</span></span>
<span id="cb45-3575"><a href="#cb45-3575" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3576"><a href="#cb45-3576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3577"><a href="#cb45-3577" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb45-3578"><a href="#cb45-3578" aria-hidden="true" tabindex="-1"></a><span class="fu"># Publication and small study bias tests across type of registration</span></span>
<span id="cb45-3579"><a href="#cb45-3579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3580"><a href="#cb45-3580" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reintegration</span></span>
<span id="cb45-3581"><a href="#cb45-3581" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-prereg-reint}</span></span>
<span id="cb45-3582"><a href="#cb45-3582" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-prereg-reint</span></span>
<span id="cb45-3583"><a href="#cb45-3583" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Preregistration subgroup estimates corrected for publication bias"</span></span>
<span id="cb45-3584"><a href="#cb45-3584" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb45-3585"><a href="#cb45-3585" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb45-3586"><a href="#cb45-3586" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb45-3587"><a href="#cb45-3587" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb45-3588"><a href="#cb45-3588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3589"><a href="#cb45-3589" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias <span class="ot">&lt;-</span> </span>
<span id="cb45-3590"><a href="#cb45-3590" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb45-3591"><a href="#cb45-3591" aria-hidden="true" tabindex="-1"></a>  wc_prereg_tab,</span>
<span id="cb45-3592"><a href="#cb45-3592" aria-hidden="true" tabindex="-1"></a>  che_iscw_prereg_tab,</span>
<span id="cb45-3593"><a href="#cb45-3593" aria-hidden="true" tabindex="-1"></a>  che_pet_prereg_tab,</span>
<span id="cb45-3594"><a href="#cb45-3594" aria-hidden="true" tabindex="-1"></a>  PSM3_prereg_tab,</span>
<span id="cb45-3595"><a href="#cb45-3595" aria-hidden="true" tabindex="-1"></a>  PSM4_prereg_tab</span>
<span id="cb45-3596"><a href="#cb45-3596" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb45-3597"><a href="#cb45-3597" aria-hidden="true" tabindex="-1"></a><span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3598"><a href="#cb45-3598" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> est_ci)</span>
<span id="cb45-3599"><a href="#cb45-3599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3600"><a href="#cb45-3600" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_gt <span class="ot">&lt;-</span> </span>
<span id="cb45-3601"><a href="#cb45-3601" aria-hidden="true" tabindex="-1"></a>  prereg_tab_pub_bias  <span class="sc">|&gt;</span> </span>
<span id="cb45-3602"><a href="#cb45-3602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3603"><a href="#cb45-3603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb45-3604"><a href="#cb45-3604" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb45-3605"><a href="#cb45-3605" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb45-3606"><a href="#cb45-3606" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3607"><a href="#cb45-3607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3608"><a href="#cb45-3608" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_gt</span>
<span id="cb45-3609"><a href="#cb45-3609" aria-hidden="true" tabindex="-1"></a><span class="co">#prereg_tab_pub_bias_gt |&gt; </span></span>
<span id="cb45-3610"><a href="#cb45-3610" aria-hidden="true" tabindex="-1"></a><span class="co">#gtsave(file = "Tables/Publication bias table across preregistration status.docx")</span></span>
<span id="cb45-3611"><a href="#cb45-3611" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3612"><a href="#cb45-3612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3613"><a href="#cb45-3613" aria-hidden="true" tabindex="-1"></a><span class="fu">## Mental health</span></span>
<span id="cb45-3614"><a href="#cb45-3614" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-prereg-mental}</span></span>
<span id="cb45-3615"><a href="#cb45-3615" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-prereg-mental</span></span>
<span id="cb45-3616"><a href="#cb45-3616" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Preregistration subgroup estimates corrected for publication bias (mental health outcomes)"</span></span>
<span id="cb45-3617"><a href="#cb45-3617" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb45-3618"><a href="#cb45-3618" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb45-3619"><a href="#cb45-3619" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb45-3620"><a href="#cb45-3620" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb45-3621"><a href="#cb45-3621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3622"><a href="#cb45-3622" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3623"><a href="#cb45-3623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb45-3624"><a href="#cb45-3624" aria-hidden="true" tabindex="-1"></a>  wc_prereg_tab_mental,</span>
<span id="cb45-3625"><a href="#cb45-3625" aria-hidden="true" tabindex="-1"></a>  che_iscw_prereg_tab_mental,</span>
<span id="cb45-3626"><a href="#cb45-3626" aria-hidden="true" tabindex="-1"></a>  che_pet_prereg_tab_mental,</span>
<span id="cb45-3627"><a href="#cb45-3627" aria-hidden="true" tabindex="-1"></a>  PSM3_prereg_tab_mental,</span>
<span id="cb45-3628"><a href="#cb45-3628" aria-hidden="true" tabindex="-1"></a>  PSM4_prereg_tab_mental</span>
<span id="cb45-3629"><a href="#cb45-3629" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb45-3630"><a href="#cb45-3630" aria-hidden="true" tabindex="-1"></a><span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3631"><a href="#cb45-3631" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> est_ci)</span>
<span id="cb45-3632"><a href="#cb45-3632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3633"><a href="#cb45-3633" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_gt_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3634"><a href="#cb45-3634" aria-hidden="true" tabindex="-1"></a>  prereg_tab_pub_bias_mental  <span class="sc">|&gt;</span> </span>
<span id="cb45-3635"><a href="#cb45-3635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3636"><a href="#cb45-3636" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb45-3637"><a href="#cb45-3637" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb45-3638"><a href="#cb45-3638" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb45-3639"><a href="#cb45-3639" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3640"><a href="#cb45-3640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3641"><a href="#cb45-3641" aria-hidden="true" tabindex="-1"></a>prereg_tab_pub_bias_gt_mental</span>
<span id="cb45-3642"><a href="#cb45-3642" aria-hidden="true" tabindex="-1"></a><span class="co">#prereg_tab_pub_bias_gt_mental |&gt; </span></span>
<span id="cb45-3643"><a href="#cb45-3643" aria-hidden="true" tabindex="-1"></a><span class="co">#gtsave(file = "Tables/Publication bias table across preregistration status mental.docx")</span></span>
<span id="cb45-3644"><a href="#cb45-3644" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3645"><a href="#cb45-3645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3646"><a href="#cb45-3646" aria-hidden="true" tabindex="-1"></a><span class="fu"># Publication and small study bias tests across types of outcomes</span></span>
<span id="cb45-3647"><a href="#cb45-3647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3648"><a href="#cb45-3648" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reintegration</span></span>
<span id="cb45-3649"><a href="#cb45-3649" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-outcome-reint}</span></span>
<span id="cb45-3650"><a href="#cb45-3650" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-outcome-reint</span></span>
<span id="cb45-3651"><a href="#cb45-3651" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Outcome subgroup estimates corrected for publication bias"</span></span>
<span id="cb45-3652"><a href="#cb45-3652" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb45-3653"><a href="#cb45-3653" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb45-3654"><a href="#cb45-3654" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb45-3655"><a href="#cb45-3655" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb45-3656"><a href="#cb45-3656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3657"><a href="#cb45-3657" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias <span class="ot">&lt;-</span> </span>
<span id="cb45-3658"><a href="#cb45-3658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb45-3659"><a href="#cb45-3659" aria-hidden="true" tabindex="-1"></a>  hyema_outcome_tab,</span>
<span id="cb45-3660"><a href="#cb45-3660" aria-hidden="true" tabindex="-1"></a>  wc_outcome_tab,</span>
<span id="cb45-3661"><a href="#cb45-3661" aria-hidden="true" tabindex="-1"></a>  che_iscw_outcome_tab,</span>
<span id="cb45-3662"><a href="#cb45-3662" aria-hidden="true" tabindex="-1"></a>  che_pet_outcome_tab,</span>
<span id="cb45-3663"><a href="#cb45-3663" aria-hidden="true" tabindex="-1"></a>  PSM3_outcome_tab,</span>
<span id="cb45-3664"><a href="#cb45-3664" aria-hidden="true" tabindex="-1"></a>  PSM4_outcome_tab</span>
<span id="cb45-3665"><a href="#cb45-3665" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb45-3666"><a href="#cb45-3666" aria-hidden="true" tabindex="-1"></a><span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3667"><a href="#cb45-3667" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> est_ci)</span>
<span id="cb45-3668"><a href="#cb45-3668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3669"><a href="#cb45-3669" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_gt <span class="ot">&lt;-</span> </span>
<span id="cb45-3670"><a href="#cb45-3670" aria-hidden="true" tabindex="-1"></a>  outcome_tab_pub_bias <span class="sc">|&gt;</span> </span>
<span id="cb45-3671"><a href="#cb45-3671" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3672"><a href="#cb45-3672" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb45-3673"><a href="#cb45-3673" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb45-3674"><a href="#cb45-3674" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb45-3675"><a href="#cb45-3675" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3676"><a href="#cb45-3676" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-3677"><a href="#cb45-3677" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_gt</span>
<span id="cb45-3678"><a href="#cb45-3678" aria-hidden="true" tabindex="-1"></a><span class="co">#outcome_tab_pub_bias_gt |&gt; gtsave(file = "Tables/Publication bias table across outcomes.docx")</span></span>
<span id="cb45-3679"><a href="#cb45-3679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3680"><a href="#cb45-3680" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3681"><a href="#cb45-3681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3682"><a href="#cb45-3682" aria-hidden="true" tabindex="-1"></a><span class="fu">## Mental health</span></span>
<span id="cb45-3683"><a href="#cb45-3683" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pub-bias-tab-outcome-mental}</span></span>
<span id="cb45-3684"><a href="#cb45-3684" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tab-pub-bias-tab-outcome-mental</span></span>
<span id="cb45-3685"><a href="#cb45-3685" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Mental health outcome subgroup estimates corrected for publication bias"</span></span>
<span id="cb45-3686"><a href="#cb45-3686" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.width: 9</span></span>
<span id="cb45-3687"><a href="#cb45-3687" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.height: 6</span></span>
<span id="cb45-3688"><a href="#cb45-3688" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig.retina: 2</span></span>
<span id="cb45-3689"><a href="#cb45-3689" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb45-3690"><a href="#cb45-3690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3691"><a href="#cb45-3691" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3692"><a href="#cb45-3692" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb45-3693"><a href="#cb45-3693" aria-hidden="true" tabindex="-1"></a>  hyema_outcome_tab_mental,</span>
<span id="cb45-3694"><a href="#cb45-3694" aria-hidden="true" tabindex="-1"></a>  wc_outcome_tab_mental,</span>
<span id="cb45-3695"><a href="#cb45-3695" aria-hidden="true" tabindex="-1"></a>  che_iscw_outcome_tab_mental,</span>
<span id="cb45-3696"><a href="#cb45-3696" aria-hidden="true" tabindex="-1"></a>  che_pet_outcome_tab_mental,</span>
<span id="cb45-3697"><a href="#cb45-3697" aria-hidden="true" tabindex="-1"></a>  PSM3_outcome_tab_mental,</span>
<span id="cb45-3698"><a href="#cb45-3698" aria-hidden="true" tabindex="-1"></a>  PSM4_outcome_tab_mental</span>
<span id="cb45-3699"><a href="#cb45-3699" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb45-3700"><a href="#cb45-3700" aria-hidden="true" tabindex="-1"></a><span class="fu">list_rbind</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3701"><a href="#cb45-3701" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> method, <span class="at">values_from =</span> est_ci)</span>
<span id="cb45-3702"><a href="#cb45-3702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3703"><a href="#cb45-3703" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_gt_mental <span class="ot">&lt;-</span> </span>
<span id="cb45-3704"><a href="#cb45-3704" aria-hidden="true" tabindex="-1"></a>  outcome_tab_pub_bias_mental <span class="sc">|&gt;</span> </span>
<span id="cb45-3705"><a href="#cb45-3705" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3706"><a href="#cb45-3706" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub_missing</span>(</span>
<span id="cb45-3707"><a href="#cb45-3707" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">everything</span>(),   </span>
<span id="cb45-3708"><a href="#cb45-3708" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing_text =</span> <span class="st">""</span>         </span>
<span id="cb45-3709"><a href="#cb45-3709" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-3710"><a href="#cb45-3710" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb45-3711"><a href="#cb45-3711" aria-hidden="true" tabindex="-1"></a>outcome_tab_pub_bias_gt_mental</span>
<span id="cb45-3712"><a href="#cb45-3712" aria-hidden="true" tabindex="-1"></a><span class="co">#outcome_tab_pub_bias_gt_mental |&gt; gtsave(file = "Tables/Publication bias table across outcomes mental.docx")</span></span>
<span id="cb45-3713"><a href="#cb45-3713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3714"><a href="#cb45-3714" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3715"><a href="#cb45-3715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3716"><a href="#cb45-3716" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb45-3717"><a href="#cb45-3717" aria-hidden="true" tabindex="-1"></a><span class="fu"># References</span></span>
<span id="cb45-3718"><a href="#cb45-3718" aria-hidden="true" tabindex="-1"></a>Dalgaard, N. T., Flensborg Jensen, M. C., Bengtsen, E., Krassel, K. F., &amp; Vembye, M. H. (2025) Groupbased community interventions to support the social reintegration of marginalised adults with mental illness. A Systematic Review and meta-analysus. *Campbell Systematic Reviews*, 18(3), e1254. https://doi.org/10.1002/cl2.1254</span>
<span id="cb45-3719"><a href="#cb45-3719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3720"><a href="#cb45-3720" aria-hidden="true" tabindex="-1"></a>::: {.callout-note icon=false appearance="simple" title="Session Information" collapse=true}</span>
<span id="cb45-3721"><a href="#cb45-3721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3722"><a href="#cb45-3722" aria-hidden="true" tabindex="-1"></a><span class="fu">## Session Information</span></span>
<span id="cb45-3723"><a href="#cb45-3723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3726"><a href="#cb45-3726" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb45-3727"><a href="#cb45-3727" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb45-3728"><a href="#cb45-3728" aria-hidden="true" tabindex="-1"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>()</span>
<span id="cb45-3729"><a href="#cb45-3729" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb45-3730"><a href="#cb45-3730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3731"><a href="#cb45-3731" aria-hidden="true" tabindex="-1"></a>:::</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>